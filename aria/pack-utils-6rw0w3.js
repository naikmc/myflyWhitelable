/*
 * Copyright 2009-2015 Amadeus s.a.s.
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
//***MULTI-PART
//*******************
//LOGICAL-PATH:aria/DomEvent.js
//*******************
var e=require("./Aria"),t=require("./core/Browser");!function(){var i,a,r={target:"srcElement",type:"type",clientX:"clientX",clientY:"clientY",altKey:"altKey",ctrlKey:"ctrlKey",shiftKey:"shiftKey",pageX:"pageX",pageY:"pageY",relatedTarget:"relatedTarget",button:"button",direction:"direction",distance:"distance",duration:"duration",startX:"startX",startY:"startY",endX:"endX",endY:"endY",detail:"detail",wheelDelta:"wheelDelta",wheelDeltaX:"wheelDeltaX",wheelDeltaY:"wheelDeltaY",screenX:"screenX",screenY:"screenY",touches:"touches",changedTouches:"changedTouches",targetTouches:"targetTouches",isPrimary:"isPrimary"},n={focusin:"focus",focusout:"blur",dommousescroll:"mousewheel",webkitanimationstart:"animationstart",oanimationstart:"animationstart",msanimationstart:"animationstart",webkitanimationiteration:"animationiteration",oanimationiteration:"animationiteration",msanimationiteration:"animationiteration",webkitanimationend:"animationend",oanimationend:"animationend",msanimationend:"animationend",webkittransitionend:"transitionend",otransitionend:"transitionend",mstransitionend:"transitionend"},o=function(e){return e=e.toLowerCase(),n[e]||e};module.exports=e.classDefinition({$classpath:"aria.DomEvent",$onload:function(){i=t.isIE7||t.isIE8,a=!(t.isIE||t.isOpera||t.isChrome||t.isSafari||t.isPhantomJS)},$constructor:function(t){var n=null!=t.$DomEvent;if(!n&&i&&e.$window.event){t=e.$window.event;for(var s in r)r.hasOwnProperty(s)&&(this[s]=t[r[s]]);"mouseout"==t.type?this.relatedTarget=t.toElement:"mouseover"==t.type&&(this.relatedTarget=t.fromElement)}else for(var s in r)r.hasOwnProperty(s)&&(this[s]=t[s]);if(this.type=o(t.type),this.charCode=0,this.keyCode=0,"keydown"==this.type||"keyup"==this.type)this.keyCode=t.keyCode,this.isSpecialKey=this.isSpecialKey(this.keyCode,t);else if("keypress"==this.type){var C=t.keyCode||t.charCode,_=a&&t.keyCode;this.keyCode=C,_||(this.keyCode=C,C>32&&38>C&&(this.keyCode=C+16),38==C&&(this.keyCode=55),40==C&&(this.keyCode=57),C>41&&48>C&&(this.keyCode=C+64),C>47&&58>C&&(this.keyCode=C+48),C>96&&123>C&&(this.keyCode=C-32)),this.charCode=C,this.isSpecialKey=this.isSpecialKey(this.keyCode,t)}this.hasStopPropagation=!1,this.hasPreventDefault=!1,this.preventDefault=t.preventDefault?function(e){this.hasPreventDefault=!0,t.preventDefault(),e===!0&&this.stopPropagation()}:function(e){this.hasPreventDefault=!0,t.returnValue=!1,e===!0&&this.stopPropagation()},this.stopPropagation=t.stopPropagation?function(){this.hasStopPropagation=!0,t.stopPropagation()}:function(){this.hasStopPropagation=!0,t.cancelBubble=!0},this._dispose=function(){t=null,this.preventDefault=null,this.stopPropagation=null}},$destructor:function(){this._dispose&&(this.target=null,this.delegateTarget=null,this._dispose())},$prototype:{_ariaDomEvent:!0,_wrapperNumber:0,disposeWrapper:function(){0===this._wrapperNumber?this.$dispose():this._wrapperNumber--},setTarget:function(e){this.target=e}},$statics:{getWrapper:function(e){return e&&e._ariaDomEvent?(e._wrapperNumber++,e):new aria.DomEvent(e)},KC_BACKSPACE:8,KC_TAB:9,KC_NUM_CENTER:12,KC_ENTER:13,KC_RETURN:13,KC_SHIFT:16,KC_CTRL:17,KC_CONTROL:17,KC_ALT:18,KC_PAUSE:19,KC_CAPS_LOCK:20,KC_ESCAPE:27,KC_SPACE:32,KC_PAGEUP:33,KC_PAGE_UP:33,KC_PAGEDOWN:34,KC_PAGE_DOWN:34,KC_END:35,KC_HOME:36,KC_LEFT:37,KC_ARROW_LEFT:37,KC_UP:38,KC_ARROW_UP:38,KC_RIGHT:39,KC_ARROW_RIGHT:39,KC_DOWN:40,KC_ARROW_DOWN:40,KC_PRINT_SCREEN:44,KC_INSERT:45,KC_DELETE:46,KC_ZERO:48,KC_ONE:49,KC_TWO:50,KC_THREE:51,KC_FOUR:52,KC_FIVE:53,KC_SIX:54,KC_SEVEN:55,KC_EIGHT:56,KC_NINE:57,KC_A:65,KC_B:66,KC_C:67,KC_D:68,KC_E:69,KC_F:70,KC_G:71,KC_H:72,KC_I:73,KC_J:74,KC_K:75,KC_L:76,KC_M:77,KC_N:78,KC_O:79,KC_P:80,KC_Q:81,KC_R:82,KC_S:83,KC_T:84,KC_U:85,KC_V:86,KC_W:87,KC_X:88,KC_Y:89,KC_Z:90,KC_CONTEXT_MENU:93,KC_NUM_ZERO:96,KC_NUM_ONE:97,KC_NUM_TWO:98,KC_NUM_THREE:99,KC_NUM_FOUR:100,KC_NUM_FIVE:101,KC_NUM_SIX:102,KC_NUM_SEVEN:103,KC_NUM_EIGHT:104,KC_NUM_NINE:105,KC_MULTIPLY:106,KC_PLUS:107,KC_MINUS:109,KC_PERIOD:110,KC_DIVISION:111,KC_DIVIDE:111,KC_F1:112,KC_F2:113,KC_F3:114,KC_F4:115,KC_F5:116,KC_F6:117,KC_F7:118,KC_F8:119,KC_F9:120,KC_F10:121,KC_F11:122,KC_F12:123,isSpecialKey:function(e,t){return e>32&&41>e?!0:8==e||9==e||13==e||27==e?!0:45==e||46==e?!1:t.ctrlKey&&e!=this.KC_CTRL?!0:t.altKey&&e!=this.KC_ALT?!0:!1},isNavigationKey:function(e){return e>32&&41>e?!0:9==e||13==e||27==e?!0:!1},getFakeEvent:function(e,t){var i=new aria.DomEvent({type:e});return i.type=e,i.target=t,i}}})}();
//*******************
//LOGICAL-PATH:aria/core/log/AjaxAppender.js
//*******************
var t=require("../../Aria"),e=require("../IO"),i=require("../../utils/Json");module.exports=t.classDefinition({$classpath:"aria.core.log.AjaxAppender",$constructor:function(t,e,i){this._logStack=[],this._lastLogSent=0,this.minimumInterval=e||3e3,this.minimumLogNb=i||5,this.url=t},$prototype:{_stackLogObject:function(t,e,i){var a={classpath:t,msg:e,level:i,time:(new Date).getTime()};this._logStack.push(a),this._processStack()},_processStack:function(){var t=(new Date).getTime();this._logStack.length>this.minimumLogNb&&t>this._lastLogSent+this.minimumInterval&&(this._lastLogSent=(new Date).getTime(),this._sendStack(),this._logStack=[])},_sendStack:function(){var t=i.convertToJsonString({logs:this._logStack},{maxDepth:4});e.asyncRequest({sender:{classpath:this.$classpath},url:this.url,method:"POST",data:t,callback:{fn:this._stackSent,scope:this}})},_stackSent:function(){},debug:function(t,e){this._stackLogObject(t,e,"debug")},info:function(t,e){this._stackLogObject(t,e,"info")},warn:function(t,e){this._stackLogObject(t,e,"warn")},error:function(t,e,i,a){this._stackLogObject(t,e+this._formatException(a),"error")},_formatException:function(t){var e="";return"undefined"==typeof t||null==t?e:(e="\nException",e+="\n---------------------------------------------------",t.fileName&&(e+="\nFile: "+t.fileName),t.lineNumber&&(e+="\nLine: "+t.lineNumber),t.message&&(e+="\nMessage: "+t.message),t.name&&(e+="\nError: "+t.name),t.stack&&(e+="\nStack:\n"+t.stack.substring(0,200)+" [...] Truncated stacktrace."),e+="\n---------------------------------------------------\n")}}});
//*******************
//LOGICAL-PATH:aria/core/log/DivAppender.js
//*******************
var t=require("../../Aria");module.exports=t.classDefinition({$classpath:"aria.core.log.DivAppender",$constructor:function(t){this.div=t,t.innerHTML="<h2>Logs</h2>",this.groupSpacer=""},$destructor:function(){this.div=null},$prototype:{_inspectObject:function(t){var e="";if(t&&"object"==typeof t){e+="<blockquote>";for(var i in t)"function"!=typeof t[i]&&(e+=i+" > "+t[i]+"<br />");e+="</blockquote>"}return e},_escapeHTML:function(t){return t.replace(/</g,"&lt;")},_showSeparator:function(){},debug:function(t,e,i,a){this._showSeparator(),this._write("<p>DEBUG</p><p>"+this.groupSpacer+"<em>"+t+"</em> "+this._escapeHTML(e)+"</p>"),this._write(this._inspectObject(a)),this._scrollDown()},info:function(t,e,i,a){this._showSeparator(),this._write("<p style='background-color:#ECEFF4;'>INFO</p><p>"+this.groupSpacer+"<em>"+t+"</em> "+this._escapeHTML(e)+"</p>"),this._write(this._inspectObject(a)),this._scrollDown()},warn:function(t,e,i,a){this._showSeparator(),this._write("<p style='background-color:orange;'>WARN</p><p>"+this.groupSpacer+"<em>"+t+"</em> "+this._escapeHTML(e)+"</p>"),this._write(this._inspectObject(a)),this._scrollDown()},error:function(t,e,i,a){this._showSeparator(),this._write("<p style='background-color:red;'>ERROR</p><p>"+this.groupSpacer+"<em>"+t+"</em> "+this._escapeHTML(e)+"</p>"),this._write(this._inspectObject(a)),this._scrollDown()},_scrollDown:function(){this.div.style.scrollTop=1e7},_write:function(t){this.div.innerHTML+=t}}});
//*******************
//LOGICAL-PATH:aria/core/log/SilentArrayAppender.js
//*******************
var t=require("../../Aria");module.exports=t.classDefinition({$classpath:"aria.core.log.SilentArrayAppender",$constructor:function(){this.logs=[]},$destructor:function(){this.logs=[]},$prototype:{isEmpty:function(){return 0===this.logs.length},empty:function(){this.logs=[]},getLogs:function(){return this.logs},setLogs:function(t){this.logs=t},_saveLog:function(t){this.logs.push(t)},debug:function(t,e,i,r){this._saveLog({level:"debug",msg:e,className:t,msgId:i,objOrErr:r})},info:function(t,e,i,r){this._saveLog({level:"info",msg:e,className:t,msgId:i,objOrErr:r})},warn:function(t,e,i,r){this._saveLog({level:"warn",msg:e,className:t,msgId:i,objOrErr:r})},error:function(t,e,i,r){this._saveLog({level:"error",msg:e,className:t,msgId:i,objOrErr:r})}}});
//*******************
//LOGICAL-PATH:aria/core/log/WindowAppender.js
//*******************
var t=require("../../Aria");module.exports=t.classDefinition({$classpath:"aria.core.log.WindowAppender",$constructor:function(){this.w=t.$frameworkWindow.open("about:blank","logger"),this.w.document.body.innerHTML+="<em>WindowAppender</em><hr/>",this.groupSpacer=""},$destructor:function(){this.w=null},$prototype:{_inspectObject:function(t){var e="";if(t&&"object"==typeof t){e+="<blockquote>";for(var i in t)"function"!=typeof t[i]&&(e+=i+" > "+t[i]+"<br />");e+="</blockquote>"}return e},_escapeHTML:function(t){return t.replace(/</g,"&lt;")},_showSeparator:function(){this.w.document.body.innerHTML+="<hr />"},debug:function(t,e,i,o){this._showSeparator(),this.w.document.body.innerHTML+="<p>"+this.groupSpacer+"<em>"+t+"</em> "+this._escapeHTML(e)+"</p>",this.w.document.body.innerHTML+=this._inspectObject(o),this._scrollDown()},info:function(t,e,i,o){this._showSeparator(),this.w.document.body.innerHTML+="<p style='background-color:#ECEFF4;'>"+this.groupSpacer+"<em>"+t+"</em> "+this._escapeHTML(e)+"</p>",this.w.document.body.innerHTML+=this._inspectObject(o),this._scrollDown()},warn:function(t,e,i,o){this._showSeparator(),this.w.document.body.innerHTML+="<p style='background-color:orange;'>"+this.groupSpacer+"<em>"+t+"</em> "+this._escapeHTML(e)+"</p>",this.w.document.body.innerHTML+=this._inspectObject(o),this._scrollDown()},error:function(t,e){this._showSeparator(),this.w.document.body.innerHTML+="<p style='background-color:red;'>"+this.groupSpacer+"<em>"+t+"</em> "+this._escapeHTML(e)+"</p>",this._scrollDown()},_scrollDown:function(){this.w.scroll(0,1e7)}}});
//*******************
//LOGICAL-PATH:aria/utils/$History.js
//*******************
var e=require("../Aria"),t=require("noder-js/asyncRequire").create(module),i=function(){var t=e.$window.history;if(t&&t.pushState)try{return void 0!==t.state}catch(i){return!0}return!1},r=function(){return i()?{isHtml5HistoryAvailable:!0,hashManager:null,arrayUtil:null}:{isHtml5HistoryAvailable:!1,hashManager:module.require("./HashManager"),arrayUtil:module.require("./Array")}};r.$preload=function(){return i()?void 0:t("./HashManager","./Array")},module.exports={getDependencies:r};
//*******************
//LOGICAL-PATH:aria/utils/Callback.js
//*******************
var t=require("../Aria"),e=require("./Type");module.exports=t.classDefinition({$classpath:"aria.utils.Callback",$statics:{INVALID_CALLBACK:"The callback function is invalid or missing or it was called after $dispose."},$constructor:function(t){t=this.$normCallback(t);var i=e.isFunction(t.fn);this._scope=i?t.scope:this,this._function=i?t.fn:this._warnDisposed,this._args=t.args,this._resIndex=t.resIndex,this._apply=t.apply},$destructor:function(){this._scope=this,this._function=this._warnDisposed,this._args=null},$prototype:{call:function(t){var i=this._apply===!0&&e.isArray(this._args)?this._args.slice():[this._args],r=void 0===this._resIndex?0:this._resIndex;return r>-1&&i.splice(r,0,t),this._function.apply(this._scope,i)},_warnDisposed:function(){this.$logError(this.INVALID_CALLBACK)},apply:function(t){this.call(t)}}});
//*******************
//LOGICAL-PATH:aria/utils/Event.js
//*******************
var e=require("../Aria"),t=require("./Type"),i=require("./Callback"),r=require("../core/Browser");!function(){var n="focusin",s="focusout",o=[],a=2,l=3,c=0,u=1,h=null,p=null,_=4,d=5,f=6;module.exports=e.classDefinition({$classpath:"aria.utils.Event",$singleton:!0,$statics:{INVALID_TARGET:"Unable to add '%2' event on element %1"},$constructor:function(){this.typesUtil=t,this.UA=r;var e=this;this._unload=function(t){e._unloadEvent(t)}},$destructor:function(){this.reset(),this._unload=null},$prototype:{reset:function(){p&&(p=null,this._simpleRemove(e.$window,"unload",this._unload));for(var t=o.length-1;t>=0;t--){var i=o[t];i&&this.removeListener(i[c],i[u],i[a],t)}},_checkUnloadListeners:function(){null==p&&(p=[],this._simpleAdd(e.$window,"unload",this._unload))},_unloadEvent:function(e){for(var t=p.slice(),i=0,r=t.length;r>i;++i){var n=t[i];n&&(n[d].call(this.getEvent(e)),t[i]=null,n=null)}t=null},addListenerRecursivelyUp:function(e,t,i,r,n){for(var s=!1,o=e.parentElement||e.parentNode;null!=o;)(!n||n(o))&&(s=this.addListener(o,t,i,r)||s),o=o.parentElement||o.parentNode;return s},removeListenerRecursivelyUp:function(e,t,i,r){for(var n=!1,s=e.parentElement||e.parentNode;null!=s;)(!r||r(s))&&(n=this.removeListener(s,t,i)||n),s=s.parentElement||s.parentNode;return n},addListener:function(t,i,r,o,a,l){if(!r)return!1;"mousewheel"==i&&(this.UA.isIE?t==e.$window&&(t=t.document):this.UA.isOpera||this.UA.isSafari||this.UA.isWebkit||(i="DOMMouseScroll")),this.typesUtil.isFunction(r)||(l=o);var c=i!=n&&i!=s||this.UA.ie?l:!0;return this._addListener(t,this._getType(i),r,o,a,c)},_simpleAdd:function(){if(e.$window){if(e.$window.addEventListener)return function(e,t,i,r){e.addEventListener(t,i,r)};if(e.$window.attachEvent)return function(e,t,i){e.attachEvent("on"+t,i)}}return function(){}}(),_addListener:function(t,n,s,a,l,c){if(this._isValidCollection(t)){for(var u=!0,h=0,_=t.length;_>h;++h)u=this._addListener(t[h],n,s,a,l,c)&&u;return u}if(this.typesUtil.isString(t)){var d=e.$window.document.getElementById(t);if(!d)return this.$logError(this.INVALID_TARGET,[t,n]),t=d,!1;t=d}if(!this.typesUtil.isHTMLElement(t))return!1;var f=s;if(!s.$Callback){if(!f.fn||!this.typesUtil.isFunction(f.fn))return!1;f.scope||(f.scope=t)}var m=s;s.$Callback||(m=new i(f));var g;if("mousemove"==n&&r.isWebkit){var C=null;g=function(e){e=aria.utils.Event.getEvent(e,t);var i=e.pageX,r=e.pageY,n="";if(e.touches)for(var s=0;s<e.touches.length;s+=1)n+=e.touches[s].pageX+"."+e.touches[s].pageY+"|";return!C||C.x!==i||C.y!==r||n&&n!==C.touches?(C={x:i,y:r,touches:n},m.call(e)):void 0}}else g=function(e){return"click"!=e.type&&"mousedown"!=e.type&&"touchend"!=e.type||!aria.touch||!aria.touch.ClickBuster||aria.touch.ClickBuster.preventGhostClick(e)?m.call(aria.utils.Event.getEvent(e,t)):void 0};var v=function(){m={call:e.empty},g=null,v=null,y=null,t=null},y=[t,n,s,g,c,m,v];if("unload"==n&&l!==this)return this._checkUnloadListeners(),p[p.length]=y,!0;var w=o.length;o[w]=y;try{this._simpleAdd(t,n,g,c)}catch(K){return this.$logError(this.INVALID_TARGET,[t,n],K),this.removeListener(t,n,s),!1}return!0},_isValidCollection:function(e){try{return e&&"string"!=typeof e&&e.length&&!e.tagName&&!e.alert&&"undefined"!=typeof e[0]}catch(t){return!1}},getEvent:function(t){var i=t||e.$window.event;if(!i)for(var r=e.$window.Event,n=this.getEvent.caller;n&&(i=n.arguments[0],!i||r!=i.constructor);)n=n.caller;return i},_getType:function(e){return this._specialTypes[e]||e},_specialTypes:{focusin:r.isOldIE?"focusin":"focus",focusout:r.isOldIE?"focusout":"blur"},removeListener:function(i,r,n){var s,c;if("mousewheel"==r&&(this.UA.isOldIE?i==e.$window&&(i=i.document):this.UA.isOpera||this.UA.isSafari||(r="DOMMouseScroll")),r=this._getType(r),this.typesUtil.isString(i)){if(i=e.$window.document.getElementById(i),!i)return!1}else if(this._isValidCollection(i)){var u=!0;for(s=i.length-1;s>-1;s--)u=this.removeListener(i[s],r,n)&&u;return u}if(!n||!n.call&&!n.fn)return this.purgeElement(i,!1,r);if("unload"==r){if(p)for(s=p.length-1;s>-1;s--){c=p[s];var m;if(m=c&&t.isObject(c[a])&&!c[a].$Callback?"fn"in n&&c[a].fn==n.fn:c[a]==n,c&&c[0]==i&&c[1]==r&&m)return c[a]!=c[d]&&c[d].$dispose(),c[f](),delete c[f],p.splice(s,1),!0}return!1}var g=null,C=arguments[3];if("undefined"==typeof C&&(C=this._getCacheIndex(o,i,r,n)),C>=0&&(g=o[C]),!i||!g)return!1;var v=g[_]===!0?!0:!1;try{this._simpleRemove(i,r,g[l],v)}catch(y){return h=y,!1}return delete o[C][l],o[C][a]!=o[C][d]&&o[C][d].$dispose(),o[C][f](),delete o[C][f],o.splice(C,1),!0},_getCacheIndex:function(e,t,i,r){for(var n,s=0,o=e.length;o>s;s+=1){var l=e[s];if(n=l&&this.typesUtil.isObject(l[a])&&!l[a].$Callback?"fn"in r&&l[a].fn==r.fn:l[a]==r,l&&n&&l[c]==t&&l[u]==i)return s}return-1},_simpleRemove:function(){if(e.$window){if(e.$window.removeEventListener)return function(e,t,i,r){e.removeEventListener(t,i,r)};if(e.$window.detachEvent)return function(e,t,i){e.detachEvent("on"+t,i)}}return function(){}}(),purgeElement:function(t,i,r){var n,s,o=this.typesUtil.isString(t)?e.$window.document.getElementById(t):t,a=this.getListeners(o,r);if(a)for(n=a.length-1;n>-1;n--){var l=a[n];this.removeListener(o,l.type,l.fn)}if(i&&o&&o.childNodes)for(n=0,s=o.childNodes.length;s>n;++n)this.purgeElement(o.childNodes[n],i,r)},getListeners:function(t,i){var r,n=[];i?"unload"===i?r=[p]:(i=this._getType(i),r=[o]):r=[o,p];for(var s=this.typesUtil.isString(t)?e.$window.document.getElementById(t):t,l=0;l<r.length;l+=1){var h=r[l];if(h)for(var _=0,d=h.length;d>_;++_){var f=h[_];!f||f[c]!==s||i&&i!==f[u]||n.push({type:f[u],fn:f[a],index:_})}}return n.length?n:null}}})}();
//*******************
//LOGICAL-PATH:aria/utils/AriaWindow.js
//*******************
var t=require("../Aria"),e=require("./Event");module.exports=t.classDefinition({$classpath:"aria.utils.AriaWindow",$singleton:!0,$constructor:function(){this._windowUsages=0},$destructor:function(){this._unloadWindow()},$events:{attachWindow:"",unloadWindow:"",detachWindow:""},$statics:{NEGATIVE_WINDOW_USAGES:"Calls to attachWindow/detachWindow lead to a negative counter: %1. The counter will be reset to 0.",WINDOW_STILL_USED_AFTER_UNLOAD:"Counter is not null after raising unloadWindow: %1. The counter will be reset to 0.",ALREADY_UNLOADING_WINDOW:"Aria.$window is already being unloaded."},$prototype:{attachWindow:function(){this._windowUsages++,1===this._windowUsages&&(e.addListener(t.$window,"unload",{fn:this._unloadWindow,scope:this}),this.$raiseEvent("attachWindow"))},detachWindow:function(){this._windowUsages<=0?this.$logError(this.NEGATIVE_WINDOW_USAGES,[this._windowUsages-1]):this._windowUsages--,0!==this._windowUsages||this._isUnloadingWindow||this._raiseDetachWindow()},_raiseDetachWindow:function(){this.$assert(42,0===this._windowUsages),this.$raiseEvent("detachWindow"),e.removeListener(t.$window,"unload",{fn:this._unloadWindow,scope:this}),e.reset()},_unloadWindow:function(){if(this._isUnloadingWindow)return void this.$logError(this.ALREADY_UNLOADING_WINDOW);if(this.isWindowUsed()){this._isUnloadingWindow=!0;try{this.$raiseEvent("unloadWindow"),this._windowUsages>0&&(this.$logError(this.WINDOW_STILL_USED_AFTER_UNLOAD,[this._windowUsages]),this._windowUsages=0),this._raiseDetachWindow()}finally{this._isUnloadingWindow=!1}}},setWindow:function(e){e!==t.$window&&(this._unloadWindow(),t.$window=e)},isWindowUsed:function(){return this._windowUsages>0}}});
//*******************
//LOGICAL-PATH:aria/utils/Beans.js
//*******************
var e=require("../Aria"),t=require("../core/JsonTypes"),i=require("../core/environment/EnvironmentBaseCfgBeans");module.exports=e.beanDefinitions({$package:"aria.utils.Beans",$namespaces:{json:t,environmentBase:i},$beans:{options:{$type:"json:Object",$properties:{referenceDate:{$type:"json:Date"},inputPattern:{$type:"environmentBase:inputFormatTypes"}}}}});
//*******************
//LOGICAL-PATH:aria/utils/Bridge.js
//*******************
var t=require("../Aria"),e=require("./AriaWindow"),i=require("./Json");module.exports=t.classDefinition({$classpath:"aria.utils.Bridge",$events:{forwardEvent:""},$constructor:function(){this._subWindow=null,this.isOpen=!1,this._config=null,this._moduleCtrlRef=null,this._rootTplCtxtRef=null,this._bridgeAttachedInterval=!1},$destructor:function(){this.close(),this._subWindow=null},$prototype:{open:function(n,r){if(!this._subWindow&&(r||(r="width=1024, height=800"),this._subWindow=t.$frameworkWindow.open("",n.title+(""+(new Date).getTime()),r),null!=this._subWindow)){for(var s,o,a,l,c,u=t.$frameworkWindow.document.getElementsByTagName("script"),h=t.rootFolderPath,d=0,p=u.length;p>d;d++)if(s=u[d],s.attributes&&s.attributes.src){if(o=s.attributes.src.nodeValue,a=/aria\/(aria-?templates-([^\/]+)\.js)/.exec(o),a&&a.length>1){l=a[1],c="atskin-"+a[2]+".js";break}if(/aria\/bootstrap.js/.test(o)){l="bootstrap.js",c="atskin.js";break}}if(h.match(/dev\/$/)&&(h=h.substring(0,h.length-4)),!l)return!1;var _=500,f="",w=["<!DOCTYPE html>\n","<html><head><title>"+n.title+"</title>","<script type='text/javascript'>Aria = { _xxDebug: true, rootFolderPath : '"+h+f+"' };</script>","<script language='JavaScript' src='",h+f+"aria/"+l,"'></script>",aria.widgets&&aria.widgets.AriaSkin?["<script type='text/javascript'>","Aria['classDefinition']({$classpath : 'aria.widgets.AriaSkin',","$singleton : true,","$prototype : window.aria.utils.Json.copy(",i.convertToJsonString(aria.widgets.AriaSkin.classDefinition.$prototype),")","});</script>"].join(""):["<script language='JavaScript' src='",h+"aria/css/"+c,"'></script>"].join(""),"</head>","<body onUnload='window.__atBridge&&__atBridge.close()' style='overflow:hidden;'>","<div id='main'><h3 id='main_title' style='text-align:center;margin-top:200px;'>Starting.</h3></div>","<script type='text/javascript'>var appStart = function () {","if (window.Aria && window.Aria.loadTemplate && window.__atBridge) { window.__atBridge.moduleStart.call(window.__atBridge);}","else { document.getElementById('main_title').innerHTML += '.'; setTimeout(appStart, "+_+");}}; appStart();","</script>","</body></html>"].join("");this._subWindow.document.write(w),this._subWindow.document.close();var g=this;this._bridgeAttachedInterval=setInterval(function(){g._subWindow?g._subWindow.__atBridge=g:clearInterval(g._bridgeAttachedInterval)},2e3),this._config=n,e.attachWindow(),e.$on({unloadWindow:this._onMainWindowUnload,scope:this})}},_onMainWindowUnload:function(){this.close()},moduleStart:function(){var t=this._subWindow.Aria;clearInterval(this._bridgeAttachedInterval),t.setRootDim({width:{min:16},height:{min:16}}),t.load({classes:["aria.templates.ModuleCtrlFactory"],oncomplete:{fn:this._templatesReady,scope:this}})},_templatesReady:function(){var t=this._subWindow.aria;t.templates.ModuleCtrlFactory.createModuleCtrl({classpath:this._config.moduleCtrlClasspath,autoDispose:!1,initArgs:{bridge:this}},{fn:this._moduleLoaded,scope:this},!1)},_moduleLoaded:function(t){var e=this._subWindow.Aria,i=t.moduleCtrlPrivate;e.loadTemplate({classpath:this._config.displayClasspath,div:"main",moduleCtrl:i,width:{min:16},height:{min:16}},{fn:this._displayLoaded,scope:this}),this._moduleCtrlRef=i,this.isOpen=!0},_displayLoaded:function(t){this._rootTplCtxtRef=t.templateCtxt},close:function(){this.isOpen&&(this._moduleCtrlRef&&(this._moduleCtrlRef.$dispose(),this._moduleCtrlRef=null),this._rootTplCtxtRef&&(this._rootTplCtxtRef.$dispose(),this._rootTplCtxtRef=null),this._subWindow.close(),this._subWindow=null,e.$unregisterListeners(this),e.detachWindow(),this.isOpen=!1)},getDocument:function(){return t.$window.document},getAriaPackage:function(){return aria},getAria:function(){return t}}});
//*******************
//LOGICAL-PATH:aria/utils/IdManager.js
//*******************
var t=require("../Aria");require("./Array"),module.exports=t.classDefinition({$classpath:"aria.utils.IdManager",$constructor:function(t){this._freeIdMap={},this._idCounter=0,this.prefix=t||""},$destructor:function(){this._freeIdMap=null},$prototype:{getId:function(){for(var t in this._freeIdMap)if(this._freeIdMap.hasOwnProperty(t))return delete this._freeIdMap[t],t;var e=this.prefix+this._idCounter;return this._idCounter++,e},releaseId:function(t){t&&(this._freeIdMap[t]=!0)}}});
//*******************
//LOGICAL-PATH:aria/utils/CSSLoader.js
//*******************
var t=require("../Aria"),e=require("./IdManager"),i=require("./Type"),r=require("./Object"),n=require("../core/DownloadMgr");module.exports=t.classDefinition({$classpath:"aria.utils.CSSLoader",$singleton:!0,$statics:{TAG_PREFIX:"xCss",DEFAULT_MEDIA:"all"},$constructor:function(){this._store={},this._idManager=new e(this.TAG_PREFIX)},$destructor:function(){this.removeAll(),this._store=null,this._idManager.$dispose()},$prototype:{add:function(t,e){e=e||this.DEFAULT_MEDIA,i.isString(t)&&(t=[t]);for(var r,n,s=[],a=0,o=t.length;o>a;a++)if(r=t[a],n=this._getStoreId(r,e),this._store[n])this._store[n].count++,s.push(this._store[n].tag);else{var l=this._addLinkTag(r,e,this._idManager.getId());s.push(l),this._store[n]={count:1,tag:l}}return s},remove:function(t,e){e=e||this.DEFAULT_MEDIA,i.isString(t)&&(t=[t]);for(var r,n,s=0,a=t.length;a>s;s++)r=t[s],n=this._getStoreId(r,e),this._remove(n)},_remove:function(t,e){var i,r=this._store[t];r&&(!e&&r.count>1?r.count--:(i=r.tag,i.parentNode.removeChild(i),i=null,delete this._store[t]))},removeAll:function(){for(var t=r.keys(this._store),e=0,i=t.length;i>e;e++)this._remove(t[e],!0)},_addLinkTag:function(e,i,r){var s=t.$window.document,a=s.getElementsByTagName("head")[0],o=s.createElement("link");return o.id=r,o.type="text/css",o.media=i,o.rel="stylesheet",o.href=n.resolveURL(e),a.appendChild(o),o=a.lastChild},_getStoreId:function(t,e){return[t,"_",e].join("")}}});
//*******************
//LOGICAL-PATH:aria/utils/Caret.js
//*******************
var t=require("../Aria");module.exports=t.classDefinition({$classpath:"aria.utils.Caret",$singleton:!0,$prototype:{getPosition:function(e){var i={start:0,end:0};if("selectionStart"in e)i.start=e.selectionStart,i.end=e.selectionEnd;else{var r=t.$window.document;if(r.selection){var n=r.selection.createRange(),s=n.text.length;n.moveStart("character",-e.value.length);var a=n.text.length;i.start=a-s,i.end=a}}return i},setPosition:function(e,i,r){if("selectionStart"in e)e.selectionStart=i,e.selectionEnd=r;else{var n=t.$window.document;if(n.selection){var s=e.createTextRange();s.moveStart("character",i),s.moveEnd("character",-e.value.length+r),s.select()}}},select:function(t){var e=0,i=t.value.length?t.value.length:0;i&&this.setPosition(t,e,i)}}});
//*******************
//LOGICAL-PATH:aria/utils/ClassList.js
//*******************
var t=require("../Aria");module.exports=t.classDefinition({$classpath:"aria.utils.ClassList",$constructor:function(t){this.setClassName=function(e){t.className=e},this.getClassName=function(){return t.className},this._dispose=function(){t=null,this._dispose=null}},$destructor:function(){this._dispose&&this._dispose()},$prototype:{add:function(t){this._replace(!1,t)},remove:function(t){this._replace(t,!1)},toggle:function(t){this.contains(t)?this.remove(t):this.add(t)},contains:function(t){for(var e=this.getClassName().split(" "),i=0,r=e.length;r>i;i++)if(e[i]==t)return!0;return!1},_replace:function(t,e){var i=[],r=[];t&&(i="string"==typeof t?t.split(" "):t),e&&(r="string"==typeof e?e.split(" "):e);for(var n=this.getClassName(),s=!1,a=n?n.split(" "):[],o=a.length-1;o>=0;o-=1)if(a[o]){for(var l=r.length-1;l>=0;l-=1)a[o]==r[l]&&a.splice(o,1);for(var c=i.length-1;c>=0;c-=1)a[o]==i[c]&&(a.splice(o,1),s=!0)}else a.splice(o,1);(s||0!==r.length)&&(a.push.apply(a,r),this.setClassName(a.join(" ")))},setClassName:function(){},getClassName:function(){}}});
//*******************
//LOGICAL-PATH:aria/utils/Path.js
//*******************
var t=require("../Aria"),e=require("./String"),i=require("./Type");module.exports=t.classDefinition({$classpath:"aria.utils.Path",$singleton:!0,$statics:{WRONG_PATH_SYNTAX:"Syntax for path %1 is not valid. Note that variables cannot be used in paths.",RESOLVE_FAIL:"Resolve for path %1 failed, root element does not contain this path"},$prototype:{setValue:function(t,e,r){var n=i;if(t&&e&&n.isObject(t)&&(n.isString(e)&&(e=this.parse(e)),n.isArray(e)&&!n.isNumber(e[0])))for(var s,a,o=t,l=0,c=e.length;c>l;l+=1)s=e[l],l===c-1?o[s]=r:(a=e[l+1],n.isNumber(a)&&!n.isArray(o[s])&&(o[s]=[]),!n.isString(a)||n.isObject(o[s])&&s in o||(o[s]={}),o=o[s])},resolve:function(e,r){if(i.isString(e)&&(e=this.parse(e)),r=r?r:t.$window,i.isArray(e)){for(var n,s=0,a=e.length;a>s;s++)if(n=e[s],r=r[n],!r&&s!=a-1)throw{error:this.RESOLVE_FAIL,args:[e],object:r};return r}throw{error:this.RESOLVE_FAIL,args:[e],object:r}},parse:function(t){return this._paramParse("."+t)},_paramParse:function(t){if(!t)return[];var i,r,n,s,a=t.charAt(0);if("["==a){if(i=t.indexOf("]"),-1!=i){if(r=t.substring(1,i),n=t.substring(i+1),/^\d+$/.test(r))return s=this._paramParse(n),s.unshift(parseInt(r,10)),s;var o=r.charAt(0),l=e;if(("'"==o||'"'==o)&&l.indexOfNotEscaped(r,o,1)==r.length-1)return s=this._paramParse(n),s.unshift(r.substring(1,r.length-1).replace(new RegExp("\\\\"+o,"gi"),o)),s}}else if("."==a&&(r=/^[_A-z\$]\w*/.exec(t.substring(1)),r.length))return r=r[0],n=t.substring(r.length+1),s=this._paramParse(n),s.unshift(r),s;throw{error:this.WRONG_PATH_SYNTAX,args:[t]}},pathArrayToString:function(t){for(var e=[t[0]],i=1,r=t.length;r>i;i++)e.push('["'+(""+t[i]).replace(/"/gi,'\\"')+'"]');return e.join("")},describe:function(t,e){var r=i;if(t&&e&&r.isObject(t)&&(r.isString(e)&&(e=this.parse(e)),r.isArray(e)&&!r.isNumber(e[0])))for(var n,s=t,a=0,o=e.length;o>a;a+=1){if(n=e[a],r.isNumber(n)&&!r.isArray(s))return null;if(!(!r.isString(n)||r.isObject(s)&&n in s))return null;if(a===o-1)return{container:s,property:n,value:s[n]};s=s[n]}}}});
//*******************
//LOGICAL-PATH:aria/utils/Data.js
//*******************
var t=require("../Aria"),e=require("./Type"),i=require("./Path"),r=require("./Json"),s=require("../core/JsObject"),a=require("./Array");module.exports=t.classDefinition({$classpath:"aria.utils.Data",$extends:s,$singleton:!0,$constructor:function(){this.utilsType=e,this.utilsArray=a,this.errorNbrKey=this.NBROF_PREFIX+this.TYPE_ERROR},$statics:{NBROF_PREFIX:"nbrOf",META_PREFIX:t.FRAMEWORK_PREFIX+"meta::",TYPE_FATAL:"F",TYPE_ERROR:"E",TYPE_WARNING:"W",TYPE_INFO:"I",TYPE_NOTYPE:"N",TYPE_CRITICAL_WARNING:"C",TYPE_CONFIRMATION:"O",DATA_NO_PARAMETER_TO_CONTAINER:"Parameter %1 is not defined in container:",RESOLVE_FAIL:"Resolve for path %1 failed, root element does not contain this path",INVALID_VALIDATOR_GROUP_PARAMETER:"The validation group parameter must be an array.",DATA_UTIL_ERROR_MESSAGE_WRONG_TYPE:"listOfMessages property has to be an array."},$prototype:{_getMeta:function(t,e,i){var s=this.META_PREFIX+e,a=t[s];return a||(a={},i===!1?t[s]=a:r.setValue(t,s,a)),a},getValidator:function(t,e){var i=this._getMeta(t,e);return i?r.getValue(i,"validator"):null},getFrameworkMessage:function(t,e){var i=this._getMeta(t,e);return this.utilsType.isArray(i.formatErrorMessages)?i.formatErrorMessages:null},setValidatorProperties:function(t,e,i){if(i&&(t.eventToValidate=i),this.utilsType.isArray(e)&&e.length)for(var r,s=0;r=e[s];s++)t.groups.push(r);else this.utilsType.isString(e)&&null!=e&&this.$logError(this.INVALID_VALIDATOR_GROUP_PARAMETER)},setValidator:function(t,e,i,s,a){var n;this.setValidatorProperties(i,s,a),(this.utilsType.isObject(t)||this.utilsType.isArray(t))&&e in t?(n=this._getMeta(t,e),r.setValue(n,"validator",i)):this.$logError(this.DATA_NO_PARAMETER_TO_CONTAINER,[e],t)},unsetValidator:function(t,e){this.setValidator(t,e)},createMessage:function(t,e,i,r,s){var a=this.TYPE_ERROR,n={errorMessage:t,type:i||a,localizedMessage:e||t,code:r||null};return s&&(n.subMessages=s),n},addMessage:function(t,e,i,s,a){var n=r;if(a=a!==!1,this.utilsType.isObject(e)&&(this._updateCounters(t,e),e.listOfMessages?this.utilsType.isArray(e.listOfMessages)||this.$logError(this.DATA_UTIL_ERROR_MESSAGE_WRONG_TYPE):e.listOfMessages=[],a&&e.listOfMessages.push(t),t.subMessages))for(var o,l=0;o=t.subMessages[l];l++)this.addMessage(o,e,null,null,!1);if(i&&s){var u=this._getMeta(i,s),c=n.copy(u.errorMessages);null==c?c=[t.localizedMessage]:c.push(t.localizedMessage),n.setValue(u,"errorMessages",c),n.setValue(u,"error",!0)}},_updateCounters:function(t,e){var i=this.NBROF_PREFIX+t.type;e[i]?e[i]++:e[i]=1},_processMessagesArray:function(t,e,i,r){for(var s,a=0;a<t.length;a++)s=t[a],this._updateCounters(s,e),s.metaDataRef=r,s.type==this.TYPE_ERROR&&i.push(s.localizedMessage),s.subMessages&&this._processMessagesArray(s.subMessages,e,i,r)},checkGroup:function(t,e){if(!e)return!0;if(this.utilsType.isString(e)&&null!=e)this.$logError(this.INVALID_VALIDATOR_GROUP_PARAMETER);else if(this.utilsType.isArray(e)&&e.length)for(var i,r=0;i=e[r];r++)if(this.utilsArray.contains(t,i))return!0;return!1},checkEventToValidate:function(t,e){return!e||t===e},validateValue:function(t,e,i,s,a){var n=this.getValidator(t,e),o=r,l=this.getFrameworkMessage(t,e),u=l&&l.length,c=this._getMeta(t,e),h=!1;n&&n.groups&&(h=this.checkGroup(n.groups,s),h=h&&this.checkEventToValidate(n.eventToValidate,a));var d;if(u?d=[this.createMessage(l[0])]:h&&(d=n.validate(t[e],s,a)),d){i||(i={});var p=[];this._processMessagesArray(d,i,p,c),i.listOfMessages=i.listOfMessages?i.listOfMessages.concat(d):d,u||(o.setValue(c,"errorMessages",p),o.setValue(c,"error",p.length>0))}else o.setValue(c,"errorMessages",[]),o.setValue(c,"error",!1);return d},validateModel:function(t,e,i,r){if(this.utilsType.isObject(t)){for(var s in t)if(t.hasOwnProperty(s)&&(this.__subValidateModel(t,s,e,i,r),r&&e&&e[this.errorNbrKey]>0))return}else if(this.utilsType.isArray(t))for(var a=0,n=t.length;n>a;a++)if(this.__subValidateModel(t,a,e,i,r),r&&e&&e[this.errorNbrKey]>0)return},__subValidateModel:function(t,e,i,s,a){if(!r.isMetadata(e)){if(t[this.META_PREFIX+e]&&(this.validateValue(t,e,i,s),a&&i&&i[this.errorNbrKey]>0))return;var n=t[e];return this.validateModel(n,i,s,a)}},processMessages:function(t,e,s,a){var n,o,l,u=i,c=r;if(null==s&&(s={}),null==t)return s;for(var h=0,d=t.length;d>h;h++){var p=t[h];if(this._updateCounters(p,s),p.type==this.TYPE_ERROR){if(p.fieldRef&&!p.metaDataRef)try{if(n=u.parse(p.fieldRef),o=n.pop(),l=u.resolve(n,e),!this.utilsType.isContainer(l))throw null;p.metaDataRef=this._getMeta(l,o)}catch(_){this.$logError(this.RESOLVE_FAIL,[p.fieldRef],e)}if(p.metaDataRef){var f=c.copy(p.metaDataRef.errorMessages);null==f?f=[p.localizedMessage]:f.push(p.localizedMessage),c.setValue(p.metaDataRef,"errorMessages",f),c.setValue(p.metaDataRef,"error",!0)}}p.subMessages&&this.processMessages(p.subMessages,e,s,!1)}if(a!==!1){var g=s.listOfMessages;s.listOfMessages=g&&g.length>0?g.concat(t):t}return s}}});
//*******************
//LOGICAL-PATH:aria/utils/Date.js
//*******************
var t=require("../Aria"),e=require("./String"),i=require("./Type"),r=require("./environment/Date"),a=require("./Array"),s=require("../core/ResMgr"),n=require("../$resources").file(__dirname,"../resources/DateRes"),o=require("../$resources").file(__dirname,"./UtilsRes");module.exports=t.classDefinition({$classpath:"aria.utils.Date",$singleton:!0,$resources:{dateRes:n,res:o},$constructor:function(){this._cutYear=((new Date).getFullYear()+10)%100,this._environment=r;var t=this.dateRes,i=e,a=this.res;this._interpret_monthTexts;var n=this._iataMonths=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];this.formatPatterns={d:function(t,e){return i.pad(t.getDate(),e,"0",!0)},M:function(e,r){switch(r){case 1:case 2:return i.pad(e.getMonth()+1,r,"0",!0);case 3:var a=t.monthShort;return a?a[e.getMonth()]:t.month[e.getMonth()].substring(0,r);default:return t.month[e.getMonth()]}},I:function(t){return n[t.getMonth()]},y:function(t,e){switch(e){case 1:case 2:return t.getFullYear().toString().slice(2);default:return i.pad(t.getFullYear(),e,"0",!0)}},G:function(){return aria.utils.Date.NOT_SUPPORTED_MESSAGE},E:function(e,i){switch(i){case 1:case 2:case 3:var r=t.dayShort;return r?r[e.getDay()]:t.day[e.getDay()].substring(0,i);default:return t.day[e.getDay()]}},h:function(t,e){var i=t.getHours();return 0===i?i=12:i>=13&&(i-=12),10>i&&2===e&&(i="0"+i),i},H:function(t,e){var i=t.getHours();return 10>i&&2===e&&(i="0"+i),i},a:function(t){var e=t.getHours();return 12>e?a.timeFormatLabels.am:a.timeFormatLabels.pm},m:function(t,e){var i=t.getMinutes();return 10>i&&2===e&&(i="0"+i),i},s:function(t,e){var i=t.getSeconds();return 10>i&&2===e&&(i="0"+i),i}},this._formatCache={},this._interpret_isValid=/^[\d\W]*([^\d\+\\\/]+)?[\d\W]*$/i,this._interpret_specialCase1=/^\d{1,2}$/,this._interpret_specialCase2=/^[+\-]\d{1,3}$/,this._interpret_specialCase3=null,this._allowedSeparator="(?:\\s+|[^dMyI]{1})",this._yearOrMonthOrDay_format="(y{2}|y{4}|M{1,2}|d{1,2})",this._yearOrIATAMonthOrDay_format="(y{2}|y{4}|I|[a-z|A-Z]{3}|d{1,2})",this._yearOrMonth_format="(y{2}|y{4}|M{1,2})",this._yearOrIATAMonth_format="(y{2}|y{4}|I|[a-z|A-Z]{3})",this._dayOrMonth_format="(d{1,2}|M{1,2})",this._dayOrIATAMonth_format="(d{1,2}|I|[a-z|A-Z]{3})",this._fullDatePattern=new RegExp("^"+this._yearOrMonthOrDay_format+this._allowedSeparator+this._yearOrMonthOrDay_format+this._allowedSeparator+this._yearOrMonthOrDay_format+"$"),this._dayAndMonthDatePattern=new RegExp("^"+this._dayOrMonth_format+this._allowedSeparator+this._dayOrMonth_format+"$"),this._dayAndIATAMonthDatePattern=new RegExp("^"+this._dayOrIATAMonth_format+this._allowedSeparator+this._dayOrIATAMonth_format+"$"),this._yearAndMonthDatePattern=new RegExp("^"+this._yearOrMonth_format+this._allowedSeparator+this._yearOrMonth_format+"$"),this._yearAndIATAMonthDatePattern=new RegExp("^"+this._yearOrIATAMonth_format+this._allowedSeparator+this._yearOrIATAMonth_format+"$"),this._fullIATADatePattern=new RegExp("^"+this._yearOrIATAMonthOrDay_format+this._allowedSeparator+this._yearOrIATAMonthOrDay_format+this._allowedSeparator+this._yearOrIATAMonthOrDay_format+"$"),this._allDateInputPatterns=[this._fullDatePattern,this._fullIATADatePattern,this._dayAndMonthDatePattern,this._dayAndIATAMonthDatePattern,this._yearAndMonthDatePattern,this._yearAndIATAMonthDatePattern],this._interpret_littleDate=/^\d\W\d$/,this._interpret_isYear=/yyyy/g,this._interpret_isYearOn2Digit=/yy/g,this._interpret_isAnymonth=/MMM|I|MM/g,this._interpret_isMonth=null,this._interpret_isDay=/dd/g,this._interpret_digitOnly=/^\d+$/,this._separators=/[^\w]/,this._interpret_time_ampm=/am|pm|a\.m\.|p\.m\.|a|p|\sp\sm/g,this._interpret_time_isValid=/^\d/,this._interpret_time_remove_unwantedCharacters=/[^\\h;m,.\-:\/\d]+/gi,this._interpret_time_remove_separatorCharacters=/[\\h;m,.\-:\/\s]/,this._formatToUpperCase=!1,this._prepareLocalizedPatterns(),s.$on({resourcesReloadComplete:this._prepareLocalizedPatterns,scope:this})},$destructor:function(){this._formatCache=null,s.$unregisterListeners(this)},$statics:{PATTERN_ERROR_MESSAGE:"##PATTERN_ERROR##",FORMAT_ERROR_MESSAGE:"##FORMAT_ERROR##",NOT_SUPPORTED_MESSAGE:"##NOT_SUPPORTED##",FORMATTER_STATEMENT_NOT_FOUND:"Following pattern %1 is not defined for this formatter: %2",FORMATTER_UNFINISHED_LITTERAL:"Unfinished litteral in this formatter: %1",INVALID_FORMAT_TYPE:"Application config format can only be a string or a function",INVALID_INPUT_PATTERN_TYPE:"Defined pattern : %1 inputPattern can only be a string, a function or an array of strings and/or functions",INVALID_INPUT_PATTERN_DUPLICATE:"Invalid pattern in inputPattern property definition: %1 year, month or day is duplicated",INVALID_FIRST_DAY_OF_WEEK:"Invalid first day of week. Received: %1 while allowed values are: 0, 1, 6.",SUNDAY:0,MONDAY:1,SATURDAY:6,MS_IN_A_DAY:864e5},$prototype:{interpretTime:function(t){var e,i,r=0,a=0,s=0,n=0,o=!1,l=0;if(!t)return null;if(e=t,!this._isValidTime(e))return null;if(this._isPM(e)&&(n=12),this._isAM(e)&&(o=!0),e=this._removeAMPM(e),e=this._removeUnwantedCharacters(e),!this._isValidTime(e))return null;if(r=this._calculateHours(e),null===r)return null;for(l=0;l<r[1];l++)e=this._removeHMS(e);if(r=parseFloat(r),12>r&&n&&(r+=n),12===r&&o&&(r=0),24===r&&(r=0),e=this._removeSeparator(e),!this._isValidTime(e))return i=this._returnTime(r,a,s);for(a=this._calculateMS(e),l=0;l<a[1];l++)e=this._removeHMS(e);return a=parseFloat(a),e=this._removeSeparator(e),this._isValidTime(e)?(s=parseFloat(this._calculateMS(e)),i=this._returnTime(r,a,s)):i=this._returnTime(r,a,s)},_isValidTime:function(t){return this._interpret_time_isValid.test(t)?!0:!1},_isPM:function(t){var e=t.toLowerCase();return e=e.match(this._interpret_time_ampm),null!==e&&-1!==e[0].indexOf("p")?!0:!1},_isAM:function(t){var e=t.toLowerCase();return e=e.match(this._interpret_time_ampm),null!==e&&-1!==e[0].indexOf("a")?!0:!1},_removeAMPM:function(t){var e=t.toLowerCase();return e=t.match(this._interpret_time_ampm),t=t.replace(e,"")},_removeUnwantedCharacters:function(t){var i=t.match(this._interpret_time_remove_unwantedCharacters);if(null!==i)for(var r=0;r<i.length;r++)-1!==t.indexOf(i[r])&&(t=t.replace(i[r],""));return t=e.trim(t)},_removeHMS:function(t){var e=t.match(this._interpret_time_isValid);return t=t.replace(e,"")},_removeSeparator:function(t){var e=t.match(this._interpret_time_remove_separatorCharacters);return t=t.replace(e,"")},_calculateHours:function(t){var e=[],i=t.charAt(0),r=t.charAt(1);return"2"===i&&"4"===r?(e[0]=0,e[1]=2,e):r.match(this._interpret_digitOnly)&&("2"===i&&"4">r||"2">i)?(e[0]=i+r,e[1]=2,e):r.match(this._interpret_digitOnly)&&t.length>3?null:(e[0]=i,e[1]=1,e[0].match(this._interpret_digitOnly)?e:null)},_calculateMS:function(t){var e=[],i=t.charAt(0),r=t.charAt(1);return r.match(this._interpret_digitOnly)&&6>i?(e[0]=i+r,e[1]=2,e):(e[0]=i,e[1]=1,e[0].match(this._interpret_digitOnly)?e:null)},_returnTime:function(t,e,i){var r=new Date;return r.setHours(t,e,i),r},interpret:function(t,r){var a,s;if(r&&(a=r.inputPattern,s=r.outputPattern),a){var n=this._interpretAgainstPattern(t,r.inputPattern);if(n)return n}else if(s){var n=this._interpretAgainstPattern(t,r.outputPattern);if(n)return n}var o,l,h,u;if(u=i.isDate(r)?{referenceDate:r}:r||{},!t)return null;if(l=e.trim(t),h=l.length,!this._interpret_isValid.test(l))return null;if(this._interpret_specialCase1.test(l))return this.interpretWithDate(l);if(this._interpret_specialCase2.test(l))return this.interpretWithRefDate(l,u.referenceDate);if(this._interpret_specialCase3.test(l))return this.interpretFullDateRef(l);if(3>h)return null;if(3==h){if(this._interpret_isMonth.test(l))return this.interpretMonth(l);if(!this._interpret_littleDate.test(l))return null;l="0"+l}return o="isDateBeforeMonth"in u?u.isDateBeforeMonth:this._environment.getDateFormats().dateBeforeMonth,u.isMonthYear?this.interpretMonthAndYear(l,u.yearBeforeMonth):this.interpretDateAndMonth(l,o)},_interpretAgainstPattern:function(t,r){if(i.isFunction(r)||i.isString(r))r=[r];else if(!i.isArray(r))return this.$logError(this.INVALID_INPUT_PATTERN_TYPE,r),null;for(var a,s,n,o,l,h=e.trim(t),u=0;u<r.length;u++)if(i.isFunction(r[u])){if(a=r[u](h),i.isDate(a))return a}else if(i.isString(r[u])){if(this._containDuplicates(r[u]))return this.$logError(this.INVALID_INPUT_PATTERN_DUPLICATE,r[u]),null;for(var c=0;c<this._allDateInputPatterns.length;c++)if(n=this._allDateInputPatterns[c],o=n.exec(r[u]),o&&(s=this._generateIndexes(n,o),l=this._userInputFormatGenerator(o),l.test(h.toUpperCase())&&(a=this._interpretDateWithAnySeparator(l,h.toUpperCase(),s.yearIndex,s.monthIndex,s.dayIndex)),i.isDate(a)))return a}else this.$logError(this.INVALID_INPUT_PATTERN_TYPE,r);return null},_containDuplicates:function(t){var e,i,r;return t.match(this._interpret_isYear)?e=t.match(this._interpret_isYear).length:t.match(this._interpret_isYearOn2Digit)&&(e=t.match(this._interpret_isYearOn2Digit).length),t.match(this._interpret_isAnyMonth)&&(i=t.match(this._interpret_isAnyMonth).length),t.match(this._interpret_isDay)&&(r=t.match(this._interpret_isDay).length),e>1||i>1||r>1?!0:!1},interpretWithDate:function(t){var e,i=parseInt(t,10);return i?(e=new Date,e.setDate(i),e.getDate()!==i?null:e):null},interpretWithRefDate:function(t,e){var i,r=parseInt(t,10);return Math.abs(r)>365?null:(i=null!=e?new Date(e.getTime()):new Date,i.setDate(i.getDate()+r),i)},interpretFullDateRef:function(t){var e,i=this._interpret_specialCase3.exec(t),r=i[1],a=parseInt(i[3],10);return Math.abs(a)>365?null:(e=this.interpretDateAndMonth(r),e&&e.setDate(e.getDate()+a),e)},_generateIndexes:function(t,e){var i={},r=null,s=null,n=null,o=a;return r=o.indexOf(e,"yyyy"),-1===r&&(r=o.indexOf(e,"yy")),n=o.indexOf(e,"dd"),-1===n&&(n=o.indexOf(e,"d")),t===this._fullDatePattern||t===this._yearAndMonthDatePattern||t===this._dayAndMonthDatePattern?(s=o.indexOf(e,"MM"),-1===s&&(s=o.indexOf(e,"M"))):(t===this._fullIATADatePattern||t===this._yearAndIATAMonthDatePattern||t===this._dayAndIATAMonthDatePattern)&&(s=o.indexOf(e,"MMM"),-1===s&&(s=o.indexOf(e,"I"))),-1!==r&&(i.yearIndex=r),-1!==s&&(i.monthIndex=s),-1!==n&&(i.dayIndex=n),i},_userInputFormatGenerator:function(t){var e=null,i=a.indexOf(t,"MMM");-1===i&&(i=a.indexOf(t,"I"));var r=this._interpret_isMonth.source;switch(i){case-1:4===t.length?e=new RegExp("^(\\d{"+t[1].length+"})"+this._allowedSeparator+"(\\d{"+t[2].length+"})"+this._allowedSeparator+"(\\d{"+t[3].length+"})$"):3===t.length&&(e=new RegExp("^(\\d{"+t[1].length+"})"+this._allowedSeparator+"(\\d{"+t[2].length+"})$"));break;case 1:4===t.length?e=new RegExp("^"+r+this._allowedSeparator+"(\\d{"+t[2].length+"})"+this._allowedSeparator+"(\\d{"+t[3].length+"})$"):3===t.length&&(e=new RegExp("^"+r+this._allowedSeparator+"(\\d{"+t[2].length+"})$"));break;case 2:4===t.length?e=new RegExp("^(\\d{"+t[1].length+"})"+this._allowedSeparator+r+this._allowedSeparator+"(\\d{"+t[3].length+"})$"):3===t.length&&(e=new RegExp("^(\\d{"+t[1].length+"})"+this._allowedSeparator+r+"$"));break;case 3:e=new RegExp("^(\\d{"+t[1].length+"})"+this._allowedSeparator+"(\\d{"+t[2].length+"})"+this._allowedSeparator+r+"$")}return e},_interpretDateWithAnySeparator:function(t,e,i,r,a){var s,n,o,l=t.exec(e),h=null,u=new Date;return o=i?l[i]:u.getFullYear(),s=a?l[a]:1,e.match(this._interpret_isMonth)?n=this._getMonthIndex(l[r]):(n=l[r],n-=1),s=parseInt(s,10),n=parseInt(n,10),o=parseInt(o,10),100>o&&(o+=o>this._cutYear?1900:2e3),h=new Date(o,n,s)},interpretMonth:function(t){var e,i=this._getMonthIndex(t);return-1!=i?(e=new Date,e.getMonth()!=i&&(e.setDate(1),e.setMonth(i)),e):null},interpretDateAndMonth:function(t,e){var i,r,a,s,n=this._parseDateString(t);return s=n.length,2!=s&&3!=s?null:(2==s&&(this._interpret_isMonth.test(n[1])?(i=n[0],r=n[1]):e?this._interpret_isMonth.test(n[0])?(i="1",r=n[0],a=n[1]):(i=n[0],r=n[1]):(r=n[0],n[1].length>2?(i=n[1].slice(0,2),a=n[1].slice(2)):i=n[1])),3==s&&(this._interpret_isMonth.test(n[1])?(i=n[0],r=n[1],a=n[2]):e?(i=n[0],r=n[1],a=n[2]):(i=n[1],r=n[0],a=n[2])),this._checkParsedDate(i,r,a))},interpretMonthAndYear:function(t,e){var i,r,a,s,n=this._parseDateString(t),o=!0;return a=n.length,2!=a&&3!=a?null:(2==a&&(this._interpret_isMonth.test(n[0])?(r=n[0],s=n[1]):e?this._interpret_isMonth.test(n[1])?(r=n[1],s=n[0]):(r=n[1],s=n[0]):(r=n[0],s=n[1]),i=1),3==a&&(this._interpret_isMonth.test(n[1])?(i=n[0],r=n[1],s=n[2]):e?this._interpret_isMonth.test(n[2])?(i=n[0],r=n[2],s=n[1]):(i=1,r=n[2],s=n[0]+n[1]):(i=1,r=n[0],s=n[1]+n[2])),this._checkParsedDate(i,r,s,o))},_parseDateString:function(t){var e;if(this._interpret_digitOnly.test(t))t=t.slice(0,2)+"/"+t.slice(2,4)+"/"+t.slice(4);else{var i=t.match(this._interpret_isMonth);if(i){for(var r=t.split(i[0]),a=0,s=r.length;s>a;a++)r[a]=r[a].replace(/\W+/g,"/");t=r.join("/"+i[0]+"/")}else t=t.replace(/\W+/g,"/")}e=t.split(/\/+/);for(var n=0,o=e.length;o>n;n++)e[n]||(e.splice(n,1),n--,o--);return e},_checkParsedDate:function(t,e,r,a){var s,n=this._cutYear;if(t=this._interpret_digitOnly.test(t)?parseInt(t,10):null,this._interpret_digitOnly.test(e))e=parseInt(e,10)-1;else{var o=this._getMonthIndex(e);e=-1!==o?o:null,i.isNumber(e)||(e=null)}if(r)r=this._interpret_digitOnly.test(r)?parseInt(r,10):null,a&&(n+=10),100>r&&(r+=r>this._cutYear?1900:2e3);else{var l=new Date;r=l.getFullYear();var h=new Date(l.getFullYear(),l.getMonth(),l.getDate()).getTime();l=new Date(l.getFullYear(),e,t),l.getTime()<h&&(r+=1)}return s=new Date(r,e,t),i.isDate(s)?s.getDate()!=t||s.getMonth()!=e||s.getFullYear()!=r?null:s:null},_createUTCDate:function(t){var e=new Date(t.getTime());return e.getFullYear=e.getUTCFullYear,e.getMonth=e.getUTCMonth,e.getDate=e.getUTCDate,e.getHours=e.getUTCHours,e.getMinutes=e.getUTCMinutes,e.getSeconds=e.getUTCSeconds,e.getMilliseconds=e.getUTCMilliseconds,e},format:function(t,e,r){if(!i.isDate(t))return null;"function"==typeof e?e=e():"string"!=typeof e&&this.$logError(this.INVALID_FORMAT_TYPE),r&&(t=this._createUTCDate(t));var a=this._getFormatFunction(e);return this.$assert(118,i.isFunction(a)),a(t)},_getFormatFunction:function(t){var e,r,a,s,n=t,o=[],l=!1,h=0,u=[];if(this._formatCache[t])return this._formatCache[t];for(;n.length>0;)r=e,e=n.slice(0,1),n=n.slice(1),r!==e&&(this._pushIfExists(u,r,h,t),h=0),"'"!==e?(l=!1,a?o.push(e):this._separators.test(e)?o.push(e):(o.length&&(u.push(o.join("")),o=[]),e===r?h++:h=1)):a?("'"===r&&(l||o.push("'")),a=!1):("'"===r&&(o.push("'"),l=!0),a=!0);a&&this.$logError(this.FORMATTER_UNFINISHED_LITTERAL,t),this._pushIfExists(u,e,h,t),o.length&&u.push(o.join(""));var c=this._formatToUpperCase;return this._formatToUpperCase=!1,s=function(t){for(var e,r=[],a=0,s=u.length;s>a;a++)e=u[a],r.push(i.isObject(e)?e.patternFn(t,e.occurency):e);return r=r.join(""),c&&(r=r.toUpperCase()),r},this._formatCache[t]=s,s},_pushIfExists:function(t,e,r,a){var s,n=i;if(r){if("U"==e)return this._formatToUpperCase=!0,!0;s=this.formatPatterns[e],n.isFunction(s)?t.push({patternFn:s,occurency:r}):(this.$logError(this.FORMATTER_STATEMENT_NOT_FOUND,[e,a]),t.push(aria.utils.Date.PATTERN_ERROR_MESSAGE))}},isSameDay:function(t,e){if(!t||!e)return!1;var i=this._getFormatFunction("ddMMyyyy");return i(t)===i(e)},getStartOfWeek:function(t,e){null==e&&(e=this._environment.getFirstDayOfWeek());var i=new Date(t),r=t.getDay()-e;return 0>r&&(r+=7),i.setDate(i.getDate()-r),i},dayDifference:function(t,e){var i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),a=(r-i)/864e5;return this.$assert(949,a==Math.round(a)),a},removeTime:function(t){return null==t?null:0!==t.getHours()||0!==t.getMinutes()||0!==t.getSeconds()||0!==t.getMilliseconds()?new Date(t.getFullYear(),t.getMonth(),t.getDate()):t},dayOfWeekNbrSinceStartOfYear:function(t){var e=Date.UTC(t.getFullYear(),0,1),i=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()),r=(i-e)/864e5;return this.$assert(981,r==Math.round(r)),1+Math.floor(r/7)},getWeekNumber:function(t,e){if(i.isDate(t)){null==e&&(e=this._environment.getFirstDayOfWeek());var r,a=new Date(t.getTime());switch(e){case this.MONDAY:r=a.getDate()+4-(a.getDay()||7);break;case this.SUNDAY:r=a.getDate()+6-a.getDay();break;case this.SATURDAY:r=a.getDate()+6-(a.getDay()+1)%7;break;default:return void this.$logError(this.INVALID_FIRST_DAY_OF_WEEK,[e])}a.setDate(r);var s=a.getTime(),n=new Date(a.getFullYear(),0,1);return Math.floor(Math.round((s-n)/this.MS_IN_A_DAY)/7)+1}},compare:function(t,e,i){var r=i?t.getTime():this.removeTime(t).getTime(),a=i?e.getTime():this.removeTime(e).getTime(),s=r-a;return 0===s?0:s/Math.abs(s)},_prepareLocalizedPatterns:function(){var t,e,i=this.dateRes,r=i.month,a=i.monthShort,s=[];for(t=0,e=r.length;e>t;t++)s.push(r[t].toUpperCase());if(a)for(t=0,e=a.length;e>t;t++)s.push(a[t].toUpperCase());else for(t=0,e=r.length;e>t;t++)s.push(r[t].substring(0,3).toUpperCase());s=s.concat(this._iataMonths),this._interpret_monthTexts=s;var n=s.join("|").replace("\\","\\\\").replace(/\s/g,"\\s").replace(/\./g,"\\.");this._interpret_isMonth=new RegExp("("+n+")","i"),this._interpret_specialCase3=new RegExp("^(\\d{1,2}\\s*("+n+")\\s*\\d{0,4})\\/([+\\-]\\d{1,3})$","i")},_getMonthIndex:function(t){return a.indexOf(this._interpret_monthTexts,t.toUpperCase())%12}}});
//*******************
//LOGICAL-PATH:aria/utils/Delegate.js
//*******************
var t=require("../Aria"),e=require("./Event"),i=require("../DomEvent"),r=require("./IdManager"),a=require("./Callback");require("./Array");var n=require("../core/Browser"),s=require("./AriaWindow");module.exports=t.classDefinition({$classpath:"aria.utils.Delegate",$singleton:!0,$events:{elementFocused:"",elementBlurred:""},$constructor:function(){this._focusedElementRemoved=!1,this.depth=-1,this.checkCSSPrefix=function(){if(t.$window&&t.$window.document)for(var e=t.$window.document.createElement("div"),i=["ms","O","Webkit","Moz",""],r=0;r<i.length;r+=1){var a=i[r];if(void 0!==e.style[a+"Transition"])return a}return null},this.delegatedOnBody=["click","focus","blur","focusin","focusout","mousedown","mouseup","mousemove","mouseover","mouseout","contextmenu","touchstart","touchend","touchmove","mousewheel","dblclick"],this.vendorPrefix=this.checkCSSPrefix(),null!==this.vendorPrefix&&this.delegatedOnBody.push("transitionend","animationstart","animationiteration","animationend"),"O"===this.vendorPrefix&&this.delegatedOnBody.push("oanimationstart","oanimationiteration","oanimationend","otransitionEnd"),"ms"===this.vendorPrefix&&this.delegatedOnBody.push("MSAnimationStart","MSAnimationIteration","MSAnimationEnd","MSTransitionEnd"),"Webkit"===this.vendorPrefix&&this.delegatedOnBody.push("webkitAnimationIteration","webkitAnimationEnd","webkitAnimationStart","webkitTransitionEnd"),this.delegatedOnWindow=[];var e=n.isFirefox&&3==n.majorVersion?this.delegatedOnWindow:this.delegatedOnBody;e.push("keydown","keyup","keypress"),this.delegatedGestures={safetap:"aria.touch.SafeTap",safetapstart:"aria.touch.SafeTap",safetapcancel:"aria.touch.SafeTap",tap:"aria.touch.Tap",tapstart:"aria.touch.Tap",tapcancel:"aria.touch.Tap",singletap:"aria.touch.SingleTap",singletapstart:"aria.touch.SingleTap",singletapcancel:"aria.touch.SingleTap",doubletap:"aria.touch.DoubleTap",doubletapstart:"aria.touch.DoubleTap",doubletapcancel:"aria.touch.DoubleTap",longpress:"aria.touch.LongPress",longpressstart:"aria.touch.LongPress",longpresscancel:"aria.touch.LongPress",dragstart:"aria.touch.Drag",dragmove:"aria.touch.Drag",drag:"aria.touch.Drag",dragcancel:"aria.touch.Drag",swipe:"aria.touch.Swipe",swipestart:"aria.touch.Swipe",swipemove:"aria.touch.Swipe",swipecancel:"aria.touch.Swipe",pinch:"aria.touch.Pinch",pinchstart:"aria.touch.Pinch",pinchmove:"aria.touch.Pinch",pinchcancel:"aria.touch.Pinch"},this.rootListener=null,this.supportedEvents={dblclick:!0,mouseleave:!0,mouseenter:!0,copy:!0,change:!0,paste:!0,cut:!0,submit:!0,error:!0,mousewheel:!0,scroll:!0},n.isOldIE||this.delegatedOnBody.push("change","paste","cut"),this._delegatedMap={};var i,a;for(i=0,a=this.delegatedOnBody.length;a>i;i++){var o=this.delegatedOnBody[i];this._delegatedMap[o]=!0}for(i=0,a=this.delegatedOnWindow.length;a>i;i++){var o=this.delegatedOnWindow[i];this._delegatedMap[o]=!0}for(var l in this.delegatedGestures)this.delegatedGestures.hasOwnProperty(l)&&(this._delegatedMap[l]=!0);for(var l in this._delegatedMap)this._delegatedMap.hasOwnProperty(l)&&(this.supportedEvents[l]=!0);this.delegateExpando="atdelegate",this.__delegateMapping=null,this.__idMgr=new r("d"),this.__stackCache=null,this._changed=null,this._focusTracking=null,s.$on({unloadWindow:this.reset,scope:this})},$destructor:function(){this.reset(),this.__idMgr.$dispose(),this.__idMgr=null,s.$unregisterListeners(this)},$statics:{DELEGATE_UTIL_CALLBACK_FAIL:"Error caught in callback for event %1"},$prototype:{reset:function(){this.cleanCache();var i=this.__delegateMapping;if(i){for(var r in i)i.hasOwnProperty(r)&&this.remove(r);var a,n,o=t.$window.document.body,l=e;for(a=0,n=this.delegatedOnBody.length;n>a;a++)l.removeListener(o,this.delegatedOnBody[a],{fn:this.delegate});for(a=0,n=this.delegatedOnWindow.length;n>a;a++)l.removeListener(this.rootListener,this.delegatedOnWindow[a],{fn:this.delegate});this.__delegateMapping=null,this.rootListener=null,this._focusTracking=null,s.detachWindow()}},isDelegated:function(t){return this._delegatedMap[t]},add:function(i){if(this.cleanCache(),!this.__delegateMapping){s.attachWindow();var r=t.$window.document.body;this.rootListener=n.isOldIE?r:t.$window,this.__delegateMapping={};var o,l,h=e;for(o=0,l=this.delegatedOnBody.length;l>o;o++)h.addListener(r,this.delegatedOnBody[o],{fn:this.delegate,scope:this});for(o=0,l=this.delegatedOnWindow.length;l>o;o++)h.addListener(this.rootListener,this.delegatedOnWindow[o],{fn:this.delegate,scope:this})}for(var u=this.__idMgr.getId();this._changed&&this._changed[u];)this._changed[u]=!1,u=this.__idMgr.getId();return this.__delegateMapping[u]=new a(i),u},getMarkup:function(t){var e=this.delegateExpando+"='"+t+"'";return n.isIOS&&(e+=" onclick='void(0)'"),e},addExpando:function(e,i){e.setAttribute(this.delegateExpando,i),n.isIOS&&null==e.onclick&&(e.onclick=t.empty)},getFallbackMarkup:function(t,e,i){return this.getFallbackMarkup=n.isOldIE?function(t,e,i){return i=i?"true":"false"," on"+t+"=\"aria.utils.Delegate.directCall(event, '"+e+"', "+i+', this)"'}:function(t,e,i){var r="directCall";return i=i?"true":"false",("mouseleave"==t||"mouseenter"==t)&&(t="mouseleave"==t?"mouseout":"mouseover",r="mouseMovement")," on"+t+'="aria.utils.Delegate.'+r+"(event, '"+e+"', "+i+', this)"'},this.getFallbackMarkup(t,e,i)},__wrapEvent:function(t,e){return t.$DomEvent?t:e?new aria.templates.DomEventWrapper(t):new i(t)},directCall:function(t,e,i){this.$assert(286,this.__delegateMapping);var r,a=this.__wrapEvent(t,i),n=this.__delegateMapping[e];return n&&(r=n.call(a)),a.$dispose(),r},mouseMovement:function(t,e,i,r){if(aria.utils.Dom.isAncestor(t.relatedTarget,r)===!1){var a=this.__wrapEvent(t,i);return a.type="mouseover"==t.type?"mouseenter":"mouseleave",a.setTarget(r),this.directCall(a,e,i,r)}},remove:function(t){this.cleanCache(),this._changed&&(this._changed[t]=!0),this.__delegateMapping&&(this.__delegateMapping[t].$dispose(),delete this.__delegateMapping[t],this.__idMgr.releaseId(t))},delegate:function(e){if(!this.__delegateMapping)return void(e.$DomEvent&&e.$dispose());this.__stackCache||(this.__stackCache={});var i,r,a,n=this.depth,s=[],o=t.$window.document.body;e=this.__wrapEvent(e),a=e.target;for(var l=!1;n&&a&&a!=o;){if(a.attributes&&(r=a.attributes[this.delegateExpando])){if(l=!0,r=r.value,i=this.__stackCache[r]){s=s.concat(i);break}s.push({expandoValue:r,target:a})}a=a.parentNode,n--}var h,u,c=!1;this._changed?c=!0:this._changed={};for(var d=0,p=s.length;p>d;d++)if(u=s[d],r=u.expandoValue,a=u.target,0===d&&(this.__stackCache[r]=s),!this._changed[r]){h=this.__delegateMapping[r],e.delegateTarget=a;var _;if(h)try{_=h.call(e)}catch(g){this.$logError(this.DELEGATE_UTIL_CALLBACK_FAIL,[e.type],{event:e})}if(_===!1||e.hasStopPropagation)break;a=null}if(c||(this._changed=null),_!==!1&&!e.hasStopPropagation&&aria.templates){var f=aria.templates.NavigationManager;f&&f.handleGlobalNavigation(e)}"focus"==e.type?(this._focusedElementRemoved=!1,this._focusTracking=e.target,this._focusTracking&&l&&this.$raiseEvent({name:"elementFocused",focusedElement:this._focusTracking})):"blur"==e.type&&(l&&this.$raiseEvent({name:"elementBlurred",blurredElement:this._focusTracking}),this._focusTracking=null),e.$dispose()},cleanCache:function(){if(this.__stackCache){for(var t in this.__stackCache)if(this.__stackCache.hasOwnProperty(t)){for(var e=this.__stackCache[t],i=0,r=e.length;r>i;i++)e.target=null,e.expandoValue=null,delete e.target,delete e.expandoValue;delete this.__stackCache[i]}this.__stackCache=null}},getFocus:function(){return this._focusTracking},ieFocusFix:function(){this._focusedElementRemoved&&(t.$window.document.body.focus(),this._focusedElementRemoved=!1)},ieRemovingFocusedElement:function(){this._focusedElementRemoved=!0}}});
//*******************
//LOGICAL-PATH:aria/utils/css/PropertiesConfig.js
//*******************
var t=require("../../Aria");!function(){var e=1,i=2,r=3;module.exports=t.classDefinition({$classpath:"aria.utils.css.PropertiesConfig",$singleton:!0,$statics:{UNITS:["em","%","px","ex","cm","mm","in","pt","pc"],HORIZONTAL:e,VERTICAL:i,COMPOSITE:r,PROPERTIES:{backgroundPositionX:{orientation:e},backgroundPositionY:{orientation:i},borderWidth:{orientation:r,subProperties:["borderLeftWidth","borderRightWidth","borderBottomWidth","borderTopWidth"],percentNotAdmitted:!0},borderBottomWidth:{orientation:i,percentNotAdmitted:!0},borderLeftWidth:{orientation:e,percentNotAdmitted:!0},borderRightWidth:{orientation:e,percentNotAdmitted:!0},borderTopWidth:{orientation:i,percentNotAdmitted:!0},borderSpacing:{orientation:r,percentNotAdmitted:!0},margin:{orientation:r,subProperties:["marginLeft","marginRight","marginBottom","marginTop"]},marginBottom:{orientation:e},marginLeft:{orientation:e},marginRight:{orientation:e},marginTop:{orientation:e},opacity:{percentNotAdmitted:!0},outlineWidth:{orientation:r,percentNotAdmitted:!0},padding:{orientation:r,hProperties:["paddingLeft","paddingRight","paddingBottom","paddingTop"]},paddingBottom:{orientation:e},paddingLeft:{orientation:e},paddingRight:{orientation:e},paddingTop:{orientation:e},height:{orientation:i},width:{orientation:e},maxHeight:{orientation:i},maxWidth:{orientation:e},minHeight:{orientation:i},minWidth:{orientation:e},fontSize:{orientation:i,percentOfFontSize:!0},bottom:{orientation:i},left:{orientation:e},right:{orientation:e},top:{orientation:i},letterSpacing:{orientation:e,percentNotAdmitted:!0},wordSpacing:{orientation:e,percentNotAdmitted:!0},lineHeight:{orientation:i,percentOfFontSize:!0},textIndent:{orientation:e},scrollTop:{orientation:i,notStyleProperty:!0},scrollLeft:{orientation:e,notStyleProperty:!0},backgroundColor:{percentNotAdmitted:!0,isColor:!0},borderBottomColor:{percentNotAdmitted:!0,isColor:!0},borderLeftColor:{percentNotAdmitted:!0,isColor:!0},borderRightColor:{percentNotAdmitted:!0,isColor:!0},borderTopColor:{percentNotAdmitted:!0,isColor:!0},color:{percentNotAdmitted:!0,isColor:!0},columnRuleColor:{percentNotAdmitted:!0,isColor:!0},outlineColor:{percentNotAdmitted:!0,isColor:!0},textDecorationColor:{percentNotAdmitted:!0,isColor:!0},textEmphasisColor:{percentNotAdmitted:!0,isColor:!0}},COLORS:{aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"}},$prototype:{}})}();
//*******************
//LOGICAL-PATH:aria/utils/css/Units.js
//*******************
var t=require("../../Aria"),e=require("../String"),i=require("../../core/Browser"),r=require("./PropertiesConfig");!function(){function a(t){return Math.round(100*t)/100}module.exports=t.classDefinition({$classpath:"aria.utils.css.Units",$singleton:!0,$statics:{__convertFromPixels:{"%":function(t,e,i){return a(this.__px2Percentage(t,e,i))},em:function(t,e,i){return a(this.__px2Em(t,e,i))},ex:function(t,e,i){return a(2*this.__px2Em(t,e,i))},"in":function(t,e,i){return a(this.__px2Inches(t,i))},cm:function(t,e,i){return a(2.54*this.__px2Inches(t,i))},mm:function(t,e,i){return a(25.4*this.__px2Inches(t,i))},pt:function(t,e,i){return a(72*this.__px2Inches(t,i))},px:function(t){return t},pc:function(t,e,i){return a(6*this.__px2Inches(t,i))}},__convertToPixels:{"%":function(t,e,i){return a(this.__percentage2Px(t,e,i))},em:function(t,e,i){return a(this.__em2Px(t,e,i))},ex:function(t,e,i){return a(.5*this.__em2Px(t,e,i))},"in":function(t,e,i){return a(this.__inches2Px(t,i))},cm:function(t,e,i){return a(this.__inches2Px(t,i)/2.54)},mm:function(t,e,i){return a(this.__inches2Px(t,i)/25.4)},pt:function(t,e,i){return a(this.__inches2Px(t,i)/72)},px:function(t){return t},pc:function(t,e,i){return a(this.__inches2Px(t,i)/6)}},getDpi:function(){if(this._dpi)return this._dpi;var e=t.$window.document,i=e.createElement("div");i.style.cssText="height: 1in; left: -100%; position: absolute; top: -100%; width: 1in;",e.body.appendChild(i);var r=this._dpi={x:i.offsetWidth,y:i.offsetHeight};return e.body.removeChild(i),r},__getDpiForProp:function(t){var e=this.getDpi();switch(this.cfg.PROPERTIES[t].orientation){case this.cfg.HORIZONTAL:return e.x;case this.cfg.VERTICAL:return e.y;default:return(e.x+e.y)/2}},__px2Inches:function(t,e){return t/this.__getDpiForProp(e)},__inches2Px:function(t,e){return t*this.__getDpiForProp(e)},__px2Em:function(t,e,i){var r="fontSize"==i?e.parentNode:e,a=this.__getFontSizeInPixels(r);return t/a},__em2Px:function(t,e,i){var r="fontSize"==i?e.parentNode:e,a=this.__getFontSizeInPixels(r);return t*a},__px2Percentage:function(t,e,i){var r,a=e.parentNode;return r=parseFloat(this.__getDomWidthOrHeight(a,this.cfg.PROPERTIES[i].orientation==this.cfg.HORIZONTAL?"width":"height")),t/r*100},__percentage2Px:function(t,e,i){var r,a=e.parentNode;return r=parseFloat(this.__getDomWidthOrHeight(a,this.cfg.PROPERTIES[i].orientation==this.cfg.HORIZONTAL?"width":"height")),t*r*100}},$constructor:function(){this.cfg=r,this._dpi=null;var t=i;this.isIE8orLess=t.isIE8||t.isIE7},$prototype:{convertToPixels:function(t,e,i){var r=this.getUnit(t,i),a=parseFloat(t,10);return this.__convertToPixels[r].call(this,a,e,i)},convertFromPixels:function(t,e,i,r){return this.__convertFromPixels[t].call(this,e,i,r)},__getBorderWidth:function(t,e){var r=t.currentStyle,a=i.isIE7,n="border"+e+"Width",s="none"!=r["border"+e+"Style"];if(!s)return 0;var o=r[n];return"thin"==o?o=a?2:1:"medium"==o?o=a?4:3:"thick"==o&&(o=a?6:5),this.convertToPixels(String(o),t,n)},__getPadding:function(t,e){var i=t.currentStyle,r="padding"+e;return this.convertToPixels(i[r],t,r)},__getFontSizeInPixels:function(t){var e="fontSize",i=this.__getStyleSimplified(t,e),r=i.match("(.*)em$");return r?16*parseFloat(r[1]):this.convertToPixels(i,t,e)},__getDomWidthOrHeight:function(t,e){return this.isIE8orLess?this.getDomWidthOrHeightForOldIE(t,e):this.__getStyleSimplified(t,e)},getDomWidthOrHeightForOldIE:function(t,e){var i="Left",r="Right",a="Top",n="Bottom";if("width"==e){var s=this.__getPadding(t,i),o=this.__getPadding(t,r),l=this.__getBorderWidth(t,i),h=this.__getBorderWidth(t,r);return t.offsetWidth-s-o-l-h+"px"}if("height"==e){var u=this.__getPadding(t,a),c=this.__getPadding(t,n),d=this.__getBorderWidth(t,a),p=this.__getBorderWidth(t,n);return t.offsetHeight-u-c-d-p+"px"}},__getStyleSimplified:function(e,i){return this.isIE8orLess?e.currentStyle[i]||e.style[i]:t.$window.getComputedStyle(e,"")[i]||e.style[i]},getUnit:function(t,i){var r=new RegExp("("+this.cfg.UNITS.join("|")+")$"),a=e.trim(""+t).toLowerCase().match(r);return"opacity"==i||"scrollTop"==i||"scrollLeft"==i?null:a?a[0]:"px"}}})}();
//*******************
//LOGICAL-PATH:aria/utils/Dom.js
//*******************
var t=require("../Aria");require("../core/JsonValidator");var e=require("../core/Browser"),i=require("./String"),r=require("./css/Units");module.exports=t.classDefinition({$classpath:"aria.utils.Dom",$singleton:!0,$statics:{VIEWPORT:"__$viewport",DIV_NOT_FOUND:"Missing div '%1' in DOM.",INSERT_ADJACENT_INVALID_POSITION:"Invalid position %1. Expected one of: beforeBegin, afterBegin, beforeEnd or afterEnd.",pxRegExp:/^[0-9]+px$/},$prototype:{getElementById:function(i){return this.getElementById=e.isIE7?function(e){var i=t.$window.document,r=i.getElementById(e);if(r){if(r.getAttribute("id")==e)return r;for(var n in i.all)if(n.id==e)return n}return null}:function(e){var i=t.$window.document;return i.getElementById(e)},this.getElementById(i)},getNextSiblingElement:function(t,e){for(null==e&&(e=1);t&&e>0;)t=t.nextSibling,t&&1==t.nodeType&&e--;return t},getPreviousSiblingElement:function(t,e){for(null==e&&(e=1);t&&e>0;)t=t.previousSibling,t&&1==t.nodeType&&e--;return t},getDomElementChild:function(t,e,i){if(!t)return null;for(var r=t.childNodes,n=0,a=r.length,s=i?a-1:0;i?s>=0:a>s;i?s--:s++)if(1==r[s].nodeType){if(n==e)return r[s];n++}return null},getDomElementsChildByTagName:function(t,e){return t?t.getElementsByTagName(e):null},getDomElementChildReverse:function(t,e){return this.getDomElementChild(t,e,!0)},refreshDomElt:function(i){this.refreshDomElt=e.isIE7?function(t){try{var e=t.parentNode.style,i=t.style,r="foo:foo;";e.cssText+="",e.zoom=1,i.cssText+=r,i.cssText=i.cssText.replace(r,""),i.zoom=1}catch(n){}}:e.isIE8?function(){for(var e=0,i=t.rootTemplates.length;i>e;e++){var r=t.rootTemplates[e];if(r._cfg&&r._cfg.tplDiv){var n=r._cfg.tplDiv;n.className=n.className,n=null}}}:function(){},this.refreshDomElt(i)},replaceHTML:function(i,r){var n=i;if("string"==typeof n&&(n=this.getElementById(n)),!n)return this.$logError(this.DIV_NOT_FOUND,[i]),null;if((e.isIE7||e.isIE8)&&aria.utils&&aria.utils.Delegate)try{var a=t.$window.document.activeElement;a&&this.isAncestor(a,n)&&aria.utils.Delegate.ieRemovingFocusedElement()}catch(s){}try{n.innerHTML="",n.innerHTML=r}catch(o){var l=this._createTableElement(n.tagName,r,n.ownerDocument);if(!l)throw o;this.replaceDomElement(n,l),this.copyAttributes(n,l),n=l}return aria.utils&&aria.utils.Delegate&&aria.utils.Delegate.delegate(aria.DomEvent.getFakeEvent("contentchange",n)),n},_createTableElement:function(t,e,i){t=t.toUpperCase();var r,n=i.createElement("DIV");return"TBODY"==t||"THEAD"==t||"TFOOT"==t?(n.innerHTML=["<TABLE><",t,">",e,"</",t,"></TABLE>"].join(""),r=n.children[0].children[0]):"TR"==t?(n.innerHTML=["<TABLE><TBODY><",t,">",e,"</",t,"></TBODY></TABLE>"].join(""),r=n.children[0].children[0].children[0]):(n.innerHTML=["<",t,">",e,"</",t,">"].join(""),r=n.children[0]),this.$assert(194,!r||r.tagName.toUpperCase()==t),r},replaceDomElement:function(t,e){var i=t.parentNode;i.insertBefore(e,t),i.removeChild(t)},insertAdjacentHTML:function(e,i,r){this.insertAdjacentHTML=t.$window.document.body.insertAdjacentHTML?function(t,e,i){try{t.insertAdjacentHTML(e,i)}catch(r){var n,a;if("afterBegin"==e||"beforeEnd"==e)n=t;else{if("beforeBegin"!=e&&"afterEnd"!=e)return void this.$logError(this.INSERT_ADJACENT_INVALID_POSITION,[e]);n=t.parentNode}if(a=this._createTableElement(n.tagName,i,t.ownerDocument),!a)throw r;var s=a.lastChild;if(s){this.insertAdjacentElement(t,e,s);for(var o=a.lastChild;o;)n.insertBefore(o,s),s=o,o=a.lastChild}}}:function(t,e,i){var r=t.ownerDocument,n=r.createRange();"beforeBegin"==e||"afterEnd"==e?n.selectNode(t):n.selectNodeContents(t);var a=n.createContextualFragment(i);this.insertAdjacentElement(t,e,a),n.detach()},this.insertAdjacentHTML(e,i,r)},insertAdjacentElement:function(e,i,r){this.insertAdjacentElement=t.$window.document.body.insertAdjacentElement?function(t,e,i){t.insertAdjacentElement(e,i)}:function(t,e,i){"beforeBegin"==e?t.parentNode.insertBefore(i,t):"afterBegin"==e?t.insertBefore(i,t.firstChild):"beforeEnd"==e?t.appendChild(i):"afterEnd"==e?t.parentNode.insertBefore(i,t.nextSibling):this.$logError(this.INSERT_ADJACENT_INVALID_POSITION,[e])},this.insertAdjacentElement(e,i,r)},copyAttributes:function(e,i){this.copyAttributes=t.$window.document.body.mergeAttributes?function(t,e){e.mergeAttributes(t,!1)}:function(t,e){for(var i=t.attributes,r=0,n=i.length;n>r;r++){var a=i[r];e.setAttribute(a.name,a.value)}},this.copyAttributes(e,i)},_getViewportSize:function(){if(e.isIOS||e.isAndroid)return{width:t.$window.innerWidth,height:t.$window.innerHeight};var i=t.$window.document.documentElement;return{width:i.clientWidth,height:i.clientHeight}},getViewportSize:function(){return this._getViewportSize()},_getDocumentScroll:function(e){var i=e&&e.ownerDocument?e.ownerDocument:t.$window.document,r=0,n=0,a=this.getDocumentScrollElement(i);if(null!=e){for(var s=e;null!=s;)s.scrollLeft&&(r+=s.scrollLeft),s.scrollTop&&(n+=s.scrollTop),s=s.parentNode;r-=a.scrollLeft,n-=a.scrollTop}else r=a.scrollLeft,n=a.scrollTop;a!=i.body&&(r+=i.body.scrollLeft,n+=i.body.scrollTop);var o={scrollLeft:r,scrollTop:n};return o},getFullPageSize:function(){var t=this.getDocumentScrollElement(),e={width:t.scrollWidth,height:t.scrollHeight},i=this._getViewportSize();return{width:Math.max(e.width,i.width),height:Math.max(e.height,i.height)}},calculatePosition:function(t,i){if(t){var r,n=t.ownerDocument,a=e,s=0,o=0,l=0,h=0,u=!0,c=0,d=t;if(d.getBoundingClientRect&&!i){var p=a.isIE7?2:0;try{var f=d.getBoundingClientRect();u=!1,s=f.left-p,o=f.top-p}catch(_){s=0,o=0}}else for(;d&&d.parentNode&&(r=aria.utils.Dom.getStyle(d,"position"),!(i&&c>0&&"absolute"==r));)s+=d.offsetLeft,o+=d.offsetTop,d=d.offsetParent,c++;for(c=0,d=t;d&&d.parentNode&&d.parentNode!=n.body&&d.parentNode.tagName&&(a.isOpera||"HTML"==d.nodeName?a.isOpera&&(0!==d.scrollTop&&d.scrollTop!=d.offsetTop?(u&&(o-=d.scrollTop),l=d.scrollTop):0!==d.scrollLeft&&d.scrollLeft!=d.offsetLeft&&(h=d.scrollLeft,u&&(s-=d.scrollLeft))):0!==d.scrollTop&&d.scrollTop?(l=d.scrollTop,u&&(o-=d.scrollTop)):0!==d.scrollLeft&&d.scrollLeft&&(h=d.scrollLeft,u&&(s-=d.scrollLeft)),r=aria.utils.Dom.getStyle(d,"position"),!(c>0&&"absolute"==r));)c++,d=d.parentNode;var g={top:Math.round(o),left:Math.round(s),scrollTop:l,scrollLeft:h};return g}},getClientGeometry:function(t){var e=this.calculatePosition(t);return{x:e.left+t.clientLeft,y:e.top+t.clientTop,width:t.clientWidth,height:t.clientHeight}},getOffset:function(e){var i=this.getStyle(e,"position"),r="absolute"===i,n="fixed"===i,a={};if(r&&(a.left=this.getStylePx(e,"left",null),a.top=this.getStylePx(e,"top",null)),null==a.left||null==a.top){var s=n?t.$window.document.body:e.offsetParent,o=this.calculatePosition(s),l=this.calculatePosition(e);if(null==a.left){var h=this.getStylePx(s,"borderLeftWidth",0);a.left=l.left-o.left+s.scrollLeft-h}if(null==a.top){var u=this.getStylePx(s,"borderTopWidth",0);a.top=l.top-o.top+s.scrollTop-u}}return a},getGeometry:function(t){if(!t)return null;var i=t.ownerDocument;if(t===i.body){var r=this.getFullPageSize();return{x:0,y:0,width:r.width,height:r.height}}var n,a,s=e;if(s.isChrome||s.isSafari){var o=t.getBoundingClientRect();n=Math.round(o.width),a=Math.round(o.height)}else n=t.offsetWidth,a=t.offsetHeight;for(var l=this.calculatePosition(t),h={x:l.left,y:l.top,width:n,height:a},u=t,c=i.documentElement,d=i.body;;){var p=this.getStyle(u,"position");if(u="absolute"==p||"fixed"==p?u.offsetParent:u.parentNode,!u||u==c||u==d)return h;var f,_=this.getClientGeometry(u),g=this.getStyle(u,"overflowX"),m=this.getStyle(u,"overflowY");if("visible"!=g){if(f=_.x-h.x,f>0&&(h.x+=f,h.width-=f,h.width<0))return null;if(f=h.x+h.width-_.x-_.width,f>0&&(h.width-=f,h.width<0))return null}if("visible"!=m){if(f=_.y-h.y,f>0&&(h.y+=f,h.height-=f,h.height<0))return null;if(f=h.y+h.height-_.y-_.height,f>0&&(h.height-=f,h.height<0))return null}}},getStyle:function(n,a){var s=e,o=s.isIE8||s.isIE7;return this.getStyle=o?function(t,e){if("opacity"==e){var n=100;try{n=t.filters["DXImageTransform.Microsoft.Alpha"].opacity}catch(a){try{n=t.filters("alpha").opacity}catch(s){}}return(n/100).toString(10)}if("width"==e||"height"==e)return r.getDomWidthOrHeightForOldIE(t,e);"float"==e&&(e="styleFloat");var o;if(t.currentStyle&&(o=t.currentStyle[e],!o)){var l=i.dashedToCamel(e);o=t.currentStyle[l]}return o||t.style[e]}:function(e,i){var r=t.$window,n=null;if("float"==i)i="cssFloat";else if("backgroundPositionX"==i||"backgroundPositionY"==i){var a=this.getStyle(e,"backgroundPosition");if(a){var s=/^([-.0-9a-z%]+)\s([-.0-9a-z%]+)($|,)/.exec(a);s&&(n="backgroundPositionX"==i?s[1]:s[2])}return n}var o=r.getComputedStyle(e,"");return o&&(n=o[i]),n||e.style[i]},this.getStyle(n,a)},centerInViewport:function(t,e){var i=this._getViewportSize(),r=this._getDocumentScroll(e);return{left:parseInt(r.scrollLeft+(i.width-t.width)/2,10),top:parseInt(r.scrollTop+(i.height-t.height)/2,10)}},isInViewport:function(t,e,i){var r=this._getViewportSize(),n=this._getDocumentScroll(i);return t.top<n.scrollTop||t.left<n.scrollLeft||t.top+e.height>n.scrollTop+r.height||t.left+e.width>n.scrollLeft+r.width?!1:!0},isInside:function(t,e){return t.width=t.width||0,t.height=t.height||0,e==this.VIEWPORT?this.isInViewport({left:t.x,top:t.y},{width:t.width,height:t.height}):(e.width=e.width||0,e.height=e.height||0,t.x<e.x||t.y<e.y||t.x+t.width>e.x+e.width||t.y+t.height>e.y+e.height?!1:!0)},fitInViewport:function(t,e,i){var r=this._getViewportSize(),n=this._getDocumentScroll(i),a=n.scrollTop,s=Math.max(0,n.scrollTop+r.height-e.height),o=aria.utils.Math.normalize(t.top,a,s),l=n.scrollLeft,h=Math.max(0,n.scrollLeft+r.width-e.width),u=aria.utils.Math.normalize(t.left,l,h);return{top:o,left:u}},fitInside:function(t,e){t.width=t.width||0,t.height=t.height||0,e==this.VIEWPORT&&(e=this.getViewportSize(),e.x=e.y=0),e.width=e.width||0,e.height=e.height||0;var i=t.x<e.x?e.x:t.x,r=t.y<e.y?e.y:t.y;return t.x+t.width>e.x+e.width&&(i=e.x+e.width-t.width),t.y+t.height>e.y+e.height&&(r=e.y+e.height-t.height),{top:r,left:i}},isAncestor:function(t,e){if(!t||!t.ownerDocument)return!1;for(var i=t.ownerDocument,r=i.body,n=t;n&&n!=r;){if(n==e)return!0;n=n.parentNode}return n==e},isInDom:function(t){return t?this.isAncestor(t,t.ownerDocument.body):!1},removeElement:function(t){t.parentNode&&t.parentNode.removeChild(t)},scrollIntoView:function(t,e){for(var i=t.ownerDocument,r=t,n=r.getBoundingClientRect(),a=!1,s=this.getDocumentScrollElement(i);t;)if(t=t==i.body?s:t.parentNode){var o=t.clientHeight?t.scrollHeight>t.clientHeight:!1;if(!o){t==s&&(t=null);continue}var l;l=t==s?{left:0,top:0}:t.getBoundingClientRect();var h=n.left-(l.left+(0|parseInt(t.style.borderLeftWidth,10))),u=n.right-(l.left+t.clientWidth+(0|parseInt(t.style.borderLeftWidth,10))),c=n.top-(l.top+(0|parseInt(t.style.borderTopWidth,10))),d=n.bottom-(l.top+t.clientHeight+(0|parseInt(t.style.borderTopWidth,10)));if(0>h?t.scrollLeft+=h:u>0&&(t.scrollLeft+=u),e!==!0||a?e!==!1||a?0>c?t.scrollTop+=c:d>0&&(t.scrollTop+=d):t.scrollTop+=d:t.scrollTop+=c,t==s)t=null;else{var p=r.getBoundingClientRect();p.top!=n.top&&(a=!0),n=p}}},getDocumentScrollElement:function(i){return null==i&&(i=t.$window.document),e.isSafari||e.isChrome||"CSS1Compat"!=i.compatMode?i.body:i.documentElement},setOpacity:function(t,i){var r=e,n=r.isIE8||r.isIE7;this.setOpacity=n?this._setOpacityLegacyIE:this._setOpacityW3C,this.setOpacity(t,i)},_setOpacityLegacyIE:function(t,e){t.style.cssText+=";filter:alpha(opacity="+100*e+");"},_setOpacityW3C:function(t,e){t.style.opacity=e},_refreshScrollbarsFix:function(t){for(var e=[],i=t;i&&i.style;)e.push(i.style.cssText),i.style.overflow="hidden",i=i.parentNode;for(t.getBoundingClientRect(),i=t;i&&i.style;)i.style.cssText=e.shift(),i=i.parentNode},_checkRefreshScrollbarsNeeded:function(){if(!e.isWebkit)return!1;var i=t.$window.document,r=i.createElement("div");r.style.cssText="overflow:auto;width:100px;height:100px;left:-1000px;top:-1000px;",r.innerHTML='<div style="width:150px;height:100px;"></div>',i.body.appendChild(r);var n=r.scrollWidth>r.clientWidth;r.firstChild.style.width="100px";var a=r.scrollWidth>r.clientWidth;return i.body.removeChild(r),n&&a},refreshScrollbars:function(e){this.refreshScrollbars=this._checkRefreshScrollbarsNeeded()?this._refreshScrollbarsFix:t.empty,this.refreshScrollbars(e)},getStylePx:function(t,e,i){var r=this.getStyle(t,e);return this.pxRegExp.test(r)?parseInt(r,10):i},getElementsByClassName:function(t,e){if(!t)return[];if(e=String(e),t.getElementsByClassName)return t.getElementsByClassName(e);for(var i=t.getElementsByTagName("*"),r=[],n=new RegExp("\\b"+e+"\\b"),a=0,s=i.length;s>a;a++){var o=i[a];n.test(o.className)&&r.push(o)}return r}}});
//*******************
//LOGICAL-PATH:aria/utils/Device.js
//*******************
var t=require("../Aria"),e=require("../utils/Array"),i=require("../core/Browser"),r=require("../core/useragent/UserAgent"),n=require("./Event"),a=require("./Dom"),s=require("../utils/Type");module.exports=t.classDefinition({$classpath:"aria.utils.Device",$singleton:!0,$events:{orientationchange:""},$statics:{DEPRECATED_REPLACED_PROPERTY:"Property %1 is deprecated, use %2 instead.",DEPRECATED_REMOVED_PROPERTY:"Property %1 is deprecated and is gonna be removed (not supported anymore).",DEPRECATED_REPLACED_METHOD:"Method %1 is deprecated, use %2 instead.",DEPRECATED_REMOVED_METHOD:"Method %1 is deprecated and is gonna be removed (not supported anymore)."},$constructor:function(){this.ua=null,this._previousIsPortrait=this.isPortrait(!0),this._deprecatedProperties=[],this.init();var t=[{name:"ua",alternative:"aria.core.Browser.ua"},{name:"isMobile",type:"method",underlying:"isPhone"},{name:"isPhoneGap",type:"method",underlying:{name:"isPhoneGap",container:i,containerName:"aria.core.Browser"}},{name:"is2DTransformCapable",type:"method",underlying:{name:"is2DTransformCapable",container:i,containerName:"aria.core.Browser"}},{name:"is3DTransformCapable",type:"method",underlying:{name:"is3DTransformCapable",container:i,containerName:"aria.core.Browser"}}],r=[],n=s.isString;e.forEach(t,function(t){s.isString(t)&&(t={name:t});var e=t.name,i=t.type;null==i&&(i="attribute"),t.type=i;var a;if("method"==i){var o=t.underlying;n(o)&&(o={name:o});var l=o.name,h=o.container;null==h&&(h=this),o.container=h;var u=o.containerName;a="",null!=u&&(a+=u+"."),a+=l,o=function(){return h[l].apply(h,arguments)},t.underlying=o}var c=t.alternative;null==c&&null!=a&&(c=a),t.alternative=c;var d,p=[e];null!=c?(d="attribute"==i?"DEPRECATED_REPLACED_PROPERTY":"DEPRECATED_REPLACED_METHOD",p.push(c)):d="attribute"==i?"DEPRECATED_REMOVED_PROPERTY":"DEPRECATED_REMOVED_METHOD",t.loggingMessage=this[d],t.loggingMessageArguments=p,r.push(t)},this),this._deprecatedProperties=r,this.__deprecateProperties(),this.__ensureDeprecatedProperties()},$prototype:{__deprecateProperties:function(){i.supportsPropertyDescriptors()&&e.forEach(this._deprecatedProperties,function(t){var e=t.name,i=t.type,r=t.underlying,n=t.loggingMessage,a=t.loggingMessageArguments,s=this;if("attribute"==i){var o="_"+e;this[o]=this[e],Object.defineProperty(this,e,{get:function(){return s.$logWarn(n,a),s[o]},set:function(t){s.$logWarn(n,a),s[o]=t}})}else this[e]=function(){return s.$logWarn(n,a),r.apply(s,arguments)}},this)},__ensureDeprecatedProperties:function(){i.supportsPropertyDescriptors()||e.forEach(this._deprecatedProperties,function(t){var e=t.type;if("attribute"==e){var i=t.name,r="_"+i;this[i]=this[r]}},this)},init:function(t){var e=i.init(t);return this.__userAgentWrapper=e,this._ua=e.ua,this.__ensureDeprecatedProperties(),e},model:function(){var t=this.__userAgentWrapper.results.device.model;return null!=t?t:""},vendor:function(){var t=this.__userAgentWrapper.results.device.vendor;return null!=t?t:""},deviceName:function(){for(var t=[this.vendor(),this.model()],e=t.length-1;e>=0;e--){var i=t[e];(null==i||null==i.length||i.length<=0)&&t.splice(e,1)}var r=t.join(" - ");return r},isPhone:function(){var t=!1,e=this.__userAgentWrapper.results.device.type;return t||null!=e&&(t="mobile"==r.normalizeName(e)),t||this.isTablet()||(t=i.isAndroid||i.isBlackBerry||i.isIOS||i.isSymbian||i.isWindowsPhone||"webos"==r.normalizeName(i.osName)),!!t},isTablet:function(){var t=!1,e=this.__userAgentWrapper.results.device.type;if(t||null!=e&&(t="tablet"==r.normalizeName(e)),!t){var i=this.__userAgentWrapper.ua.toLowerCase();t=/(iPad|SCH-I800|GT-P1000|GT-P1000R|GT-P1000M|SGH-T849|SHW-M180S|android 3.0|xoom|NOOK|playbook|tablet|silk|kindle|GT-P7510)/i.test(i)}return!!t},isDevice:function(){return this.isPhone()||this.isTablet()},isDesktop:function(){return!this.isDevice()},isTouch:function(){var r=!1;if(i.isBlackBerry)e.contains([9670,9100,9105,9360,9350,9330,9320,9310,9300,9220,9780,9700,9650],+this.model())||(r=!0);else{var n=t.$window;("ontouchstart"in n||n.DocumentTouch&&n.document instanceof n.DocumentTouch)&&(r=!0)}return!!r},$on:function(){n.addListener(t.$window,"resize",{fn:this._onResize,scope:this}),this._previousIsPortrait=this.isPortrait(),this.$JsObject.$on.apply(this,arguments)},_onResize:function(){var t=this.isPortrait();t!==this._previousIsPortrait&&(this.$raiseEvent({name:"orientationchange",isPortrait:t}),this._previousIsPortrait=t)},isPortrait:function(){var t=a.getViewportSize();return t.height>t.width},isClickNavigation:function(){return i.isBlackBerry}}});
//*******************
//LOGICAL-PATH:aria/utils/DomBeans.js
//*******************
var t=require("../Aria"),e=require("../core/JsonTypes");module.exports=t.beanDefinitions({$package:"aria.utils.DomBeans",$namespaces:{json:e},$beans:{Size:{$type:"json:Object",$properties:{width:{$type:"json:Float",$default:0},height:{$type:"json:Float",$default:0}}},Position:{$type:"json:Object",$properties:{top:{$type:"json:Float",$default:0},left:{$type:"json:Float",$default:0},scrollTop:{$type:"json:Float",$default:0},scrollLeft:{$type:"json:Float",$default:0}}},Geometry:{$type:"json:Object",$properties:{y:{$type:"json:Float",$default:0},x:{$type:"json:Float",$default:0},width:{$type:"json:Float",$default:0},height:{$type:"json:Float",$default:0}}}}});
//*******************
//LOGICAL-PATH:aria/utils/overlay/Overlay.js
//*******************
var t=require("../../Aria"),e=require("../Dom");module.exports=t.classDefinition({$classpath:"aria.utils.overlay.Overlay",$constructor:function(t,e){var i=this._createOverlay(e);this.overlay=i,this.element=t,this._appendToDOM(i),this._setInPosition(t,i),this._computeZIndex(t,i)},$destructor:function(){this.overlay.parentNode.removeChild(this.overlay),this.overlay=null,this.element=null},$prototype:{_createOverlay:function(e){var i=t.$window.document,r=i.createElement(e.type||"div");e.id&&(r.id="xOverlay"+e.id),r.className=e.className||"xOverlay";var n=e.position||"absolute";return r.style.left=0,r.style.top=0,r.style.position=n,r},_appendToDOM:function(e){var i=t.$window.document;i.body.appendChild(e)},_setInPosition:function(t,i){for(var r,n=e,a=i.style,s=["Top","Right","Bottom","Left"],o={},l=0,h=s.length;h>l;l++)r=n.getStyle(i,"border"+s[l]+"Width").split("px")[0],o[s[l].toLowerCase()]=r?+r:0;var u=e.getGeometry(t);if(u){a.position="absolute";var c=n.getDocumentScrollElement();a.top=u.y+c.scrollTop+"px",a.left=u.x+c.scrollLeft+"px",a.width=u.width-o.left-o.right+"px",a.height=u.height-o.top-o.bottom+"px",a.display="block"}},_computeZIndex:function(e,i){for(var r=t.$window.document,n=2e4,a=r.body;e&&e!=a;){var s=e.style,o=s.zIndex;if(o){var l=parseInt(o,10);l>n&&(n=l+1)}e=e.parentNode}i.style.zIndex=""+n},refreshPosition:function(){this._setInPosition(this.element,this.overlay)},refresh:function(){this._setInPosition(this.element,this.overlay),this._computeZIndex(this.element,this.overlay)}}});
//*******************
//LOGICAL-PATH:aria/utils/overlay/LoadingOverlay.js
//*******************
var t=require("../../Aria"),e=require("./Overlay"),i=require("../../core/Browser"),r=require("../Event");module.exports=t.classDefinition({$classpath:"aria.utils.overlay.LoadingOverlay",$extends:e,$constructor:function(t,e,i){this.__text=i,this.$Overlay.constructor.call(this,t,{id:e,className:"xLDI"});var n=aria.core.Browser;(n.isIE8||n.isIE7)&&(this._scrollRecListener=!0,r.addListenerRecursivelyUp(this.element,"scroll",{fn:this.refreshPosition,scope:this},!0,function(t){return t.style&&"hidden"!=t.style.overflow}))},$destructor:function(){this._scrollRecListener&&(r.removeListenerRecursivelyUp(this.element,"scroll",{fn:this.refreshPosition,scope:this}),this._scrollRecListener=!1),this.$Overlay.$destructor.call(this)},$prototype:{_createOverlay:function(t){var e=this.$Overlay._createOverlay.call(this,t);return this.__text&&(e.innerHTML="<span class='xLDI-text'>"+this.__text+"</span>"),e},_appendToDOM:function(e){var i=t.$window.document;i.body.appendChild(e)},_setInPosition:function(t,e){var r=aria.utils.Dom.getGeometry(t),n=aria.utils.Dom.getViewportSize(),a=null;if(r){var s,o,l,h,u={x:Math.max(r.x,0),y:Math.max(r.y,0)};if("absolute"==e.style.position){var c=aria.utils.Dom._getDocumentScroll();a={x:Math.max(r.x,0)+c.scrollLeft,y:Math.max(r.y,0)+c.scrollTop}}else a=u;s=r.width+Math.min(r.x,0),l=r.height+Math.min(r.y,0),o=n.width-u.x,h=n.height-u.y,a.width=Math.min(s,o),a.height=Math.min(l,h)}var d=e.style;if(a&&a.height>0&&a.width>0){d.top=a.y+"px",d.left=a.x+"px",d.width=a.width+"px",d.height=a.height+"px",d.display="block";var p=i;p.isIE&&p.majorVersion<9&&e.firstChild&&(e.firstChild.style.top=Math.round(a.height/2)+"px")}else d.display="none"}}});
//*******************
//LOGICAL-PATH:aria/utils/DomOverlay.js
//*******************
var t=require("../Aria"),e=require("./overlay/LoadingOverlay"),i=require("./Type"),r=require("./Event"),n=require("./AriaWindow"),a=require("../templates/Layout");module.exports=t.classDefinition({$classpath:"aria.utils.DomOverlay",$singleton:!0,$statics:{UNIQUE_ID_GENERATOR:12},$constructor:function(){this.overlays=null,this._nbOverlays=0,this.bodyOverlay=null,n.$on({unloadWindow:this._reset,scope:this})},$destructor:function(){this._reset(),n.$unregisterListeners(this)},$prototype:{_init:function(){null==this.overlays&&(this.overlays={},n.attachWindow(),r.addListener(t.$window,"scroll",{fn:this.__refresh,scope:this},!0),a.$on({viewportResized:this.__refresh,scope:this}))},_reset:function(){null!=this.overlays&&(r.removeListener(t.$window,"scroll",{fn:this.__refresh}),a.$removeListeners({viewportResized:this.__refresh,scope:this}),n.detachWindow(),this.overlays=null,this._nbOverlays=0)},create:function(i,r){var n=this.__getOverlay(i);if(n)return n.overlay.refresh(),n.id;var a=++this.UNIQUE_ID_GENERATOR;return n=new e(i,a,r),this._init(),i!==t.$window.document.body?(this.overlays[a]=n,this._nbOverlays++,i.__overlay=a):this.bodyOverlay=n,a},detachFrom:function(e){var i=this.__getOverlay(e);if(i){i.overlay.$dispose();var r=i.id;return e===t.$window.document.body?this.bodyOverlay=null:(delete this.overlays[r],this._nbOverlays--),i=null,0===this._nbOverlays&&null==this.bodyOverlay&&this._reset(),r}},__getOverlay:function(e){if(e===t.$window.document.body)return this.bodyOverlay?{overlay:this.bodyOverlay}:null;var i=e.__overlay;if(i&&null!=this.overlays){var r=this.overlays[i];return r?{overlay:r,id:i}:void(e.__overlay=null)}},__refresh:function(){this.$assert(184,null!=this.overlays);var t=this.overlays;for(var e in t)if(t.hasOwnProperty(e)){var i=t[e];i.refreshPosition()}this.bodyOverlay&&this.bodyOverlay.refreshPosition()},disposeOverlays:function(t){if(i.isArray(t)&&null!=this.overlays){for(var e=0,r=t.length;r>e;e+=1){var n=this.overlays[t[e]];n&&(n.$dispose(),delete this.overlays[t[e]],this._nbOverlays--)}0===this._nbOverlays&&null==this.bodyOverlay&&this._reset()}}}});
//*******************
//LOGICAL-PATH:aria/utils/Function.js
//*******************
var t=require("../Aria");module.exports=t.classDefinition({$classpath:"aria.utils.Function",$singleton:!0,$prototype:{bind:function(t,e){for(var i=[],r=2;r<arguments.length;r++)i.push(arguments[r]);return function(){for(var r=i.slice(0),n=0;n<arguments.length;n++)r.push(arguments[n]);return t.apply(e,r)}},wrapObjectFn:function(t,e,i,r){r||(r="");for(var n=0,a=i.length;a>n;n++){var s=i[n];e[r+s]=this.bind(t[s],t)}},bindCallback:function(t){var e=this;return t=e.$normCallback(t),function(){return e.$callback(t,arguments)}}}});
//*******************
//LOGICAL-PATH:aria/utils/FireDomEvent.js
//*******************
var e=require("../Aria"),t=require("./Type"),i=require("../core/Browser");!function(){function r(t,i,r,n,a,l,h,u,c,d,p){var f=e.$window.document;if(t||o.$logError("simulateKeyEvent(): Invalid target."),s.isString(i))switch(i=i.toLowerCase()){case"textevent":i="keypress";break;case"keyup":case"keydown":case"keypress":break;default:o.$logError("simulateKeyEvent(): Event type '"+i+"' not supported.")}else o.$logError("simulateKeyEvent(): Event type must be a string.");s.isBoolean(r)||(r=!0),s.isBoolean(n)||(n=!0),s.isObject(a)||(a=e.$window),s.isBoolean(l)||(l=!1),s.isBoolean(h)||(h=!1),s.isBoolean(u)||(u=!1),s.isBoolean(c)||(c=!1),s.isNumber(d)||(d=0),s.isNumber(p)||(p=0);var g=null;if(s.isFunction(f.createEvent)){try{g=f.createEvent("KeyEvents"),g.initKeyEvent(i,r,n,a,l,h,u,c,d,p)}catch(_){try{g=f.createEvent("Events")}catch(m){g=f.createEvent("UIEvents")}finally{g.initEvent(i,r,n),g.view=a,g.altKey=h,g.ctrlKey=l,g.shiftKey=u,g.metaKey=c,g.keyCode=d,g.charCode=p}}t.dispatchEvent(g)}else s.isObject(f.createEventObject)?(g=f.createEventObject(),g.bubbles=r,g.cancelable=n,g.view=a,g.ctrlKey=l,g.altKey=h,g.shiftKey=u,g.metaKey=c,g.keyCode=p>0?p:d,t.fireEvent("on"+i,g)):o.$logError("simulateKeyEvent(): No event simulation framework present.")}function n(t,i,r,n,a,h,u,c,p,f,g,_,m,v,y,w,E,A,T){var C=e.$window.document;t||o.$logError("simulateEvent(): Invalid target."),s.isString(i)?(/^MSPointer/.test(i)||(i=i.toLowerCase()),l[i]||o.$logError("simulateEvent(): Event type '"+i+"' not supported.")):o.$logError("simulateEvent(): Event type must be a string."),s.isBoolean(r)||(r=!0),s.isBoolean(n)||(n="mousemove"!=i),s.isObject(a)||(a=e.$window),s.isNumber(h)||(h=1),s.isNumber(u)||(u=0),s.isNumber(c)||(c=0),s.isNumber(p)||(p=0),s.isNumber(f)||(f=0),s.isBoolean(g)||(g=!1),s.isBoolean(_)||(_=!1),s.isBoolean(m)||(m=!1),s.isBoolean(v)||(v=!1),s.isNumber(y)||(y=0),s.isArray(E)||(E=void 0),s.isArray(A)||(A=void 0),s.isBoolean(T)||(T=!0);var D=null;if(s.isFunction(C.createEvent))D=C.createEvent("MouseEvents"),D.initMouseEvent?D.initMouseEvent(i,r,n,a,h,u,c,p,f,g,_,m,v,y,w||null):(D=C.createEvent("UIEvents"),D.initEvent(i,r,n),D.view=a,D.detail=h,D.screenX=u,D.screenY=c,D.clientX=p,D.clientY=f,D.ctrlKey=g,D.altKey=_,D.metaKey=v,D.shiftKey=m,D.button=y,D.relatedTarget=w),D.touches=d(E),D.changedTouches=d(A),D.isPrimary=T,D.pageX=p,D.pageY=f,w&&!D.relatedTarget&&("mouseout"==i?D.toElement=w:"mouseover"==i&&(D.fromElement=w)),t.dispatchEvent(D);else if(s.isObject(C.createEventObject)){switch(D=C.createEventObject(),D.bubbles=r,D.cancelable=n,D.view=a,D.detail=h,D.screenX=u,D.screenY=c,D.clientX=p,D.clientY=f,D.ctrlKey=g,D.altKey=_,D.metaKey=v,D.shiftKey=m,D.touches=E,D.changedTouches=A,D.isPrimary=T,y){case 0:D.button=1;break;case 1:D.button=4;break;case 2:break;default:D.button=0}D.relatedTarget=w,null!=t.checked&&(t.checked=!t.checked),t.fireEvent("on"+i,D)}else o.$logError("simulateEvent(): No event simulation framework present.")}function a(t,i){var r=e.$window.document;t||o.$logError("simulateHtmlEvent(): Invalid target."),s.isString(i)?(i=i.toLowerCase(),u[i]||o.$logError("simulateHtmlEvent(): Event type '"+i+"' not supported.")):o.$logError("simulateHtmlEvent(): Event type must be a string.");var n="change"===i,a=!1,l=null;s.isFunction(r.createEvent)?(l=r.createEvent("HTMLEvents"),l.initEvent(i,n,a),t.dispatchEvent(l)):s.isObject(r.createEventObject)?(l=r.createEventObject(),l.bubbles=n,l.cancelable=a,t.fireEvent("on"+i,l)):o.$logError("simulateHtmlEvent(): No event simulation framework present.")}var s,o,l={click:1,dblclick:1,mouseover:1,mouseout:1,mousedown:1,mouseup:1,mousemove:1,touchstart:1,touchend:1,touchmove:1,dommousescroll:1,mousewheel:1,MSPointerDown:1,MSPointerMove:1,MSPointerUp:1},h={keydown:1,keyup:1,keypress:1},u={focus:1,blur:1,change:1},c=function(e,t,i){i=i||{},l[t]?n(e,t,i.bubbles,i.cancelable,i.view,i.detail,i.screenX,i.screenY,i.clientX,i.clientY,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.button,i.relatedTarget,i.touches,i.changedTouches,i.isPrimary):h[t]?r(e,t,i.bubbles,i.cancelable,i.view,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode):u[t]?a(e,t,i.bubbles,i.cancelable):o.$logError("simulate(): Event '"+t+"' can't be simulated.")},d=function(e){if(!e||0===e.length)return e;for(var t=[],i=0;i<e.length;i+=1){var r=e[i];"pageX"in r||(r.pageX=r.clientX),"pageY"in r||(r.pageY=r.clientY),t.push(r)}return t.identifiedTouch=function(){return this[0]},t.item=function(e){return this[e]},t};module.exports=e.classDefinition({$classpath:"aria.utils.FireDomEvent",$singleton:!0,$constructor:function(){s=t,o=this;var r=i;if(r.isFirefox&&3==r.majorVersion){var n=e.$window.MouseEvent.prototype;this.originalPageXsetter=n.__lookupSetter__("pageX"),this.originalPageXgetter=n.__lookupGetter__("pageX"),this.originalPageYsetter=n.__lookupSetter__("pageY"),this.originalPageYgetter=n.__lookupGetter__("pageY"),n.__defineSetter__("pageX",function(e){this.__pageX=e}),n.__defineGetter__("pageX",function(){return this.__pageX}),n.__defineSetter__("pageY",function(e){this.__pageY=e}),n.__defineGetter__("pageY",function(){return this.__pageY})}},$destructor:function(){var t=i;if(t.isFirefox&&3==t.majorVersion){var r=e.$window.MouseEvent.prototype;r.__defineSetter__("pageX",this.originalPageXsetter),r.__defineGetter__("pageX",this.originalPageXgetter),r.__defineSetter__("pageY",this.originalPageYsetter),r.__defineGetter__("pageY",this.originalPageYgetter),this.originalPageXsetter=null,this.originalPageXgetter=null,this.originalPageYsetter=null,this.originalPageYgetter=null}s=null,o=null},$prototype:{fireEvent:function(e,t,i){c(t,e,i)},fireKeydownEventAdaptedForKeyNav:function(e,t){this.fireKeydownEventAdaptedForKeyNav=i.isOldIE||i.isSafari?function(e,t){c(e,"keydown",t)}:function(e,t){c(e,"keydown",t),c(e,"keypress",t)},this.fireKeydownEventAdaptedForKeyNav(e,t)}}})}();
//*******************
//LOGICAL-PATH:aria/utils/Ellipsis.js
//*******************
var e=require("../Aria"),t=require("./Function"),i=require("./FireDomEvent"),r=require("./Dom"),n=require("../popups/Popup"),a=require("./String"),s=require("../core/Timer");module.exports=e.classDefinition({$classpath:"aria.utils.Ellipsis",$constructor:function(t,i,r,n,s,o){var l=e.$window.document;if(this.textContent=t.innerHTML,this.context=s,this.ellipsisElement=t,this.ellipsesNeeded=!1,this.position=r,1==t.childNodes.length&&3==t.childNodes[0].nodeType){i||(i=t.parentNode.offsetWidth,"xICNsortIndicator"==t.parentNode.lastChild.className&&t.parentNode.lastChild.offsetWidth>0&&(i-=t.parentNode.lastChild.offsetWidth));var h=this._createSizerEl(t);h.innerHTML=t.innerHTML,l.body.appendChild(h);var u=h.offsetWidth;h.parentNode.removeChild(h),h.innerHTML=(null!=n?n:"")+"&nbsp;",l.body.appendChild(h);var c=h.offsetWidth;if(h.parentNode.removeChild(h),h=null,u>i){this.ellipsesNeeded=!0;var d=l.createElement("SPAN");if(d.style.whiteSpace="nowrap",d.style.overflow="hidden",d.style.display="inline-block",d.style.verticalAlign="bottom",i-=c,"fullCharacter"==o){var p=i,f=this._createSizerEl(t),_=0,g=0,m=this.textContent.length,v=u;for(this._getCharacters="left"===r?this._getCharactersLeft:this._getCharactersRight,this.fullText=t.textContent||t.innerText||"";m-_>1;){var y=m-_,w=v-g,E=w/y,A=_+Math.round((p-g)/E);A===m?A--:A===_&&A++,f.innerHTML=a.escapeForHTML(this._getCharacters(A)),i=f.offsetWidth,i>p?(m=A,v=i):(_=A,g=i)}this.truncatedText=this._getCharacters(_),f.parentNode.removeChild(f),f=null,d.innerHTML=a.escapeForHTML(this.truncatedText)}else 0>i&&(i=0),d.style.width=i+"px",d.innerHTML=t.innerHTML;"left"==r&&(d.style.direction="rtl"),t.innerHTML="";var T=l.createElement("SPAN");"left"==r?(T.innerHTML=n+"&nbsp;",t.appendChild(T),t.appendChild(d)):"right"==r&&(T.innerHTML="&nbsp;"+n,t.appendChild(d),t.appendChild(T))}}else this.$logWarn(this.ELLIPSIS_NONTEXTUAL_ELEMENTS)},$destructor:function(){this._popup&&null!==this._popup&&(this._popup.close(),this._popup=null),this.context=null,this.textContent=null,this.ellipsisElement=null,this.ellipsesNeeded=null,this.callbackID&&s.cancelCallback(this.callbackID),this.callbackID=null},$statics:{ELLIPSIS_NONTEXTUAL_ELEMENTS:"Non-textual elements cannot be constrained to a specific width"},$prototype:{_getCharactersLeft:function(e){return this.fullText.substring(this.fullText.length-e)},_getCharactersRight:function(e){return this.fullText.substring(0,e)},_createSizerEl:function(t){var i=e.$window.document,r=i.createElement(t.tagName);return r.className=t.className,r.setAttribute("style",t.getAttribute("style")),t.parentNode.appendChild(r),r.style.visibility="hidden",r.style.position="absolute",r.style.whiteSpace="nowrap",r},_renderFullText:function(e){e.write("<span style='cursor:pointer;white-space:nowrap;background:white;font-weight:bold;'>"+this.textContent+"</span>")},displayFullText:function(e){this.callbackID&&(s.cancelCallback(this.callbackID),this.callbackID=null),null==this._popup&&this.ellipsesNeeded===!0&&(this.callbackID=s.addCallback({fn:this._showPopup,scope:this,delay:500,args:e}))},_showPopup:function(e){var i=this.context.createSection({fn:this._renderFullText,scope:this}),r=new n;this._popup=r,r.$on({scope:this,onAfterClose:this._onAfterPopupClose}),r.open({section:i,domReference:this.ellipsisElement,preferredPositions:[{reference:"top left",popup:"top left"}],closeOnMouseOut:!0,offset:{top:e.top,left:e.left}}),r.domElement.firstChild.onclick=t.bind(this._popup_onmouseclick,this),this.callbackID=null},_popup_onmouseclick:function(){i.fireEvent("click",this.ellipsisElement,{})},_hideFullText:function(e){this.callbackID&&s.cancelCallback(this.callbackID),null!=this._popup&&(r.isAncestor(e,this._popup.domElement)||this._popup&&this._popup.closeOnMouseOut()),this.callbackID=null},_onAfterPopupClose:function(){this._popup.$dispose(),this._popup=null}}});
//*******************
//LOGICAL-PATH:aria/utils/FrameATLoader.js
//*******************
var e=require("../Aria"),t=require("../core/Cache"),i=require("../core/DownloadMgr"),r=require("../core/IO");module.exports=e.classDefinition({$classpath:"aria.utils.FrameATLoader",$singleton:!0,$events:{bootstrapLoaded:""},$statics:{BOOTSTRAP:-1,WAIT:-2},$constructor:function(){this.frameworkHrefPattern=/(aria-?templates-([^\/]+)\.js|aria\/bootstrap\.js)/,this.frameworkHref=null,this.frameworkJS=null,this.bootRootFolderPath=null,this._loadingFrameworkJs=!1,this._callbacks={},this._counter=0},$prototype:{loadAriaTemplatesInFrame:function(e,t,i){this.loadBootstrap({fn:this._loadATInFrameCb1,scope:this,args:{options:i||{},frame:e,cb:t}})},_loadATInFrameCb1:function(t,r){if(t===!0)return void this.$callback(r.cb,{success:!1,reason:this.BOOTSTRAP});var a=this._createCallbackId({fn:this._loadATInFrameCb2,scope:this,args:r}),n=e.$frameworkWindow.location.href.replace(/(\?|\#).*$/,"").replace(/[^\/.]+\.[^\/.]+$/,"").replace(/\/$/,"")+"/",s=[i.resolveURL("aria/utils/FrameATLoaderHTML.html"),"?",encodeURIComponent(n),"#",a].join(""),o=r.frame.contentWindow||r.frame;o.location=s},_loadATInFrameCb2:function(t,i){var r=i.frame.contentWindow||i.frame,a=r.document,n=r.Aria;n.rootFolderPath=this.bootRootFolderPath,n.debug=e.debug,n.memCheckMode=e.memCheckMode,r.Aria.eval(this.frameworkJS),a.write('<script type="text/javascript">(opener || parent).aria.utils.FrameATLoader.callFromFrame('+this._createCallbackId({fn:this._loadATInFrameCb3,scope:this,args:i})+");</script>")},_loadATInFrameCb3:function(e,t){var i=t.frame.contentWindow||t.frame,r=5,a=this,n=function(){return r-=1,r>=0?void(null==i.aria?setTimeout(n,30):a._loadATInFrameCb4(e,t)):a.$callback(t.cb,{success:!1,reason:this.WAIT})};setTimeout(n,30)},_loadATInFrameCb4:function(r,a){var n=a.frame.contentWindow||a.frame;a.options.iframePageCss&&this._injectGlobalCss(n,a.options.iframePageCss),n.Aria.rootFolderPath=e.rootFolderPath;var s=n.aria.utils.Json.copy(i._rootMap);if(n.aria.core.DownloadMgr.updateRootMap(s),aria.widgets&&aria.widgets.AriaSkin){var o=aria.widgets.AriaSkin.classDefinition;n.Aria.classDefinition({$classpath:"aria.widgets.AriaSkin",$singleton:!0,$prototype:n.aria.utils.Json.copy(o.$prototype)})}var l=n.aria.core.DownloadMgr,h=n.aria.core.Cache,c=t,u=c.content.files,d=c.content.urls,p=c.STATUS_AVAILABLE,f=c.STATUS_ERROR;for(var _ in u)if(u.hasOwnProperty(_)){var g=u[_];g.status==p?l.loadFileContent(_,g.value,!1):g.status==f&&l.loadFileContent(_,null,!0)}for(var m in d)if(d.hasOwnProperty(m)){var g=d[m],v=h.getItem("urls",m,!0);g.status==p?v.status=p:g.status==f&&(v.status=f)}this.$callback(a.cb,{success:!0})},_injectGlobalCss:function(e,t){var i=e.document,r=i.head||i.getElementsByTagName("head")[0],a=i.createElement("style");a.type="text/css",a.styleSheet?a.styleSheet.cssText=t:a.appendChild(i.createTextNode(t)),r.appendChild(a)},_createCallbackId:function(e){return this._counter++,this._callbacks[this._counter]=e,this._counter},callFromFrame:function(e){var t=this._callbacks[e];delete this._callbacks[e],this.$callback(t)},_findScriptPattern:function(t){for(var i=e.$frameworkWindow.document.getElementsByTagName("script"),r=0,a=i.length;a>r;r++){var n=i[r];if(n.attributes&&n.attributes.src){var s=n.attributes.src.nodeValue;if(t.exec(s))return s}}return this.$logError("Could not find the script corresponding to pattern: %1. Please set the aria.jsunit.FrameATLoader.frameworkHref property manually."),null},loadBootstrap:function(e){if(null==this.bootRootFolderPath){var t=i.resolveURL("aria/Aria.js",!0);this.bootRootFolderPath=t.replace(/aria\/Aria\.js$/,"")}return this.frameworkJS?void this.$callback(e):null==this.frameworkHref&&(this.frameworkHref=this._findScriptPattern(this.frameworkHrefPattern),null==this.frameworkHref)?void this.$callback(e,!0):(this.$onOnce({bootstrapLoaded:e}),void(this._loadingFrameworkJs||(this._loadingFrameworkJs=!0,r.asyncRequest({url:this.frameworkHref,callback:{fn:this._frameworkLoaded,scope:this}}))))},_frameworkLoaded:function(e){this._loadingFrameworkJs=!1,this.frameworkJS=e.responseText,this.$raiseEvent("bootstrapLoaded")}}});
//*******************
//LOGICAL-PATH:aria/utils/FunctionWriter.js
//*******************
var e=require("../Aria"),t=require("./String");module.exports=e.classDefinition({$classpath:"aria.utils.FunctionWriter",$constructor:function(e){this.functionArguments=e,this.variables=[],this.out=[],this._varIndex=0,this._unusedTempVariables=[],this._usedTempVariables={},this._shortcuts={}},$statics:{INVALID_RELEASE_TEMP_VAR:"releaseTempVariable was called with parameter %1, but this is not the name of a currently used variable created with createTempVariable.",INVALID_RELEASE_SHORTCUT:"releaseShortcut was called with parameter %1, but there was no previous call of createShortcut which returned that value.",REGULARNAME_REGEXP:/^[A-Za-z_][A-Za-z_0-9]*$/},$prototype:{$init:function(e){e.stringify=t.stringify},addVariable:function(e){this.variables.push(e)},createTempVariable:function(e){var t,i=this._unusedTempVariables;return i.length>0?t=i.pop():(this._varIndex++,t="v"+this._varIndex,this.addVariable(t)),this._usedTempVariables[t]=!0,e&&this.out.push(t,"=",e,";"),t},releaseTempVariable:function(e){this._usedTempVariables.hasOwnProperty(e)?(delete this._usedTempVariables[e],this._unusedTempVariables.push(e)):this.$logError(this.INVALID_RELEASE_TEMP_VAR,[e])},isRegularVarName:function(t){return this.REGULARNAME_REGEXP.test(t)&&!e.isJsReservedWord(t)},createShortcut:function(e){var t=this.isRegularVarName(e),i=t?e:this.createTempVariable(e);return null==this._shortcuts[i]&&(this._shortcuts[i]=[]),this._shortcuts[i].push(!t),i},releaseShortcut:function(e){var t=this._shortcuts[e];if(t&&t.length>0){var i=t.pop();i&&this.releaseTempVariable(e)}else this.$logError(this.INVALID_RELEASE_SHORTCUT,[e])},getCode:function(){var e=this.out.join("");return this.out=[e],this.variables.length>0&&(e=["var ",this.variables.join(","),";\n",e].join("")),e},write:function(){this.out.push.apply(this.out,arguments)},createFunction:function(){var e=this.functionArguments.slice();return e.push(this.getCode()),Function.apply(Function,e)},getDotProperty:function(e){return this.isRegularVarName(e)?"."+e:"["+this.stringify(e)+"]"},writeEnsureObjectExists:function(e){this.out.push("if (!",e,"){",e,"={};}")}}});
//*******************
//LOGICAL-PATH:aria/utils/HashManager.js
//*******************
var e=require("../Aria"),t=require("../core/Browser"),i=require("./Type"),r=require("./Event"),a=require("./Object"),n=require("./AriaWindow"),s=require("./Array"),o=require("./Json"),l=require("../core/Timer");module.exports=e.classDefinition({$classpath:"aria.utils.HashManager",$singleton:!0,$statics:{INVALID_SETHASH_ARGUMENT:"Invalid argument passed to aria.utils.HashManager.setHash method.",INVALID_SETSEPARATORS_ARGUMENTS:"Invalid argument passed to aria.utils.HashManager.setSeparators method.",INVALID_SEPARATOR:"Expression %1 cannot be used as separator.",INVALID_HASHPOLLING_TRIGGER:"Enabling hash polling is allowed only in IE7.",INVALID_HASHOBJECT_TYPE:"Invalid hash object: value corresponding to key %1 is not a string.",INVALID_HASHOBJECT_VALUE:"Invalid hash object: value '%1' corresponding to key '%2' of the hashObject contains one the non encodable separators '%3'",INVALID_HASHOBJECT_KEY:"Invalid hash object: key '%1' of the hashObject contains one the non encodable separators '%2'",IFRAME_ID:"at_hash_manager_iframe"},$constructor:function(){this._separators=[",","&"],this._separatorRegExp=this.__buildRegExpFromArray(this._separators),this._nonEncodableSeparators=this.__getNonEncodedSeparators(this._separators),this._nonEncodableSepRegExp=this.__buildRegExpFromArray(this._nonEncodableSeparators),this._hashChangeCallbacks=null,this._currentHashString=decodeURIComponent(this.getHashString()),this._isIE7OrLess=t.isOldIE&&t.majorVersion<8,this._enableIEpolling=this._isIE7OrLess,this._typeUtil=i,this.ie7PollDelay=75,this._iframe=null,this._currentIframeHashString=null,this.polledIframeHashString=null,this._hashPollCallback=null,this._hashChangeCallbackAdded=!1,this._isIE7OrLess&&(this._createIframe(),this._hashPoll()),n.$on({unloadWindow:this._removeHashChangeInternalCallback,scope:this})},$destructor:function(){this._removeHashChangeInternalCallback(),this._hashPollCallback&&(l.cancelCallback(this._hashPollCallback),this._hashPollCallback=null),this._isIE7OrLess&&this._destroyIframe()},$prototype:{getHashObject:function(e){return o.copy(this._extractHashObject(this.getHashString(e)))},getHashString:function(t){t=t||e.$window;var i=t.location.href,r=i.indexOf("#");return-1!=r?i.substring(r+1):""},setHash:function(t,i){t=t||"",i=i||e.$window;var r="";if(this._typeUtil.isObject(t)){if(!this._validateHashObject(t))return;r=this._stringifyHashObject(t)}else this._typeUtil.isString(t)?r=t?t:"":this.$logError(this.INVALID_SETHASH_ARGUMENT);this.getHashString(i)!=r&&(i.location.hash=r)},addCallback:function(e){null==this._hashChangeCallbacks&&(this._hashChangeCallbacks=[],this._addHashChangeInternalCallback()),this._hashChangeCallbacks.push(e)},removeCallback:function(e){var t=this._hashChangeCallbacks;if(null!=t){for(var i=t.length,r=0;i>r&&t[r]!=e;)r++;i>r&&(t.splice(r,1),0===t.length&&(this._hashChangeCallbacks=null,this._removeHashChangeInternalCallback()))}},setSeparators:function(e){var t,i=this.getHashObject(),r=this.__buildRegExpFromArray(["#","%","^","[","]","{","}","\\",'"',"<",">","="]);if(this._typeUtil.isString(e))t=[e];else{if(!this._typeUtil.isArray(e))return;t=e}for(var n=0,s=t.length;s>n;n++)if(t[n].match(r))return void this.$logError(this.INVALID_SEPARATOR,t[n]);this._separators=t,this._separatorRegExp=this.__buildRegExpFromArray(this._separators),this._nonEncodableSeparators=this.__getNonEncodedSeparators(this._separators),this._nonEncodableSepRegExp=this.__buildRegExpFromArray(this._nonEncodableSeparators),a.isEmpty(i)||this.setHash(i)},addSeparators:function(e){var t,i=this._separators;if(this._typeUtil.isString(e))t=[e];else{if(!this._typeUtil.isArray(e))return;t=e}for(var r=0,a=t.length;a>r;r++)s.contains(this._separators,t[r])||i.push(t[r]);this.setSeparators(i)},setIE7polling:function(e){e&&!this._isIE7OrLess&&this.$logWarn(this.INVALID_HASHPOLLING_TRIGGER),e=e&&this._isIE7OrLess,e&&!this._enableIEpolling?(this._enableIEpolling=e,this._hashPoll()):this._enableIEpolling=e},_stringifyHashObject:function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return t.join(this._separators[0])},_extractHashObject:function(e){var t,i,r=e,a={};r=r?r.split(this._separatorRegExp):[];for(var n=0,s=r.length;s>n;n++)i=r[n],t=decodeURIComponent(i).split("="),2==t.length?a[t[0]]=t[1]:i.indexOf("=")==i.length?a[t[0]]="":a["param"+n]=t[0];return a},_addHashChangeInternalCallback:function(){this._isIE7OrLess||(this._hashChangeCallbackAdded=!0,n.attachWindow(),r.addListener(e.$window,"hashchange",{fn:this._internalCallback,scope:this},!0))},_hashPoll:function(){if(this._enableIEpolling){this._hashPollCallback=l.addCallback({fn:this._hashPoll,scope:this,delay:this.ie7PollDelay});var e=this.getHashString(),t=this.polledIframeHashString;t!=this._currentIframeHashString?(this._currentIframeHashString=t,this._currentHashString=t,this.setHash(t),this._internalCallback()):e!=this._currentHashString&&(this._addIframeHistoryEntry(e),this._internalCallback())}},_internalCallback:function(){var e,t=this._hashChangeCallbacks;if(null!=t){this._currentHashString=this.getHashString();for(var i=this._extractHashObject(this._currentHashString),r=0,a=t.length;a>r;r++)e=t[r],e=this.$normCallback(e),this.$callback(e,i)}},_removeHashChangeInternalCallback:function(){!this._isIE7OrLess&&this._hashChangeCallbackAdded&&(this._hashChangeCallbackAdded=!1,r.removeListener(e.$window,"hashchange",{fn:this._internalCallback}),n.detachWindow())},_validateHashObject:function(e){var t,i=this._nonEncodableSepRegExp;for(var r in e)if(e.hasOwnProperty(r)){if(i&&r.match(i))return this.$logError(this.INVALID_HASHOBJECT_KEY,[r,this._nonEncodableSeparators.join("")]),!1;if(t=e[r],!this._typeUtil.isString(t))return this.$logError(this.INVALID_HASHOBJECT_TYPE,r),!1;if(i&&t.match(i))return this.$logError(this.INVALID_HASHOBJECT_VALUE,[t,r,this._nonEncodableSeparators.join("")]),!1}return!0},__getNonEncodedSeparators:function(e){for(var t=[],i=0,r=e.length;r>i;i++)e[i]==encodeURIComponent(e[i])&&t.push(e[i]);return t},__buildRegExpFromArray:function(e){for(var t=/([\^\$\.\*\+\?\=\!\:\|\\\/\(\)\[\]\{\}]){1,1}/g,i=[],r=0,a=e.length;a>r;r++)i.push(e[r].replace(t,"\\$1"));return 0===i.length?null:new RegExp(i.join("|"))},_createIframe:function(){var t,i=e.$window.document;t=i.createElement("iframe"),t.setAttribute("id",this.IFRAME_ID),t.style.display="none",i.body.appendChild(t),this._iframe=t,this.polledIframeHashString=this._currentHashString,this._addIframeHistoryEntry(this._currentHashString)},_addIframeHistoryEntry:function(t){var i=this._iframe;if(i&&(t=t||"",this._currentIframeHashString!=t)){var r=["javascript:document.open();"];r.push('document.write("<script type=\\"text/javascript\\">'),e.domain&&r.push('document.domain=\\"'+e.domain+'\\";'),r.push("if (parent."+this.$classpath+"){parent."+this.$classpath+'.polledIframeHashString=\\"'+t+'\\";}'),r.push('</script>");'),r.push("document.close();"),i.src=r.join(""),this._currentIframeHashString=t}},_destroyIframe:function(){e.$window.document.body.removeChild(this._iframe),this._iframe=null}}});
//*******************
//LOGICAL-PATH:aria/utils/History.js
//*******************
var t=require("../Aria"),e=require("./Type"),i=require("./Json"),r=require("../storage/LocalStorage"),a=require("../core/Browser"),n=require("./Event"),s=require("./$History").getDependencies();!function(){"use strict";var o=t.$window,l=function(){try{return o.history.state}catch(t){return null}},h=s.isHtml5HistoryAvailable,c={},u=s.hashManager;module.exports=t.classDefinition({$classpath:"aria.utils.History",$singleton:!0,$statics:{_STORAGE_KEY:"at_history",ID_KEY:"&_hid=",EXPIRATION_TIME:86400},$constructor:function(){this._saveStateCB={fn:this._saveState,scope:this},this._currentId=null,this._currentPos=0,this._hashChangeCB={fn:this._onHashChange,scope:this},this._storage=new r,c=this._storage.getItem(this._STORAGE_KEY)||{discarded:[],states:[]},n.addListener(o,"unload",this._saveStateCB),this._isIE7OrLess=a.isOldIE&&a.majorVersion<8,this._init(),this.state=this.getState()},$destructor:function(){this._storage&&this._saveState(),this._dispose()},$events:{popstate:""},$prototype:{getState:h?function(){var t=i.copy(l());return t&&delete t.__info,t}:function(){var t=this._retrieveFromMemory(),e=t?t.state.state:null;return e},getTitle:function(){return o.document.title},getUrl:h?function(){var t=l();return t&&t.__info?t.__info.url:o.location.href}:function(){var t=u.getHashString();return t?t.split(this.ID_KEY)[0]:o.location.href},back:function(){o.history.back()},forward:function(){o.history.forward()},go:o.history.go?function(t){o.history.go(t)}:function(t){var e=0>t?"back":"forward";t=Math.abs(t);for(var i=0;t>i;i++)o.history[e]()},pushState:h?function(t,e,r){e=this._setTitle(e),t=t?i.copy(t):{},t.__info={title:e,url:r},o.history.pushState(t,e,r),this.state=this.getState()}:function(t,e,i){this._setState(t,e,i)},replaceState:h?function(t,e,r){e=this._setTitle(e),t=t?i.copy(t):{},t.__info={title:e,url:r},o.history.replaceState(t,e,r),this.state=this.getState()}:function(t,e,i){this._setState(t,e,i,!0)},_init:h?function(){var t=this;o.onpopstate=function(e){t._raiseOnPopStateEvent.call(t,e)};var e,i=l();i&&i.__info?(e=i.__info.title,e&&this._setTitle(e)):this._addInitialState()}:function(){var t=this._retrieveFromMemory();t?this._applyState(t):this._addInitialState(),u.addCallback(this._hashChangeCB)},_saveState:function(){this._removeOldStates(),n.removeListener(o,"unload",this._saveStateCB),this._storage.setItem(this._STORAGE_KEY,c),this._storage.$dispose(),this._storage=null},_dispose:h?function(){o.onpopstate=null}:function(){u.removeCallback(this._hashChangeCB)},_setTitle:function(t){var i=o.document;return e.isString(t)?i.title=t:t=i.title,t},_generateId:function(){return(new Date).getTime()+""},_retrieveFromMemory:function(t){t=h?null:t||this._getIdFromHash();for(var e,i=c.states,r=o.location.href.replace(/#.*$/,""),a=null,n="0",s=0,l=i.length;l>s;s++){if(e=i[s],e.id===t)return{position:s,state:e};e.url===r&&e.id>n&&(a={position:s,state:e},n=e.id)}return a},_addInitialState:function(){var t=this._generateId();this._currentPos=c.states.length;var e={url:o.location.href.replace(/#.*$/,""),id:t,title:o.document.title||"",state:null};c.states.push(e)},_removeOldStates:function(){if(c.discarded=[],this._isIE7OrLess)return void(c.states=[c.states[this._currentPos]]);for(var t=c.states,e=(new Date).getTime()-1e3*this.EXPIRATION_TIME+"",i=0;i<t.length&&!(t[i].id>e);i++);t.splice(0,i)},_raiseOnPopStateEvent:function(t){var e,r=i.copy(t.state);if(r&&r.__info)e=r.__info.title,delete r.__info;else{var a=this._retrieveFromMemory();e=a?a.state.title:null}this.state=r,e&&this._setTitle(e),this.$raiseEvent({name:"popstate",state:r})},_getIdFromHash:function(){var t=u.getHashString().split(this.ID_KEY);return t.length>1?t[1]:null},_onHashChange:function(){var t=this._retrieveFromMemory(),e=t?t.state.id:null;e&&this._currentId!=e&&this._applyState(t)&&(this.state=this.getState(),this.$raiseEvent({name:"popstate",state:this.state}))},_setState:function(t,e,r,a){if(a&&this._isIE7OrLess){var n=this._retrieveFromMemory();c.discarded.push(n.state.id)}var s=this._generateId(),l=r||"";l+=this.ID_KEY+s,e=this._setTitle(e),this._currentId=s;var h={id:s,title:e,state:t?i.copy(t):{}};this._currentPos++,c.states.splice(this._currentPos,c.states.length-this._currentPos,h),!a||this._isIE7OrLess?u.setHash(l):o.location.replace(o.location.href.replace(/#.*$/,"")+"#"+l),this.state=this.getState()},_applyState:function(t){return s.arrayUtil.contains(c.discarded,t.state.id)?(t.position<this._currentPos?this.back():this.forward(),!1):(this._currentPos=t.position,this._currentId=t.state.id,this._setTitle(t.state.title),!0)}}})}();
//*******************
//LOGICAL-PATH:aria/utils/Html.js
//*******************
var t=require("../Aria"),e=require("../templates/DomElementWrapper"),i=require("./String"),r=require("./Json"),a=require("../core/JsObject");module.exports=t.classDefinition({$classpath:"aria.utils.Html",$extends:a,$singleton:!0,$statics:{datasetRegex:/^\w+$/,INVALID_CONFIGURATION:"Invalid attribute %1.",INVALID_DATASET_KEY:"Invalid dataset key %1. Dataset keys can contain only [a-zA-Z0-9_]"},$prototype:{buildAttributeList:function(t){var a=[],n=e.attributesWhiteList,s=r,o=i;for(var l in t)if(t.hasOwnProperty(l)&&!s.isMetadata(l)){var h=t[l];if("classList"===l)a.push(' class="'),a.push(o.encodeForQuotedHTMLAttribute(h.join(" "))),a.push('"');else if("dataset"===l)for(var c in h)h.hasOwnProperty(c)&&!s.isMetadata(c)&&(this.datasetRegex.test(c)?(a.push(" data-",o.camelToDashed(c),'="'),a.push(o.encodeForQuotedHTMLAttribute(h[c])),a.push('"')):this.$logError(this.INVALID_DATASET_KEY,c));else n.test(l)?(h=null!=h?h+"":"",a.push(" ",l,'="'),a.push(o.encodeForQuotedHTMLAttribute(h)),a.push('"')):this.$logError(this.INVALID_CONFIGURATION,l)}return a.join("")},serializeForm:function(t){for(var e,i,r,a=t.elements,n=[],s=0,o=a.length;o>s;s++)e=a[s],this._isSerializable(e)&&(i=encodeURIComponent(e.name),r=encodeURIComponent(e.value.replace(/\r?\n/g,"\r\n")),n.push(i+"="+r));return n.join("&").replace(/%20/g,"+")},_isSerializable:function(t){var e=/^(?:input|select|textarea|keygen)/i,i=/^(?:submit|button|image|reset|file)$/i,r=t.type,a=/^(?:checkbox|radio)$/i;return t.name&&!t.disabled&&e.test(t.nodeName)&&!i.test(r)&&(t.checked||!a.test(r))},setDataset:function(t,e){this.__setOrRemoveDataset(t,e)},removeDataset:function(t,e){this.__setOrRemoveDataset(t,e,!0)},__setOrRemoveDataset:function(t,e,a){var n,s=i;for(var o in e)e.hasOwnProperty(o)&&!r.isMetadata(o)&&(this.datasetRegex.test(o)?(n="data-"+s.camelToDashed(o),a?t.removeAttribute(n):t.setAttribute(n,e[o])):this.$logError(this.INVALID_DATASET_KEY,o))}}});
//*******************
//LOGICAL-PATH:aria/utils/InheritanceNormalization.js
//*******************
var e=require("../Aria"),t=require("../core/JsonValidator");require("./FunctionWriter"),module.exports=e.classDefinition({$classpath:"aria.utils.InheritanceNormalization",$singleton:!0,$prototype:{writeInheritanceNormalization:function(e){if(e.excludes!==!0){var i=e.writer,r=i.out,a=e.varToNormalize,n=e.parentVars,s=e.beanDef||t.getBean(e.beanName),o=s["aria:baseType"].typeName,l="Object"==o;if(l){r.push("if (",a,"==null) {",a,"={};","}");var h=e.excludes||{};a=i.createShortcut(a);var c=[],u=e.emptyObjectVar;null==u&&(u=i.createTempVariable("{}"));for(var d="||"+u,p=0,f=n.length;f>p;p++)c[p]=i.createTempVariable(n[p]+d);var _=s.$properties;for(var g in _)if(_.hasOwnProperty(g)){for(var m=i.getDotProperty(g),v=[],p=0,f=c.length;f>p;p++)v[p]=c[p]+m;this.writeInheritanceNormalization({writer:i,beanDef:_[g],varToNormalize:a+m,parentVars:v,emptyObjectVar:u,excludes:h[g]})}for(var p=0,f=c.length;f>p;p++)i.releaseTempVariable(c[p]);i.releaseShortcut(a)}else{var y=n.slice();if("$strDefault"in s&&y.push(s.$strDefault),y.length>0)if(r.push("if (",a,"==null) {"),1==y.length)r.push(a,"=",y[0],";");else{for(var p=0,f=y.length-1;f>p;p++){var E=y[p];p>0&&r.push("} else "),r.push("if (",E,"!=null){",a,"=",E,";")}r.push("} else {",a,"=",y[y.length-1],";}")}r.push("}")}}}}});
//*******************
//LOGICAL-PATH:aria/utils/Math.js
//*******************
var t=require("../Aria"),e=require("./Type");module.exports=t.classDefinition({$classpath:"aria.utils.Math",$singleton:!0,$constructor:function(){this.utilType=e},$prototype:{normalize:function(t,e,i){var r=this.utilType.isNumber;return r(t)?(r(e)&&(t=Math.max(t,e)),r(i)&&(t=Math.min(t,i)),t):t},min:function(t,e){var i=this.utilType.isNumber,r=i(t),a=i(e);return r||a?r?a?Math.min(t,e):t:e:null},max:function(t,e){var i=this.utilType.isNumber,r=i(t),a=i(e);return r||a?r?a?Math.max(t,e):t:e:null}}});
//*******************
//LOGICAL-PATH:aria/utils/Mouse.js
//*******************
var t=require("../Aria"),e=require("./Event"),i=require("./AriaWindow"),r=require("../touch/Event"),a=require("../DomEvent"),n=require("../core/Browser");!function(){function s(e){var i=t.$window.document.body;h.addListener(i,"mousemove",{fn:e._onMouseMove,scope:e}),h.addListener(i,"mouseup",{fn:e._onMouseUp,scope:e}),h.addListener(i,"touchmove",{fn:e._onMouseMove,scope:e}),h.addListener(i,"touchend",{fn:e._onMouseUp,scope:e})}function o(e){var i=t.$window.document.body;h.removeListener(i,"mousemove",{fn:e._onMouseMove,scope:e}),h.removeListener(i,"mouseup",{fn:e._onMouseUp,scope:e}),h.removeListener(i,"touchmove",{fn:e._onMouseMove,scope:e}),h.removeListener(i,"touchend",{fn:e._onMouseUp,scope:e})}function l(t,e,i,r){for(var a,n=t;i&&n&&n!=r;){if(n.attributes){var a=n.attributes[e];if(a)return a.nodeValue}n=n.parentNode,i--}}var h,c=0;module.exports=t.classDefinition({$classpath:"aria.utils.Mouse",$singleton:!0,$statics:{DRAGGABLE_ATTRIBUTE:"atdraggable"},$destructor:function(){i.$unregisterListeners(this),this._disconnectMouseDownEvent(),h=null},$constructor:function(){h=e;var t=i;t.$on({attachWindow:this._connectMouseDownEvent,detachWindow:this._disconnectMouseDownEvent,scope:this}),t.isWindowUsed&&this._connectMouseDownEvent(),this._dragStartPosition=null,this._dragStarted=!1},$prototype:{_connectMouseDownEvent:function(){h.addListener(t.$window.document.body,"mousedown",{fn:this._onMouseDown,scope:this}),h.addListener(t.$window.document.body,"touchstart",{fn:this._onMouseDown,scope:this})},_disconnectMouseDownEvent:function(){h.removeListener(t.$window.document.body,"mousedown",{fn:this._onMouseDown,scope:this}),h.removeListener(t.$window.document.body,"touchstart",{fn:this._onMouseDown,scope:this}),o(this)},maxDepth:-1,_idList:{drag:{}},_candidateForDrag:"",_activeDrag:"",listen:function(t,e){return"drag"==t?this._listenDrag(e):void 0},_listenDrag:function(t){var e=++c;return this._idList.drag[e]=t,e},stopListen:function(t,e){this._idList[t]&&delete this._idList[t][e]},_onMouseDown:function(t){var e=new a(t);if(s(this),"touchstart"===t.type){var i=r.getPositions(e);e.clientX=i[0].x,e.clientY=i[0].y}return this._detectDrag(e)&&e.preventDefault(!0),e.$dispose(),!1},_detectDrag:function(e){var i=t.$window.document.body,r=l(e.target,this.DRAGGABLE_ATTRIBUTE,this.maxDepth,i);if(r){var a=this._idList.drag[r];return this.$assert(211,!!a),this._candidateForDrag=a,this._dragStartPosition={x:e.clientX,y:e.clientY},this._dragStarted=!1,!0}},_startDrag:function(t){var e=this._candidateForDrag;e&&(this._activeDrag=e,this._dragStarted=!0,e.start(t))},_onMouseMove:function(t){var e=new a(t);if("touchmove"===e.type){var i=r.getPositions(t);1===i.length&&(e.clientX=i[0].x,e.clientY=i[0].y)}this._dragStartPosition&&!this._dragStarted&&this._startDrag(this._dragStartPosition);var s=this._activeDrag;if(s){if("touchmove"!==t.type&&!t.button){var o=n;if(o.isIE8||o.isIE7)return e.$dispose(),this._onMouseUp(t)}s.move(e)}e.$dispose()},_onMouseUp:function(){this._dragStartPosition=null,o(this);var t=this._activeDrag;t&&t.end(),this._candidateForDrag=null,this._activeDrag=null}}})}();
//*******************
//LOGICAL-PATH:aria/utils/Number.js
//*******************
var t=require("../Aria"),e=require("./environment/Number"),i=require("./String"),r=require("./Type"),a=require("./Array"),n=require("../core/AppEnvironment");module.exports=t.classDefinition({$classpath:"aria.utils.Number",$singleton:!0,$constructor:function(){this._validDigits=/^(\-|\.|\+)?\d+(\.)?(\d+)?$/,this._digitsOnly=/^\d+$/,this._validCurrency=/^([\u00A4])?([,#0]+)(?:\.([#0]+))?([\u00A4])?$/,this._regExSpecials=new RegExp("(\\"+"/.*+?|()[]{}\\".split("").join("|\\")+")","g"),this._removeGrouping=null,this._replaceDecimal=null,this._decimal=null,this._grouping=null,this._strictGrouping=!0,this._format=null,this._currency=null,this._cache={},n.$on({changingEnvironment:{fn:this._appEnvChanged,scope:this}}),this._appEnvChanged.call(this)},$statics:{INVALID_FORMAT:"The format used for %1 is invalid, please check bean %2",DECIMAL_BEAN:"aria.utils.environment.NumberCfgBeans.DecimalFormatSymbols",CURRENCY_BEAN:"aria.utils.environment.NumberCfgBeans.CurrencyFormatsCfg"},$prototype:{toNumber:function(t){return this._validDigits.test(t)?Number(t):null},interpretNumber:function(t,e,i){var r,a,n,s,o=this._explode(e),l="",h=o.regularGroup,u=!!i;i=this._normalizeSymbols(i),a=i.groupingSeparator,n=i.decimalSeparator,s=i.strictGrouping,r=u?this._buildRegEx(a,n):{group:this._removeGrouping,decimal:this._replaceDecimal};var c=t.charAt(0);("+"===c||"-"===c)&&(l=c,t=t.substring(1),c=t.charAt(0));var d=t.lastIndexOf(a);if(d>-1){var p=t.indexOf(n);if(p>-1&&d>p)return null;if(c===a)return null;if(s){if(!o.hasGrouping)return null;var _,f=t.split(a);if(0===h&&(_=o.integer.split(","),_.length<f.length))return null;var g=f[0];if(h>0&&g.length>h||!this._digitsOnly.test(g))return null;for(var m=f.length-2;m>0;m-=1){g=f[m];var v=h||_[m].length;if(g.length!==v||-1!==g.indexOf(n))return null}if(g=f[f.length-1],v=h||_[_.length-1].length,g.length!==v&&g.charAt(v)!==n)return null}}return t=l+t.replace(r.group,""),"."!==n&&-1!==t.indexOf(".")?null:(t=t.replace(r.decimal,"."),this._validDigits.test(t)?t:null)},formatNumber:function(t,e,r){if(isNaN(t))return t;t=Number(t),r=this._normalizeSymbols(r);var a=this._explode(e);if(!a)return this.$logError(this.INVALID_FORMAT,["formatCurrency",this.CURRENCY_BEAN]);var n=0>t?"-":"",s=Math.abs(t).toString().split("."),o="",l=s[1]||"",h="";if(a.maxDecLen>l.length)o=s[0],h=i.pad(l,a.maxDecLen,"0");else{var u=Math.abs(t).toFixed(a.maxDecLen).split(".");o=u[0],h=u[1]||""}o.length<a.minIntLen&&(o=i.pad(o,a.minIntLen,"0",!0)),h.length!==l.length&&(h=i.crop(h,a.minDecLen,"0"));var c=[n+this._addGrouping(o,a,r)];return h&&c.push(h),c.join(r.decimalSeparator)},formatCurrency:function(t,e,i){i=this._normalizeSymbols(i);var r=this._explode(e);if(!r)return this.$logError(this.INVALID_FORMAT,["formatCurrency",this.CURRENCY_BEAN]);var a=this._currency;return t=this.formatNumber(t,e,i),r.currencyBegin?a+t:r.currencyEnd?t+a:t},isValidPattern:function(t){return!!this._explode(t)},_appEnvChanged:function(t){var i=a;if(!t||!t.changedProperties||i.contains(t.changedProperties,"decimalFormatSymbols")||i.contains(t.changedProperties,"currencyFormats")){var n=e.getDecimalFormatSymbols(),s=e.getCurrencyFormats(),o=this._buildRegEx(n.groupingSeparator,n.decimalSeparator);o.valid&&(this._removeGrouping=o.group,this._replaceDecimal=o.decimal,this._decimal=n.decimalSeparator,this._grouping=n.groupingSeparator,this._strictGrouping=n.strictGrouping);var l=r;l.isString(s.currencyFormat)||l.isFunction(s.currencyFormat)?(this._format=s.currencyFormat,this._currency=s.currencySymbol):this.$logError(this.INVALID_FORMAT,["currencyFormat",this.CURRENCY_BEAN])}},_buildRegEx:function(t,e){var i={valid:!0};return(!t||t.length>1||/\d/.test(t))&&(this.$logError(this.INVALID_FORMAT,["groupingSeparator",this.DECIMAL_BEAN]),i.valid=!1),(!e||e.length>1||/\d/.test(e))&&(this.$logError(this.INVALID_FORMAT,["decimalSeparator",this.DECIMAL_BEAN]),i.valid=!1),t===e&&(this.$logError(this.INVALID_FORMAT,["decimalSeparator",this.DECIMAL_BEAN]),i.valid=!1),i.valid&&(i.group=new RegExp(t.replace(this._regExSpecials,"\\$1"),"g"),i.decimal=new RegExp(e.replace(this._regExSpecials,"\\$1"))),i},_normalizeSymbols:function(t){return t?(t.decimalSeparator=t.decimalSeparator||this._decimal,t.groupingSeparator=t.groupingSeparator||this._grouping,t.strictGrouping=null!=t.strictGrouping?t.strictGrouping:this._strictGrouping):t={decimalSeparator:this._decimal,groupingSeparator:this._grouping,strictGrouping:this._strictGrouping},t},_explode:function(t){t||(t=this._format);var e=r;if(e.isFunction(t)&&(t=t()),e.isString(t)){var i=this._cache[t];if(i)return i;var a=this._validCurrency.exec(t);if(a){i={currencyBegin:!!a[1],currencyEnd:!!a[4],integer:a[2],decimal:a[3]||""};var n=i.integer.replace(/,/g,""),s=n.indexOf("0");if(i.minIntLen=s>-1?n.length-s:0,i.hasGrouping=n.length!=i.integer.length,i.hasGrouping)if(i.integer.length-n.length===1)i.regularGroup=i.integer.length-i.integer.indexOf(",")-1;else{for(var o=i.integer.split(","),l=i.integer.length-i.integer.lastIndexOf(",")-1,h=1,u=o.length;u>h;h+=1)if(o[h].length!=l){l=0;break}i.regularGroup=l}i.minDecLen=i.decimal.lastIndexOf("0")+1,i.maxDecLen=i.decimal.length>20?20:i.decimal.length}return this._cache[t]=i,i}},_addGrouping:function(t,e,r){if(!e.hasGrouping)return t;var a=r.groupingSeparator,n=e.integer,s=e.regularGroup,o=[];if(s>0)o=s;else for(var l=n.split(","),h=l.length-1;h>0;h-=1)o.push(l[h].length);return i.chunk(t,o).join(a)}}});
//*******************
//LOGICAL-PATH:aria/utils/Orientation.js
//*******************
var t=require("../Aria"),e=require("./Event");module.exports=t.classDefinition({$classpath:"aria.utils.Orientation",$singleton:!0,$events:{change:""},$constructor:function(){var i=t.$window;"undefined"!=typeof i.orientation&&(this.screenOrientation=i.orientation,this.isPortrait=this.__isPortrait(),e.addListener(i,"orientationchange",{fn:this._onOrientationChange,scope:this}))},$destructor:function(){e.removeListener(t.$window,"orientationchange",{fn:this._onOrientationChange})},$prototype:{_onOrientationChange:function(){this.screenOrientation=t.$window.orientation,this.isPortrait=this.__isPortrait(),this.$raiseEvent({name:"change",screenOrientation:this.screenOrientation,isPortrait:this.isPortrait})},__isPortrait:function(){return t.$window.orientation%180===0?!0:!1}}});
//*******************
//LOGICAL-PATH:aria/utils/Profiling.js
//*******************
var t=require("../Aria"),e=require("../core/JsObject"),i=require("./Json");module.exports=t.classDefinition({$classpath:"aria.utils.Profiling",$singleton:!0,$constructor:function(){this._startTime=null,this._logs=null,this._logsPerClasspath=null,this._nbLogs=0,this._ids=1,this._displayDiv=null,this._counters={},this._counterSplits={},t.enableProfiling&&this.restartProfiling(!0)},$destructor:function(){this._logs=null,this._logsPerClasspath=null,this._displayDiv=null},$prototype:{restartProfiling:function(i){this._startTime=i?t._start:new Date,i?(this._logs=[{classpath:"Aria",msg:"Framework initialization",start:t._start},{classpath:"Aria",stop:(new Date).getTime()}],this._nbLogs=2):(this._logs=[],this._nbLogs=0),e.prototype.$logTimestamp=function(t,e){e=e?e:this.$classpath,aria.utils.Profiling.logTimestamp(e,t)},e.prototype.$startMeasure=function(t,e){return e=e?e:this.$classpath,aria.utils.Profiling.startMeasure(e,t)},e.prototype.$stopMeasure=function(t,e){e=e?e:this.$classpath,aria.utils.Profiling.stopMeasure(e,t)}},process:function(){this._logsPerClasspath={};var t,e,i,r,a,n;for(a=0,t=0;t<this._nbLogs;t++){if(i=this._logs[t],!i.start||"length"in i)i.timestamp&&(i.start=i.timestamp-this._startTime,i.length=0,delete i.timestamp);else{for(e=t+1;e<this._nbLogs;e++)if(r=this._logs[e],r.stop&&r.classpath==i.classpath&&(!r.id||i.id===r.id)){this._logs.splice(e,1),this._nbLogs--,i.length=r.stop-i.start,i.start=i.start-this._startTime;break}"length"in i||(i.length=0,i.start=i.start-this._startTime)}"msg"in i||(i.msg="NO MESSAGE"),n=i.start+i.length,n>a&&(a=n),this._logsPerClasspath[i.classpath]||(this._logsPerClasspath[i.classpath]={});var s=this._logsPerClasspath[i.classpath];s[i.msg]||(s[i.msg]=[0]),s[i.msg].push(i),s[i.msg][0]+=i.length}this._logsPerClasspath._max=a},showProfilingData:function(){if(null==this._displayDiv){this.process();var e=t.$window.document;this._displayDiv=e.createElement("div"),this._displayDiv.style.cssText="position:absolute;top:0px;left:0px;width:100%;height:100%; z-index:99999999;overflow:auto;background:white",e.body.appendChild(this._displayDiv),t.loadTemplate({classpath:"aria.utils.ProfilingDisplay",div:this._displayDiv,data:i.copy(this._logsPerClasspath,!0)})}},hideProfilingData:function(){this._displayDiv.innerHTML="",null!=this._displayDiv&&aria.utils.Dom.removeElement(this._displayDiv),this._displayDiv=null},logTimestamp:function(t,e){this._logs[this._nbLogs++]={classpath:t,msg:e,timestamp:(new Date).getTime()}},startMeasure:function(t,e){return this._logs[this._nbLogs++]={classpath:t,msg:e,id:this._ids,start:(new Date).getTime()},this._ids++},stopMeasure:function(t,e){this._logs[this._nbLogs++]={classpath:t,id:e,stop:(new Date).getTime()}},incrementCounter:function(t,e){this._counters.hasOwnProperty(t)?this._counters[t]+=e||1:this._counters[t]=e||1},resetCounter:function(t,e){this._counters[t]&&(this._counterSplits[t]||(this._counterSplits[t]=[]),this._counterSplits[t].push({value:this._counters[t],reason:e}),this._counters[t]=0)},getCounterValue:function(t){return this._counters[t]||0},getAvgSplitCounterValue:function(t){if(!this._counterSplits[t])return 0;for(var e=0,i=0,r=this._counterSplits[t].length;r>i;i+=1)e+=this._counterSplits[t][i].value;return e/r}}});
//*******************
//LOGICAL-PATH:aria/utils/ProfilingDisplay.tpl
//*******************
Aria.classDefinition({$classpath:"aria.utils.ProfilingDisplay",$extends:"aria.templates.Template",$constructor:function(){this.$Template.constructor.call(this),this.$ProfilingDisplayScript.constructor.call(this)},$destructor:function(){this.$ProfilingDisplayScript.$destructor.call(this),this.$Template.$destructor.call(this)},$dependencies:["aria.widgets.AriaLib","aria.utils.ProfilingDisplayScript","aria.utils.String","aria.widgets.Icon","aria.widgets.form.CheckBox","aria.core.TplClassLoader"],$prototype:{macro_main:function(){try{with(this){this.__$write('\n<div style="background:#ACC2FF;border-bottom:solid 2px black;padding:5px;width:',32),this.__$write(this.$modifier("escapeforhtml",[Math.max(getLength(data._max,0)+leftShift+30,500)]),32),this.__$write('px;color:white">\n<span ',32),this.__$statementOnEvent("click",this.$normCallback(close),33),this.__$write(' style="cursor:pointer; padding-left:5px">\n',33),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:close",tooltip:"Close profiling data"},34),this.__$write("\n</span>\n<span ",38),this.__$statementOnEvent("click",this.$normCallback(zoomOut),39),this.__$write(' style="cursor:pointer; padding-left:5px">\n',39),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:zoom_out",tooltip:"Zoom out"},40),this.__$write("\n</span>\n<span ",44),this.__$statementOnEvent("click",this.$normCallback(zoomIn),45),this.__$write(' style="cursor:pointer; padding-left:5px">\n',45),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:zoom_in",tooltip:"Zoom in"},46),this.__$write("\n</span>\n<span ",50),this.__$statementOnEvent("click",this.$normCallback(toggleChecked),51),this.__$write(' style="cursor:pointer; padding-left:5px">\n',51),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:validated",tooltip:"Show all/only selected items"},52),this.__$write("\n</span>\n<span ",56),this.__$statementOnEvent("click",this.$normCallback(resetTimeOrigin),57),this.__$write(' style="cursor:pointer; padding-left:5px">\n',57),this.__$processWidgetMarkup("aria.widgets.AriaLib","Icon",{icon:"std:undo",tooltip:"Reset time origin"},58),this.__$write("\n</span>\n</div>\n<div ",62),this.__$statementOnEvent("mousedown",this.$normCallback(mouseDown),64),this.__$write(' style="position:relative;">\n',64);var __v_1=data;void 0==data&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",__filename,65]);var cat_ct=0;for(var cat_index in __v_1)if(__v_1.hasOwnProperty(cat_index)&&!this.$json.isMetadata(cat_index)){var cat=__v_1[cat_index];if(cat_ct++,"_max"!=cat_index&&(showAllMsg||cat["view:visible"])){this.__$write('\n<div style="width:',68),this.__$write(this.$modifier("escapeforhtml",[getLength(data._max,0)+leftShift+30]),68),this.__$write("px;border-bottom:solid 1px grey;margin:",68),this.__$write(this.$modifier("escapeforhtml",[marginLeft]),68),this.__$write('px 0 15px 5px">\n<h2>',68),this.macro_displayCheckBox(cat),this.__$write(" ",69),this.__$write(this.$modifier("escapeforhtml",[cat_index]),69),this.__$write("</h2>\n",69);var __v_2=cat;void 0==cat&&this.$logError(this.ITERABLE_UNDEFINED,["foreach",__filename,70]);var msg_ct=0;for(var msg_index in __v_2)if(__v_2.hasOwnProperty(msg_index)&&!this.$json.isMetadata(msg_index)){var msg=__v_2[msg_index];if(msg_ct++,0!=msg_index.indexOf("view:")&&(showAllMsg||msg["view:visible"])&&isTimeRangeListVisible(msg)){this.__$write('\n<div style="position:relative; height:14px; width:100%;border-top:dashed 1px #EEE;font-size:xx-small;">\n',72),this.macro_displayCheckBox(msg),this.__$write(" ",73),this.__$write(this.$modifier("escapeforhtml",[msg_index]),73),this.__$write(" (",73),this.__$write(this.$modifier("escapeforhtml",[msg[0]]),73),this.__$write("ms)\n",73);for(var i=1;i<msg.length;i++){var log=msg[i];isTimeRangeVisible(log.start,log.length)&&(this.__$write('\n<div style="position:absolute;top:0;\noverflow:hidden;\nleft:',77),this.__$write(this.$modifier("escapeforhtml",[getPosition(log.start)]),79),this.__$write("px;\nwidth:",79),this.__$write(this.$modifier("escapeforhtml",[getLength(log.length,log.start)]),80),this.__$write('px;\nheight:14px;\nbackground:#ACC2FF;\nborder-left:solid 1px black"\ntitle="start: ',80),this.__$write(this.$modifier("escapeforhtml",[log.start]),84),this.__$write("ms; length: ",84),this.__$write(this.$modifier("escapeforhtml",[log.length]),84),this.__$write("ms; ",84),this.__$write(this.$modifier("escapeforhtml",[msg_index]),84),this.__$write(" (",84),this.__$write(this.$modifier("escapeforhtml",[cat_index]),84),this.__$write(')">',84),this.__$write(this.$modifier("escapeforhtml",[log.length]),84),this.__$write("</div>\n",84))}this.__$write("\n</div>\n",87)}}this.__$write("\n</div>\n",90)}}this.__$insertSection(94,{id:"verticalBars",macro:"displayVerticalBars"}),this.__$write("\n</div>\n\n",98)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",__filename,this["aria:currentLineNumber"]],_ex)}},macro_displayCheckBox:function(item){try{with(this)showAllMsg&&(this.__$write('\n<span style="position:relative;top:-4px;vertical-align:middle;">\n',104),this.__$processWidgetMarkup("aria.widgets.AriaLib","CheckBox",{bind:{value:{to:"view:visible",inside:item}}},105),this.__$write("\n</span>\n",113))}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayCheckBox",__filename,this["aria:currentLineNumber"]],_ex)}},macro_displayVerticalBars:function(){try{with(this){var timeDiff=Math.abs(verticalBarTime1-verticalBarTime2);isTimeRangeVisible(verticalBarTime1,0)&&(this.__$write('\n<div style="position:absolute;left:',120),this.__$write(this.$modifier("escapeforhtml",[getPosition(verticalBarTime1)+marginLeft]),120),this.__$write('px;top:0px;width:1px;height:100%;background-color:#C0C0C0;" title="ctrl marker position: ',120),this.__$write(this.$modifier("escapeforhtml",[verticalBarTime1]),120),this.__$write("ms; ",120),this.__$write(this.$modifier("escapeforhtml",[timeDiff]),120),this.__$write('ms between markers">&nbsp;</div>\n',120)),isTimeRangeVisible(verticalBarTime2,0)&&(this.__$write('\n<div style="position:absolute;left:',123),this.__$write(this.$modifier("escapeforhtml",[getPosition(verticalBarTime2)+marginLeft]),123),this.__$write('px;top:0px;width:1px;height:100%;background-color:#C0C0C0;" title="shift marker position: ',123),this.__$write(this.$modifier("escapeforhtml",[verticalBarTime2]),123),this.__$write("ms; ",123),this.__$write(this.$modifier("escapeforhtml",[timeDiff]),123),this.__$write('ms between markers">&nbsp;</div>\n',123))}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["displayVerticalBars",__filename,this["aria:currentLineNumber"]],_ex)}},$init:function(t){t.__$macrolibs={},t.__$width={},t.__$height={},aria.core.TplClassLoader._importScriptPrototype(aria.utils.ProfilingDisplayScript,t)},__$initTemplate:function(){try{with(this)this.leftShift=300,this.scale=2,this.showAllMsg=!0,this.timeBegin=0,this.verticalBarTime1=-1,this.verticalBarTime2=-1,this.marginLeft=5}catch(_ex){return this.$logError(this.EXCEPTION_IN_VARINIT,[this.$classpath],_ex),!1}return!0}}});var __filename="ariatemplates/utils/ProfilingDisplay.tpl";
//*******************
//LOGICAL-PATH:aria/utils/ProfilingDisplayScript.js
//*******************
var t=require("../Aria"),e=require("../core/Browser");module.exports=t.tplScriptDefinition({$classpath:"aria.utils.ProfilingDisplayScript",$prototype:{zoomIn:function(){this.scale=this.scale/2,this.$refresh()},zoomOut:function(){this.scale=2*this.scale,this.$refresh()},close:function(){aria.utils.Profiling.hideProfilingData()},getPosition:function(t){return t<this.timeBegin?this.leftShift:(t-this.timeBegin)/this.scale+this.leftShift},getLength:function(t,e){var i=e-this.timeBegin;return 0>i&&(t+=i),0>=t?0:t/this.scale},isTimeRangeVisible:function(t,e){return t+e>=this.timeBegin},isTimeRangeListVisible:function(t){for(var e=1,i=t.length;i>e;e++)if(this.isTimeRangeVisible(t[e].start,t[e].length))return!0;return!1},getTimeFromPosition:function(t){return(t-this.leftShift)*this.scale+this.timeBegin},toggleChecked:function(){this.showAllMsg=!this.showAllMsg,this.$refresh()},mouseDown:function(t){var i=aria.utils.Dom.calculatePosition(aria.utils.Profiling._displayDiv.firstChild),r=t.clientX-i.left;e.isIE7&&(r-=2);var a=this.getTimeFromPosition(r-this.marginLeft);if(!(a<this.timeBegin)){if(!t.altKey||t.ctrlKey||t.shiftKey){if(t.altKey)return;if(t.ctrlKey&&!t.shiftKey)this.verticalBarTime1=a;else{if(!t.shiftKey||t.ctrlKey)return;this.verticalBarTime2=a}this.$refresh({section:"verticalBars"})}else this.timeBegin=a,this.$refresh();t.preventDefault(!0)}},resetTimeOrigin:function(){this.timeBegin=0,this.$refresh()}}});
//*******************
//LOGICAL-PATH:aria/utils/Rand.js
//*******************
var t=require("../Aria");module.exports=t.classDefinition({$classpath:"aria.utils.Rand",$singleton:!0,$constructor:function(t){this.m=Math.pow(2,48),this.a=25214903917,this.c=11,this.last=null==t?12483:t},$prototype:{rand:function(){var t=(this.a*this.last+this.c)%this.m;return this.last=t,t},rand01:function(){var t=this.rand();return t/this.m}}});
//*******************
//LOGICAL-PATH:aria/utils/ScriptLoader.js
//*******************
var t=require("../Aria"),e=require("./Type"),i=require("../core/Browser");module.exports=t.classDefinition({$classpath:"aria.utils.ScriptLoader",$singleton:!0,$constructor:function(){this._queueIndex=0,this._queueCount={},this._loadedScripts=[]},$destructor:function(){this._queueCount=null,this._loadedScripts=null},$prototype:{load:function(i,r){var a,s,n,o,l,h=this._loadedScripts,c=this._queueIndex,u=t.$frameworkWindow.document,d=u.getElementsByTagName("head")[0],p=this,_=function(t){var e=""+t;p._queueCount[e]--,0===p._queueCount[e]&&(delete p._queueCount[e],p.$callback(r))};for(e.isString(i)&&(i=[i]),l=0,a=0,s=i.length;s>a;a++)n=i[a],h[n]||(l++,h[n]=!0,o=u.createElement("script"),o.setAttribute("type","text/javascript"),r&&this._addScriptLoadedCallback(o,_,[c,o]),o.src=n,d.appendChild(o));0===l?this.$callback(r):this._queueCount[""+c]=l,this._queueIndex++},_addScriptLoadedCallback:function(t,e,r){this._addScriptLoadedCallback=i.isOldIE?function(t,e,i){t.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState)&&e.apply(null,i)}}:function(t,e,i){t.onload=function(){e.apply(null,i)}},this._addScriptLoadedCallback.call(this,t,e,r)}}});
//*******************
//LOGICAL-PATH:aria/utils/Size.js
//*******************
var t=require("../Aria"),e=require("./Math"),i=require("./Type"),r=require("../templates/Layout");module.exports=t.classDefinition({$classpath:"aria.utils.Size",$singleton:!0,$prototype:{getSize:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},__createDomContainer:function(){var e=t.$window.document,i=e.createElement("div");return i.style.cssText="position:absolute;top:0px;left:0px;visibility:hidden;display:block;width:0px;height:0px;",e.body.appendChild(i)},getFreeSize:function(t){var e=this.__createDomContainer(),r=t.parentNode;e.appendChild(t);var a=t.offsetWidth,s=t.offsetHeight,n={width:a,height:s};return i.isHTMLElement(r)&&r.appendChild(t),e.parentNode.removeChild(e),n},setContrains:function(t,i,a){var s,n,o={},l=!1,h=!1,c=!1;if(i&&(s=t.offsetWidth,n=e.normalize(s,i.min,i.max),n!=s&&(t.style.width=n+"px",l=!0),o.width=n),a){if(s=t.offsetHeight,n=e.normalize(s,a.min,a.max),n!=s&&(t.style.height=n+"px",h=!0,c=s>n)){var u=r.getScrollbarsMeasuredWidth()+1,d=e.normalize(t.offsetWidth+u,i.min,i.max);t.style.width=d+"px",l=!0,o.width=d}o.height=n}return l||h?(i||(o.width=t.offsetWidth),a||(o.height=t.offsetHeight),o):null}}});
//*******************
//LOGICAL-PATH:aria/utils/StackHashMap.js
//*******************
var t=require("../Aria"),e=require("./Type");!function(){var i,r=0;module.exports=t.classDefinition({$classpath:"aria.utils.StackHashMap",$onload:function(){i=e},$onunload:function(){i=null},$constructor:function(){r++,this._nextIndex=0,this._objectKeys=null,this._stringKeys=null,this._numberKeys=null,this._otherKeys=null,this._metaDataName=t.FRAMEWORK_PREFIX+"hash::"+r},$destructor:function(){this.removeAll()},$beans:{Entry:{$type:"json:Object",$description:"Structure used to store a (key, value) pair in a StackHashMap object.",$properties:{key:{$type:"json:MultiTypes",$description:"Key of the entry."},value:{$type:"json:MultiTypes",$description:"Value of the entry."},next:{$type:"Entry",$description:"Link to the entry with the same key, which was present before adding this entry, if any, or undefined otherwise."},index:{$type:"json:MultiTypes",$description:"Index of this entry in _objectKeys, _stringKeys, _numberKeys, or _otherKeys."}}}},$prototype:{_getMap:function(t,e){return i.isString(t)?(!this._stringKeys&&e&&(this._stringKeys={}),this._stringKeys):i.isNumber(t)?(!this._numberKeys&&e&&(this._numberKeys={}),this._numberKeys):null==t||"object"!=typeof t&&!i.isFunction(t)?(!this._otherKeys&&e&&(this._otherKeys={}),this._otherKeys):(!this._objectKeys&&e&&(this._objectKeys={}),this._objectKeys)},push:function(t,e){var i={key:t,value:e,index:this._nextIndex};this._nextIndex++;var r=this._getMap(t,!0);if(r==this._objectKeys){var a=t[this._metaDataName];a&&(i.next=a,i.index=a.index),t[this._metaDataName]=i}else if(r!=this._otherKeys)i.index=t,i.next=r[i.index];else for(var s in r)if(r.hasOwnProperty(s)){var n=r[s];if(t===n.key){i.index=s,i.next=n;break}}r[i.index]=i},pop:function(t){var e=this._getMap(t,!1);if(null==e)return void 0;var i;if(e==this._objectKeys)i=t[this._metaDataName],i&&(t[this._metaDataName]=i.next,i.next||delete t[this._metaDataName]);else if(e!=this._otherKeys)i=e[t];else for(var r in e)if(e.hasOwnProperty(r)){var a=e[r];if(t===a.key){i=a;break}}if(i){var s=i.next;return e[i.index]=s,s||delete e[i.index],i.key=null,i.next=null,i.value}return void 0},_removeAllToArray:function(t,e){if(null!=t)for(var i in t){var r=t[i],a=r.key;for(t==this._objectKeys&&(a[this._metaDataName]=null,delete r.key[this._metaDataName]);r;){e.push(r.value),r.value=null,r.key=null;var s=r.next;r.next=null,r=s}t[i]=null,delete t[i]}},removeAll:function(){var t=[];return this._removeAllToArray(this._objectKeys,t),this._objectKeys=null,this._removeAllToArray(this._stringKeys,t),this._stringKeys=null,this._removeAllToArray(this._numberKeys,t),this._numberKeys=null,this._removeAllToArray(this._otherKeys,t),this._otherKeys=null,t}}})}();
//*******************
//LOGICAL-PATH:aria/utils/Store.js
//*******************
var t=require("../Aria"),e=require("./Array"),i=require("./Callback");module.exports=t.classDefinition({$classpath:"aria.utils.Store",$constructor:function(){this._store=null,this._storeLength=0},$destructor:function(){var t;if(this._store){for(var e=0,i=this._store.length;i>e;e++)t=this._store[e],t.$dispose&&t.$dispose();this._store=null}},$prototype:{add:function(t){this._store||(this._store=[],this.initialize()),this._store[this._storeLength++]=t},initialize:function(){},remove:function(t){return this._store&&e.remove(this._store,t)?(this._storeLength--,!0):!1},getSize:function(){return this._storeLength},getMatch:function(t,e){e=e===!0;for(var i=null,r=e?[]:null,a=0,s=0;s<this._storeLength;s++)if(i=this._store[s],this.$callback(t,i)){if(!e)return i;r[a++]=i}return r},removeMatch:function(t,e){t=new i(t),e=e===!0;for(var r=null,a=e?[]:null,s=0;s<this._storeLength;s++)if(r=this._store[s],t.call(r)){if(this._store.splice(s,1),this._storeLength--,s-=1,!e)return t.$dispose(),r;a.push(r)}return t.$dispose(),a},foreach:function(t,e){var r=null;t=new i(t),e&&(e=new i(e));for(var a=0;a<this._storeLength;a++)r=this._store[a],(!e||e.call(r))&&t.call(r);t.$dispose(),e&&e.$dispose()}}});
//*******************
//LOGICAL-PATH:aria/utils/StringCallback.js
//*******************
var t=require("../Aria");module.exports=t.classDefinition({$classpath:"aria.utils.StringCallback",$singleton:!0,$constructor:function(){this._callbacks={},this._index=0},$destructor:function(){this._callbacks=null},$statics:{_VALUE_REGEXP:/^aria\.utils\.StringCallback\.call\(([0-9]+)\)$/},$prototype:{createStringCallback:function(t,e){var i=this._index;this._index++;var r={cb:t,moreThanOnce:e};return this._callbacks["c"+i]=r,"aria.utils.StringCallback.call("+i+");"},deleteStringCallback:function(t){var e=this._VALUE_REGEXP.exec(t);if(e){var i=e[1];delete this._callbacks["c"+i]}},call:function(t){var e=this._callbacks["c"+t];e&&(e.moreThanOnce||delete this._callbacks["c"+t],this.$callback(e.cb))}}});
//*******************
//LOGICAL-PATH:aria/utils/SynEvents.js
//*******************
var e=require("../Aria"),t=require("./Function");require("./Dom"),function(){var i,r=function(t){if(!t||t==e.$window||t==e.$window.document||!t.parentNode)return!1;try{for(;t!=e.$window.document;){if(!t.parentNode)return!1;t=t.parentNode}}catch(i){return!1}return!0},n=function(t,i){var r=t;try{if(r&&r!==e.$window.document&&!r.parentNode)return;for(;r&&r!==i;)r=r.parentNode;if(r!==i)return!1}catch(n){}return!0},a=function(t,i,r){var s;n(t,i)?(e.$global.Syn.trigger("mouseleave",r,t),s=t.parentNode,s&&i!==s&&s!=e.$window.document&&a(s,i,r)):(e.$global.Syn.trigger("mouseenter",r,i),s=i.parentNode,s&&t!==s&&s!=e.$window.document&&a(t,s,r))},s=e.$global.Syn,o=function(e,t,i){e[t]=i},l=function(e,t,r){var n=e[t];e[t]=r,i.push([o,e,t,n])},c=function(e,t,r){s.bind(e,t,r),i.push([s.unbind,e,t,r])},h=function(){for(;i.length;){var e=i.shift(),t=e.shift();try{t.apply(null,e)}catch(r){}}},u=function(e){var t=i;i=[];try{e()}finally{h(),i=t}},d=function(){for(var t=0;t<arguments.length;t+=1){var i=arguments[t];i.call&&(e.$global.Syn=s=i.call(e.$window,s))}};d(function(){var t,i,n,a=function(e,t){var i;for(i in t)e[i]=t[i];return e},s={msie:aria.core.Browser.isIE,opera:aria.core.Browser.isOpera,webkit:aria.core.Browser.isWebkit,safari:aria.core.Browser.isSafari,gecko:aria.core.Browser.isGecko,mobilesafari:aria.core.Browser.isSafariMobile,rhino:e.$global.navigator.userAgent.match(/Rhino/)&&!0},o=function(e,t,i){var r=i.ownerDocument.createEventObject();return a(r,t)},l={},c=1,h="_synthetic"+(new Date).getTime(),u=/keypress|keyup|keydown/,d=/load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll/,p=function(e,t,i,r){return new p.init(e,t,i,r)};t=function(e,t,i){return e.addEventListener?e.addEventListener(t,i,!1):e.attachEvent("on"+t,i)},i=function(e,t,i){return e.addEventListener?e.removeEventListener(t,i,!1):e.detachEvent("on"+t,i)},a(p,{init:function(e,t,i,r){var n=p.args(t,i,r),a=this;this.queue=[],this.element=n.element,"function"==typeof this[e]?this[e](n.options,n.element,function(){n.callback&&n.callback.apply(a,arguments),a.done.apply(a,arguments)}):(this.result=p.trigger(e,n.options,n.element),n.callback&&n.callback.call(this,n.element,this.result))},jquery:function(t){return e.$window.FuncUnit&&e.$window.FuncUnit.jQuery?e.$window.FuncUnit.jQuery:t?p.helpers.getWindow(t).jQuery||e.$window.jQuery:e.$window.jQuery},args:function(){for(var t={},i=0;i<arguments.length;i++)"function"==typeof arguments[i]?t.callback=arguments[i]:arguments[i]&&arguments[i].jquery?t.element=arguments[i][0]:arguments[i]&&arguments[i].nodeName?t.element=arguments[i]:t.options&&"string"==typeof arguments[i]?t.element=e.$window.document.getElementById(arguments[i]):arguments[i]&&(t.options=arguments[i]);return t},click:function(e,t,i){p("click!",e,t,i)},defaults:{focus:function(){if(!p.support.focusChanges){var e=this,r=e.nodeName.toLowerCase();p.data(e,"syntheticvalue",e.value),("input"===r||"textarea"===r)&&t(e,"blur",function(){p.data(e,"syntheticvalue")!=e.value&&p.trigger("change",{},e),i(e,"blur",arguments.callee)})}},submit:function(){p.onParents(this,function(e){return"form"===e.nodeName.toLowerCase()?(e.submit(),!1):void 0})}},changeOnBlur:function(e,r,n){t(e,"blur",function(){n!==e[r]&&p.trigger("change",{},e),i(e,"blur",arguments.callee)})},closest:function(e,t){for(;e&&e.nodeName.toLowerCase()!==t.toLowerCase();)e=e.parentNode;return e},data:function(e,t,i){var r;return e[h]||(e[h]=c++),l[e[h]]||(l[e[h]]={}),r=l[e[h]],i?void(l[e[h]][t]=i):l[e[h]][t]},onParents:function(e,t){for(var i;e&&i!==!1;)i=t(e),e=e.parentNode;return e},focusable:/^(a|area|frame|iframe|label|input|select|textarea|button|html|object)$/i,isFocusable:function(e){var t;return e.getAttributeNode&&(t=e.getAttributeNode("tabIndex")),this.focusable.test(e.nodeName)||t&&t.specified&&p.isVisible(e)},isVisible:function(e){return e.offsetWidth&&e.offsetHeight||e.clientWidth&&e.clientHeight},tabIndex:function(e){var t=e.getAttributeNode("tabIndex");return t&&t.specified&&(parseInt(e.getAttribute("tabIndex"),10)||0)},bind:t,unbind:i,browser:s,helpers:{createEventObject:o,createBasicStandardEvent:function(e,t,i){var r;try{r=i.createEvent("Events")}catch(n){r=i.createEvent("UIEvents")}finally{r.initEvent(e,!0,!0),a(r,t)}return r},inArray:function(e,t){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},getWindow:function(e){return e.ownerDocument?e.ownerDocument.defaultView||e.ownerDocument.parentWindow:void 0},extend:a,scrollOffset:function(t,i){var r=t.document.documentElement,n=t.document.body;return i?void e.$window.scrollTo(i.left,i.top):{left:(r&&r.scrollLeft||n&&n.scrollLeft||0)+(r.clientLeft||0),top:(r&&r.scrollTop||n&&n.scrollTop||0)+(r.clientTop||0)}},scrollDimensions:function(e){var t=e.document.documentElement,i=e.document.body,r=t.clientWidth,n=t.clientHeight,a="CSS1Compat"===e.document.compatMode;return{height:a&&n||i.clientHeight||n,width:a&&r||i.clientWidth||r}},addOffset:function(e,t){var i,r=p.jquery(t);"object"==typeof e&&void 0===e.clientX&&void 0===e.clientY&&void 0===e.pageX&&void 0===e.pageY&&r&&(t=r(t),i=t.offset(),e.pageX=i.left+t.width()/2,e.pageY=i.top+t.height()/2)}},key:{ctrlKey:null,altKey:null,shiftKey:null,metaKey:null},dispatch:function(r,n,a,s){if(n.dispatchEvent&&r){var o=r.preventDefault,l=s?-1:0;return s&&t(n,a,function(e){e.preventDefault(),i(this,a,arguments.callee)}),r.preventDefault=function(){l++,++l>0&&o.apply(this,[])},n.dispatchEvent(r),0>=l}try{e.$window.event=r}catch(c){}return n.sourceIndex<=0||n.fireEvent&&n.fireEvent("on"+a,r)},create:{page:{event:function(t,i,r){var n,a=p.helpers.getWindow(r).document||e.$window.document;if(a.createEvent)return n=a.createEvent("Events"),n.initEvent(t,!0,!0),n;try{n=o(t,i,r)}catch(s){}return n}},focus:{event:function(t,i,r){return p.onParents(r,function(t){if(p.isFocusable(t)){if("html"!==t.nodeName.toLowerCase())t.focus(),n=t;else if(n){var i=p.helpers.getWindow(r).document;if(i!==e.$window.document)return!1;i.activeElement?(i.activeElement!=e.$window.document.body&&i.activeElement.blur(),n=null):(n.blur(),n=null)}return!1}}),!0}}},support:{clickChanges:!1,clickSubmits:!1,keypressSubmits:!1,mouseupSubmits:!1,radioClickChanges:!1,focusChanges:!1,linkHrefJS:!1,keyCharacters:!1,backspaceWorks:!1,mouseDownUpClicks:!1,tabKeyTabs:!1,keypressOnAnchorClicks:!1,optionClickBubbles:!1,ready:0},trigger:function(e,t,i){if(r(i)){t||(t={});var n,a,s,o=p.create,l=o[e]&&o[e].setup,c=u.test(e)?"key":d.test(e)?"page":"mouse",h=o[e]||{},f=o[c],g=i;return 2===p.support.ready&&l&&l(e,t,i),s=t._autoPrevent,delete t._autoPrevent,h.event?a=h.event(e,t,i):(t=f.options?f.options(e,t,i):t,!p.support.changeBubbles&&/option/i.test(i.nodeName)&&(g=i.parentNode),n=f.event(e,t,g),a=p.dispatch(n,g,e,s)),a&&2===p.support.ready&&p.defaults[e]&&p.defaults[e].call(i,t,s),a}},eventSupported:function(t){var i=e.$window.document.createElement("div");t="on"+t;var r=t in i;return r||(i.setAttribute(t,"return;"),r="function"==typeof i[t]),i=null,r}}),a(p.init.prototype,{then:function(e,t,i,r){p.autoDelay&&this.delay();var n=p.args(t,i,r),a=this;return this.queue.unshift(function(t){return"function"!=typeof this[e]?(this.result=p.trigger(e,n.options,n.element),n.callback&&n.callback.call(this,n.element,this.result),this):(this.element=n.element||t,void this[e](n.options,this.element,function(){n.callback&&n.callback.apply(a,arguments),a.done.apply(a,arguments)}))}),this},delay:function(e,t){"function"==typeof e&&(t=e,e=null),e=e||600;var i=this;return this.queue.unshift(function(){setTimeout(function(){t&&t.apply(i,[]),i.done.apply(i,arguments)},e)}),this},done:function(e,t){t&&(this.element=t),this.queue.length&&this.queue.pop().call(this,this.element,e)},_click:function(e,t,i,r){p.helpers.addOffset(e,t),p.trigger("mousedown",e,t),setTimeout(function(){p.trigger("mouseup",e,t),!p.support.mouseDownUpClicks||r?(p.trigger("click",e,t),i(!0)):(p.create.click.setup("click",e,t),p.defaults.click.call(t),setTimeout(function(){i(!0)},1))},1)},_rightClick:function(e,t,i){p.helpers.addOffset(e,t);var r=a(a({},p.mouse.browser.right.mouseup),e);p.trigger("mousedown",r,t),setTimeout(function(){p.trigger("mouseup",r,t),p.mouse.browser.right.contextmenu&&p.trigger("contextmenu",a(a({},p.mouse.browser.right.contextmenu),e),t),i(!0)},1)},_dblclick:function(e,t,i){p.helpers.addOffset(e,t);var r=this;this._click(e,t,function(){setTimeout(function(){r._click(e,t,function(){p.trigger("dblclick",e,t),i(!0)},!0)},2)})}});for(var f=["click","dblclick","move","drag","key","type","rightClick"],g=function(e){p[e]=function(t,i,r){return p("_"+e,t,i,r)},p.init.prototype[e]=function(t,i,r){return this.then("_"+e,t,i,r)}},_=0;_<f.length;_++)g(f[_]);return p}),d("./synthetic",function(t){var i=t.helpers,r=i.getWindow;return t.mouse={},i.extend(t.defaults,{mousedown:function(){t.trigger("focus",{},this)},click:function(){var i,n,a,s,o,l,c=this;try{i=c.href,n=c.type,s=t.data(c,"createChange"),a=t.data(c,"radioChanged"),l=r(c),o=c.nodeName.toLowerCase()}catch(h){return}if(!t.support.linkHrefJS&&/^\s*javascript:/.test(i)){var u=i.replace(/^\s*javascript:/,"");"//"!=u&&-1==u.indexOf("void(0)")&&e.eval(e.$window.selenium?"with(selenium.browserbot.getCurrentWindow()){"+u+"}":"with(scope){"+u+"}")}if(!t.support.clickSubmits&&"input"==o&&"submit"==n||"button"==o){var d=t.closest(c,"form");d&&t.trigger("submit",{},d)}"a"==o&&c.href&&!/^\s*javascript:/.test(i)&&(l.location.href=i),"input"==o&&"checkbox"==n&&(t.support.clickChanges||t.trigger("change",{},c)),"input"==o&&"radio"==n&&a&&!t.support.radioClickChanges&&t.trigger("change",{},c),"option"==o&&s&&(t.trigger("change",{},c.parentNode),t.data(c,"createChange",!1))}}),i.extend(t.create,{mouse:{options:function(r,n){var a=e.$window.document.documentElement,s=e.$window.document.body,o=[n.pageX||0,n.pageY||0],l=t.mouse.browser&&t.mouse.browser.left[r],c=t.mouse.browser&&t.mouse.browser.right[r];return i.extend({bubbles:!0,cancelable:!0,view:e.$window,detail:1,screenX:1,screenY:1,clientX:n.clientX||o[0]-(a&&a.scrollLeft||s&&s.scrollLeft||0)-(a.clientLeft||0),clientY:n.clientY||o[1]-(a&&a.scrollTop||s&&s.scrollTop||0)-(a.clientTop||0),ctrlKey:!!t.key.ctrlKey,altKey:!!t.key.altKey,shiftKey:!!t.key.shiftKey,metaKey:!!t.key.metaKey,button:l&&null!=l.button?l.button:c&&c.button||("contextmenu"==r?2:0),relatedTarget:e.$window.document.documentElement},n)},event:function(t,n,a){var s=r(a).document||e.$window.document;if(s.createEvent){var o;try{o=s.createEvent("MouseEvents"),o.initMouseEvent(t,n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(l){o=i.createBasicStandardEvent(t,n,s)}return o.synthetic=!0,o}var o;try{o=i.createEventObject(t,n,a)}catch(l){}return o}},click:{setup:function(e,i,r){var e,n=r.nodeName.toLowerCase();if(!t.support.clickChecks&&!t.support.changeChecks&&"input"===n&&(e=r.type.toLowerCase(),"checkbox"===e&&(r.checked=!r.checked),"radio"===e&&!r.checked)){try{t.data(r,"radioChanged",!0)}catch(a){}r.checked=!0}if("a"==n&&r.href&&!/^\s*javascript:/.test(r.href)&&t.data(r,"href",r.href),/option/i.test(r.nodeName)){for(var s=r.parentNode.firstChild,o=-1;s&&(1!=s.nodeType||(o++,s!=r));)s=s.nextSibling;o!==r.parentNode.selectedIndex&&(r.parentNode.selectedIndex=o,t.data(r,"createChange",!0))}}},mousedown:{setup:function(e,i,r){var n=r.nodeName.toLowerCase();!t.browser.safari||"select"!=n&&"option"!=n||(i._autoPrevent=!0)}},mouseenter:{setup:function(e,t){t.bubbles=!1,t.cancelable=!1}},mouseleave:{setup:function(e,t){t.bubbles=!1,t.cancelable=!1}}}),function(){return e.$window.document.body?void u(function(){l(e.$window,"__synthTest",function(){t.support.linkHrefJS=!0});var i,r,n,a,s,o=e.$window.document.createElement("div");e.$window.document.documentElement.appendChild(o),o.innerHTML="<form id='outer'><input name='checkbox' type='checkbox'/><input name='radio' type='radio' /><input type='submit' name='submitter'/><input type='input' name='inputter'/><input name='one'><input name='two'/><a href='javascript:__synthTest()' id='synlink'></a><select><option></option></select></form>",n=o.firstChild,i=n.childNodes[0],r=n.childNodes[2],s=n.getElementsByTagName("select")[0],i.checked=!1,l(i,"onchange",function(){t.support.clickChanges=!0}),t.trigger("click",{},i),t.support.clickChecks=i.checked,i.checked=!1,t.trigger("change",{},i),t.support.changeChecks=i.checked,l(n,"onsubmit",function(e){return e.preventDefault&&e.preventDefault(),t.support.clickSubmits=!0,!1}),t.trigger("click",{},r),l(n.childNodes[1],"onchange",function(){t.support.radioClickChanges=!0}),t.trigger("click",{},n.childNodes[1]),c(o,"click",function(){t.support.optionClickBubbles=!0,t.unbind(o,"click",arguments.callee)}),t.trigger("click",{},s.firstChild),t.support.changeBubbles=t.eventSupported("change");l(o,"onclick",function(){t.support.mouseDownUpClicks=!0}),t.trigger("mousedown",{},o),t.trigger("mouseup",{},o),e.$window.document.documentElement.removeChild(o),o=i=r=n=a=s=null,t.support.ready++}):void setTimeout(arguments.callee,1)}(),t}),d("./synthetic","./mouse.js",function(t){return t.key.browsers={webkit:{prevent:{keyup:[],keydown:["char","keypress"],keypress:["char"]},character:{keydown:[0,"key"],keypress:["char","char"],keyup:[0,"key"]},specialChars:{keydown:[0,"char"],keyup:[0,"char"]},navigation:{keydown:[0,"key"],keyup:[0,"key"]},special:{keydown:[0,"key"],keyup:[0,"key"]},tab:{keydown:[0,"char"],keyup:[0,"char"]},"pause-break":{keydown:[0,"key"],keyup:[0,"key"]},caps:{keydown:[0,"key"],keyup:[0,"key"]},escape:{keydown:[0,"key"],keyup:[0,"key"]},"num-lock":{keydown:[0,"key"],keyup:[0,"key"]},"scroll-lock":{keydown:[0,"key"],keyup:[0,"key"]},print:{keyup:[0,"key"]},"function":{keydown:[0,"key"],keyup:[0,"key"]},"\r":{keydown:[0,"key"],keypress:["char","key"],keyup:[0,"key"]}},gecko:{prevent:{keyup:[],keydown:["char"],keypress:["char"]},character:{keydown:[0,"key"],keypress:["char",0],keyup:[0,"key"]},specialChars:{keydown:[0,"key"],keypress:[0,"key"],keyup:[0,"key"]},navigation:{keydown:[0,"key"],keypress:[0,"key"],keyup:[0,"key"]},special:{keydown:[0,"key"],keyup:[0,"key"]},"	":{keydown:[0,"key"],keypress:[0,"key"],keyup:[0,"key"]},"pause-break":{keydown:[0,"key"],keypress:[0,"key"],keyup:[0,"key"]},caps:{keydown:[0,"key"],keyup:[0,"key"]},escape:{keydown:[0,"key"],keypress:[0,"key"],keyup:[0,"key"]},"num-lock":{keydown:[0,"key"],keyup:[0,"key"]},"scroll-lock":{keydown:[0,"key"],keyup:[0,"key"]},print:{keyup:[0,"key"]},"function":{keydown:[0,"key"],keyup:[0,"key"]},"\r":{keydown:[0,"key"],keypress:[0,"key"],keyup:[0,"key"]}},msie:{prevent:{keyup:[],keydown:["char","keypress"],keypress:["char"]},character:{keydown:[null,"key"],keypress:[null,"char"],keyup:[null,"key"]},specialChars:{keydown:[null,"char"],keyup:[null,"char"]},navigation:{keydown:[null,"key"],keyup:[null,"key"]},special:{keydown:[null,"key"],keyup:[null,"key"]},tab:{keydown:[null,"char"],keyup:[null,"char"]},"pause-break":{keydown:[null,"key"],keyup:[null,"key"]},caps:{keydown:[null,"key"],keyup:[null,"key"]},escape:{keydown:[null,"key"],keypress:[null,"key"],keyup:[null,"key"]},"num-lock":{keydown:[null,"key"],keyup:[null,"key"]},"scroll-lock":{keydown:[null,"key"],keyup:[null,"key"]},print:{keyup:[null,"key"]},"function":{keydown:[null,"key"],keyup:[null,"key"]},"\r":{keydown:[null,"key"],keypress:[null,"key"],keyup:[null,"key"]}},opera:{prevent:{keyup:[],keydown:[],keypress:["char"]},character:{keydown:[null,"key"],keypress:[null,"char"],keyup:[null,"key"]},specialChars:{keydown:[null,"char"],keypress:[null,"char"],keyup:[null,"char"]},navigation:{keydown:[null,"key"],keypress:[null,"key"]},special:{keydown:[null,"key"],keypress:[null,"key"],keyup:[null,"key"]},tab:{keydown:[null,"char"],keypress:[null,"char"],keyup:[null,"char"]},"pause-break":{keydown:[null,"key"],keypress:[null,"key"],keyup:[null,"key"]},caps:{keydown:[null,"key"],keyup:[null,"key"]},escape:{keydown:[null,"key"],keypress:[null,"key"]},"num-lock":{keyup:[null,"key"],keydown:[null,"key"],keypress:[null,"key"]},"scroll-lock":{keydown:[null,"key"],keypress:[null,"key"],keyup:[null,"key"]},print:{},"function":{keydown:[null,"key"],keypress:[null,"key"],keyup:[null,"key"]},"\r":{keydown:[null,"key"],keypress:[null,"key"],keyup:[null,"key"]}}},t.mouse.browsers={webkit:{right:{mousedown:{button:2,which:3},mouseup:{button:2,which:3},contextmenu:{button:2,which:3}},left:{mousedown:{button:0,which:1},mouseup:{button:0,which:1},click:{button:0,which:1}}},opera:{right:{mousedown:{button:2,which:3},mouseup:{button:2,which:3}},left:{mousedown:{button:0,which:1},mouseup:{button:0,which:1},click:{button:0,which:1}}},msie:{right:{mousedown:{button:2},mouseup:{button:2},contextmenu:{button:0}},left:{mousedown:{button:1},mouseup:{button:1},click:{button:0}}},chrome:{right:{mousedown:{button:2,which:3},mouseup:{button:2,which:3},contextmenu:{button:2,which:3}},left:{mousedown:{button:0,which:1},mouseup:{button:0,which:1},click:{button:0,which:1}}},gecko:{left:{mousedown:{button:0,which:1},mouseup:{button:0,which:1},click:{button:0,which:1}},right:{mousedown:{button:2,which:3},mouseup:{button:2,which:3},contextmenu:{button:2,which:3}}}},t.key.browser=function(){if(t.key.browsers[e.$global.navigator.userAgent])return t.key.browsers[e.$global.navigator.userAgent];for(var i in t.browser)if(t.browser[i]&&t.key.browsers[i])return t.key.browsers[i];return t.key.browsers.gecko}(),t.mouse.browser=function(){if(t.mouse.browsers[e.$global.navigator.userAgent])return t.mouse.browsers[e.$global.navigator.userAgent];for(var i in t.browser)if(t.browser[i]&&t.mouse.browsers[i])return t.mouse.browsers[i];return t.mouse.browsers.gecko}(),t}),d("./synthetic","./browsers.js",function(t){var i=t.helpers,r=function(t){if(void 0!==t.selectionStart)return e.$window.document.activeElement&&e.$window.document.activeElement!=t&&t.selectionStart==t.selectionEnd&&0===t.selectionStart?{start:t.value.length,end:t.value.length}:{start:t.selectionStart,end:t.selectionEnd};try{if("input"==t.nodeName.toLowerCase()){var r=i.getWindow(t).document.selection.createRange(),n=t.createTextRange();n.setEndPoint("EndToStart",r);var a=n.text.length;return{start:a,end:a+r.text.length}}var r=i.getWindow(t).document.selection.createRange(),n=r.duplicate(),s=r.duplicate(),o=r.duplicate();s.collapse(),o.collapse(!1),s.moveStart("character",-1),o.moveStart("character",-1),n.moveToElementText(t),n.setEndPoint("EndToEnd",r);var a=n.text.length-r.text.length,l=n.text.length;return 0!==a&&""===s.text&&(a+=2),0!==l&&""===o.text&&(l+=2),{start:a,end:l}}catch(c){return{start:t.value.length,end:t.value.length}}},n=function(e){for(var r=i.getWindow(e).document,n=[],a=r.getElementsByTagName("*"),s=a.length,o=0;s>o;o++)t.isFocusable(a[o])&&a[o]!=r.documentElement&&n.push(a[o]);return n};i.extend(t,{keycodes:{"\b":8,"	":9,"\r":13,shift:16,ctrl:17,alt:18,"pause-break":19,caps:20,escape:27,"num-lock":144,"scroll-lock":145,print:44,"page-up":33,"page-down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,"delete":46," ":32,0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,num0:96,num1:97,num2:98,num3:99,num4:100,num5:101,num6:102,num7:103,num8:104,num9:105,"*":106,"+":107,"-":109,".":110,"/":111,";":186,"=":187,",":188,"`":192,"[":219,"\\":220,"]":221,"'":222,"left window key":91,"right window key":92,"select key":93,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},typeable:/input|textarea/i,selectText:function(e,t,i){if(e.setSelectionRange)i?(e.selectionStart=t,e.selectionEnd=i):(e.focus(),e.setSelectionRange(t,t));else if(e.createTextRange){var r=e.createTextRange();r.moveStart("character",t),i=i||t,r.moveEnd("character",i-e.value.length),r.select()}},getText:function(e){if(t.typeable.test(e.nodeName)){var i=r(e);return e.value.substring(i.start,i.end)}var n=t.helpers.getWindow(e);return n.getSelection?n.getSelection().toString():n.document.getSelection?n.document.getSelection().toString():n.document.selection.createRange().text},getSelection:r}),i.extend(t.key,{data:function(e){if(t.key.browser[e])return t.key.browser[e];for(var r in t.key.kinds)if(i.inArray(e,t.key.kinds[r])>-1)return t.key.browser[r];return t.key.browser.character},isSpecial:function(e){for(var i=t.key.kinds.special,r=0;r<i.length;r++)if(t.keycodes[i[r]]==e)return i[r]},options:function(e,i){var r=t.key.data(e);if(!r[i])return null;var n=r[i][0],a=r[i][1],s={};return s.keyCode="key"==a?t.keycodes[e]:"char"==a?e.charCodeAt(0):a,"char"==n?s.charCode=e.charCodeAt(0):null!==n&&(s.charCode=n),s.which=s.keyCode?s.keyCode:s.charCode,s},kinds:{special:["shift","ctrl","alt","caps"],specialChars:["\b"],navigation:["page-up","page-down","end","home","left","up","right","down","insert","delete"],"function":["f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12"]},getDefault:function(e){if(t.key.defaults[e])return t.key.defaults[e];for(var r in t.key.kinds)if(i.inArray(e,t.key.kinds[r])>-1&&t.key.defaults[r])return t.key.defaults[r];return t.key.defaults.character},defaults:{character:function(e,i,r,n,a){if(/num\d+/.test(r)&&(r=r.match(/\d+/)[0]),n||!t.support.keyCharacters&&t.typeable.test(this.nodeName)){var s=this.value,o=s.substr(0,a.start),l=s.substr(a.end),c=r;this.value=o+c+l;var h="\n"==c&&t.support.textareaCarriage?2:c.length;t.selectText(this,o.length+h)}},c:function(){t.key.ctrlKey?t.key.clipboard=t.getText(this):t.key.defaults.character.apply(this,arguments)},v:function(e,i,r,n,a){t.key.ctrlKey?t.key.defaults.character.call(this,e,i,t.key.clipboard,!0,a):t.key.defaults.character.apply(this,arguments)},a:function(){t.key.ctrlKey?t.selectText(this,0,this.value.length):t.key.defaults.character.apply(this,arguments)},home:function(){t.onParents(this,function(e){return e.scrollHeight!=e.clientHeight?(e.scrollTop=0,!1):void 0})},end:function(){t.onParents(this,function(e){return e.scrollHeight!=e.clientHeight?(e.scrollTop=e.scrollHeight,!1):void 0})},"page-down":function(){t.onParents(this,function(e){if(e.scrollHeight!=e.clientHeight){var t=e.clientHeight;return e.scrollTop+=t,!1}})},"page-up":function(){t.onParents(this,function(e){if(e.scrollHeight!=e.clientHeight){var t=e.clientHeight;return e.scrollTop-=t,!1}})},"\b":function(e,i,r,n,a){if(!t.support.backspaceWorks&&t.typeable.test(this.nodeName)){var s=this.value,o=s.substr(0,a.start),l=s.substr(a.end);a.start==a.end&&a.start>0?(this.value=o.substring(0,o.length-1)+l,t.selectText(this,a.start-1)):(this.value=o+l,t.selectText(this,a.start))}},"delete":function(e,i,r,n,a){if(!t.support.backspaceWorks&&t.typeable.test(this.nodeName)){var s=this.value,o=s.substr(0,a.start),l=s.substr(a.end);this.value=a.start==a.end&&a.start<=this.value.length-1?o+l.substring(1):o+l,t.selectText(this,a.start)}},"\r":function(e,i,r,n,a){var s=this.nodeName.toLowerCase();if("input"==s&&t.trigger("change",{},this),!t.support.keypressSubmits&&"input"==s){var o=t.closest(this,"form");o&&t.trigger("submit",{},o)}t.support.keyCharacters||"textarea"!=s||t.key.defaults.character.call(this,e,i,"\n",void 0,a),t.support.keypressOnAnchorClicks||"a"!=s||t.trigger("click",{},this)},"	":function(){for(var e,i,r=n(this),a=(t.tabIndex(this),null),s=0,o=[];s<r.length;s++)o.push([r[s],s]);var l=function(e,i){var r=e[0],n=i[0],a=t.tabIndex(r)||0,s=t.tabIndex(n)||0;return a==s?e[1]-i[1]:0===a?1:0===s?-1:a-s};for(o.sort(l),s=0;s<o.length;s++)e=o[s][0],this==e&&(t.key.shiftKey?(a=o[s-1][0],a||(a=o[r.length-1][0])):(a=o[s+1][0],a||(a=o[0][0])));return a||(a=i),a&&a.focus(),a},left:function(e,i,r,n,a){t.typeable.test(this.nodeName)&&(t.key.shiftKey?t.selectText(this,0===a.start?0:a.start-1,a.end):t.selectText(this,0===a.start?0:a.start-1))},right:function(e,i,r,n,a){t.typeable.test(this.nodeName)&&(t.key.shiftKey?t.selectText(this,a.start,a.end+1>this.value.length?this.value.length:a.end+1):t.selectText(this,a.end+1>this.value.length?this.value.length:a.end+1))},up:function(){/select/i.test(this.nodeName)&&(this.selectedIndex=this.selectedIndex?this.selectedIndex-1:0)},down:function(){/select/i.test(this.nodeName)&&(t.changeOnBlur(this,"selectedIndex",this.selectedIndex),this.selectedIndex=this.selectedIndex+1)},shift:function(){return null},ctrl:function(){return null}}}),i.extend(t.create,{keydown:{setup:function(e,r,n){-1!=i.inArray(r,t.key.kinds.special)&&(t.key[r+"Key"]=n)}},keypress:{setup:function(e,i,r){t.support.keyCharacters&&!t.support.keysOnNotFocused&&r.focus()}},keyup:{setup:function(e,r){-1!=i.inArray(r,t.key.kinds.special)&&(t.key[r+"Key"]=null)}},key:{options:function(e,r){return r="object"!=typeof r?{character:r}:r,r=i.extend({},r),r.character&&(i.extend(r,t.key.options(r.character,e)),delete r.character),r=i.extend({ctrlKey:!!t.key.ctrlKey,altKey:!!t.key.altKey,shiftKey:!!t.key.shiftKey,metaKey:!!t.key.metaKey},r)},event:function(t,r,n){var a=i.getWindow(n).document||e.$window.document;if(a.createEvent){var s;try{s=a.createEvent("KeyEvents"),s.initKeyEvent(t,!0,!0,e.$window,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.keyCode,r.charCode)}catch(o){s=i.createBasicStandardEvent(t,r,a)}return s.synthetic=!0,s}var s;try{s=i.createEventObject.apply(this,arguments),i.extend(s,r)}catch(o){}return s}}});var a={enter:"\r",backspace:"\b",tab:"	",space:" "};return i.extend(t.init.prototype,{_key:function(e,n,s){if(/-up$/.test(e)&&-1!=i.inArray(e.replace("-up",""),t.key.kinds.special))return t.trigger("keyup",e.replace("-up",""),n),void s(!0,n);var o,l=i.getWindow(n).document.activeElement,c=t.typeable.test(n.nodeName)&&r(n),h=a[e]||e,u=t.trigger("keydown",h,n),d=t.key.getDefault,p=t.key.browser.prevent,f=t.key.options(h,"keypress");return u?f?(l!==i.getWindow(n).document.activeElement&&(n=i.getWindow(n).document.activeElement),u=t.trigger("keypress",f,n),u&&(o=d(h).call(n,f,i.getWindow(n),h,void 0,c))):o=d(h).call(n,f,i.getWindow(n),h,void 0,c):f&&-1==i.inArray("keypress",p.keydown)&&(l!==i.getWindow(n).document.activeElement&&(n=i.getWindow(n).document.activeElement),t.trigger("keypress",f,n)),o&&o.nodeName&&(n=o),null!==o?setTimeout(function(){t.trigger("keyup",t.key.options(h,"keyup"),n),s(u,n)},1):s(u,n),n},_type:function(e,t,i){var r=e.match(/(\[[^\]]+\])|([^\[])/g),n=this,a=function(e,s){var o=r.shift();return o?(s=s||t,o.length>1&&(o=o.substr(1,o.length-2)),void n._key(o,s,a)):void i(e,s)};a()}}),function(){return e.$window.document.body?void u(function(){var i,r,n,a,s,o,h,u=e.$window.document.createElement("div");e.$window.document.documentElement.appendChild(u),u.innerHTML="<form id='outer'><input name='checkbox' type='checkbox'/><input name='radio' type='radio' /><input type='submit' name='submitter'/><input type='input' name='inputter'/><input name='one'><input name='two'/><a href='#abc'></a><textarea>1\n2</textarea></form>",n=u.firstChild,i=n.childNodes[0],r=n.childNodes[2],s=n.getElementsByTagName("a")[0],o=n.getElementsByTagName("textarea")[0],h=n.childNodes[3],l(n,"onsubmit",function(e){return e.preventDefault&&e.preventDefault(),t.support.keypressSubmits=!0,e.returnValue=!1,!1}),h.focus(),t.trigger("keypress","\r",h),t.trigger("keypress","a",h),t.support.keyCharacters="a"===h.value,h.value="a",t.trigger("keypress","\b",h),t.support.backspaceWorks=""===h.value,l(h,"onchange",function(){t.support.focusChanges=!0}),h.focus(),t.trigger("keypress","a",h),n.childNodes[5].focus(),t.trigger("keypress","b",h),t.support.keysOnNotFocused="ab"===h.value,c(s,"click",function(e){return e.preventDefault&&e.preventDefault(),t.support.keypressOnAnchorClicks=!0,e.returnValue=!1,!1}),t.trigger("keypress","\r",s),t.support.textareaCarriage=4==o.value.length,e.$window.document.documentElement.removeChild(u),u=i=r=n=a=s=o=h=null,t.support.ready++}):void setTimeout(arguments.callee,1)}(),t}),d("../synthetic.js",function(t){!function(){if(!e.$window.document.body)return void setTimeout(arguments.callee,1);var i=e.$window.document.createElement("div");if(e.$window.document.body.appendChild(i),t.helpers.extend(i.style,{width:"100px",height:"10000px",backgroundColor:"blue",position:"absolute",top:"10px",left:"0px",zIndex:19999}),e.$window.document.body.scrollTop=11,e.$window.document.elementFromPoint){var r=e.$window.document.elementFromPoint(3,1);r==i?t.support.elementFromClient=!0:t.support.elementFromPage=!0,e.$window.document.body.removeChild(i),e.$window.document.body.scrollTop=0}}();var i=function(e,i){var r,n=e.clientX,a=e.clientY,s=t.helpers.getWindow(i);if(t.support.elementFromPage){var o=t.helpers.scrollOffset(s);n+=o.left,a+=o.top}return r=s.document.elementFromPoint?s.document.elementFromPoint(n,a):i,r===s.document.documentElement&&(e.clientY<0||e.clientX<0)?i:r},r=function(e,r,n){var a=i(r,n);return t.trigger(e,r,a||n),a},n=function(e,r,n){var s=i(e,r);if(n!=s&&s&&n){var o=t.helpers.extend({},e);o.relatedTarget=s,t.trigger("mouseout",o,n),o.relatedTarget=n,t.trigger("mouseover",o,s),t.browser.msie&&a(n,s,o)}return t.trigger("mousemove",e,s||r),s},s=function(e,r,a,s,o){var l=new Date,c=r.clientX-e.clientX,h=r.clientY-e.clientY,u=t.helpers.getWindow(s),d=i(e,s),p=u.document.createElement("div"),f=0,g=function(){var i=new Date,g=t.helpers.scrollOffset(u),_=(0===f?0:i-l)/a,m={clientX:c*_+e.clientX,clientY:h*_+e.clientY};f++,1>_?(t.helpers.extend(p.style,{left:m.clientX+g.left+2+"px",top:m.clientY+g.top+2+"px"}),d=n(m,s,d),setTimeout(arguments.callee,15)):(d=n(r,s,d),u.document.body.removeChild(p),o())};t.helpers.extend(p.style,{height:"5px",width:"5px",backgroundColor:"red",position:"absolute",zIndex:19999,fontSize:"1px"}),u.document.body.appendChild(p),g()},o=function(e,t,i,n,a){r("mousedown",e,n),s(e,t,i,n,function(){r("mouseup",t,n),a()})},l=function(t){var i=(t&&t.ownerDocument).documentElement,r={top:0,left:0};"undefined"!=typeof t.getBoundingClientRect&&(r=t.getBoundingClientRect());var n=e.$window,a=n.document,s={top:r.top+(void 0!==n.pageYOffset?n.pageYOffset:(a.documentElement||a.body.parentNode||a.body).scrollTop)-i.clientTop,left:r.left+(void 0!==n.pageXOffset?n.pageXOffset:(a.documentElement||a.body.parentNode||a.body).scrollLeft)-i.clientLeft};return{pageX:s.left+t.offsetWidth/2,pageY:s.top+t.offsetHeight/2}},c=function(e,i,r){var n=/(\d+)[x ](\d+)/,a=/(\d+)X(\d+)/,s=/([+-]\d+)[xX ]([+-]\d+)/;if("string"==typeof e&&s.test(e)&&r){var o=l(r),c=e.match(s);e={pageX:o.pageX+parseInt(c[1],10),pageY:o.pageY+parseInt(c[2],10)}}if("string"==typeof e&&n.test(e)){var c=e.match(n);e={pageX:parseInt(c[1],10),pageY:parseInt(c[2],10)}}if("string"==typeof e&&a.test(e)){var c=e.match(a);e={clientX:parseInt(c[1],10),clientY:parseInt(c[2],10)}}if("string"==typeof e&&(e=t.jquery()(e,i.document)[0]),e.nodeName&&(e=l(e)),e.pageX){var h=t.helpers.scrollOffset(i);e={clientX:e.pageX-h.left,clientY:e.pageY-h.top}}return e},h=function(e,i,r){if(e.clientY<0){var n=t.helpers.scrollOffset(r),a=(t.helpers.scrollDimensions(r),n.top+e.clientY-100),s=a-n.top;a>0||(a=0,s=-n.top),e.clientY=e.clientY-s,i.clientY=i.clientY-s,t.helpers.scrollOffset(r,{top:a,left:n.left})}};return t.helpers.extend(t.init.prototype,{_move:function(e,i,r){var n=t.helpers.getWindow(i),a=c(e.from||i,n,i),o=c(e.to||e,n,i);e.adjust!==!1&&h(a,o,n),s(a,o,e.duration||500,i,r)},_drag:function(e,i,r){var n=t.helpers.getWindow(i),a=c(e.from||i,n,i),s=c(e.to||e,n,i);e.adjust!==!1&&h(a,s,n),o(a,s,e.duration||500,i,r)}}),t}),module.exports=e.classDefinition({$classpath:"aria.utils.SynEvents",$singleton:!0,$prototype:{click:function(e,i){s.click({},e,t.bindCallback(i))},type:function(e,i,r){s.type(i,e,t.bindCallback(r))},move:function(e,i,r){s.move(e,i,t.bindCallback(r))}}})}();
//*******************
//LOGICAL-PATH:aria/utils/UtilsRes.js
//*******************
Aria.resourcesDefinition({$classpath:"aria.utils.UtilsRes",$resources:{timeFormatLabels:{am:"AM",pm:"PM"}}});
//*******************
//LOGICAL-PATH:aria/utils/VisualFocus.js
//*******************
var e=require("../Aria"),t=require("../core/Browser"),i=require("./environment/VisualFocus"),r=require("./Delegate"),n=require("../core/environment/Environment");module.exports=e.classDefinition({$classpath:"aria.utils.VisualFocus",$singleton:!0,$constructor:function(){this.__style=t.isIE7?null:i.getAppOutlineStyle(),this.__focusedElement=r.getFocus(),this.__outlinedElement=null,this.__previousStyle=null,i.$on({environmentChanged:function(){this.updateOutlineStyle()},scope:this}),r.$on({elementFocused:function(e){this.addVisualFocus(e.focusedElement)},scope:this}),r.$on({elementBlurred:function(){this.removeVisualFocus()},scope:this}),this.__updateVisualFocus()},$destructor:function(){this.removeVisualFocus(),this.__style=null,this.__focusedElement=null,this.__outlinedElement=null,r&&r.$unregisterListeners(this),n&&n.$unregisterListeners(this)},$prototype:{addVisualFocus:function(i){if(this.__focusedElement&&this.removeVisualFocus(),this.__focusedElement=i,this.__style){var r=e.$window.document;if("A"!=this.__focusedElement.tagName&&"BUTTON"!=this.__focusedElement.tagName){for(var n=this.__focusedElement;"SPAN"!=n.tagName&&n!=r.body;n=n.parentNode);n!=r.body&&(this.__outlinedElement=n)}else this.__outlinedElement=this.__focusedElement;this.__outlinedElement&&(this.__previousStyle=t.isIE8?this.__outlinedElement.style.cssText:this.__outlinedElement.style.outline?this.__outlinedElement.style.outline:"",this.__outlinedElement.style.outline=this.__style)}},removeVisualFocus:function(){this.__style&&this.__outlinedElement&&(t.isIE8?this.__outlinedElement.style.cssText=this.__previousStyle:this.__outlinedElement.style.outline=this.__previousStyle,this.__outlinedElement=null,this.__previousStyle=null),this.__focusedElement=null},updateOutlineStyle:function(e){var r=e?e:i.getAppOutlineStyle();this.__style=t.isIE7?null:r,this.__updateVisualFocus()},__updateVisualFocus:function(){this.__outlinedElement?this.__style?this.__outlinedElement.style.outline=this.__style:(t.isIE8?this.__outlinedElement.style.cssText=this.__previousStyle:this.__outlinedElement.style.outline=this.__previousStyle,this.__outlinedElement=null,this.__previousStyle=null):this.__focusedElement&&this.addVisualFocus(this.__focusedElement)},getStyle:function(){return this.__style}}});
//*******************
//LOGICAL-PATH:aria/utils/Xml.js
//*******************
var e=require("../Aria");module.exports=e.classDefinition({$classpath:"aria.utils.Xml",$singleton:!0,$prototype:{convertXmlToJson:function(t){var i,r=e.$global.DOMParser;if(r){var n=new r;i=n.parseFromString(t,"text/xml")}else{var a=e.$global.ActiveXObject;i=new a("Microsoft.XMLDOM"),i.async="false",i.loadXML(t)}return i.hasChildNodes()?this.__parseXmlNode(i):null},convertXmlNodeToJson:function(e){return this.__parseXmlNode(e)},__parseXmlNode:function(e){if(e){for(var t={},i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];if(3!=r.nodeType&&4!=r.nodeType){for(var n=r.nodeName,a=0,s=0;s<e.childNodes.length&&(e.childNodes[s].nodeName!=n||2!=++a);s++);var o=this.__parseXmlNode(r);2==a?(null==t[n]&&(t[n]=[]),t[n].push(o)):t[n]=o}else 1==e.childNodes.length&&(t=r.nodeValue)}return t}}}});
//*******************
//LOGICAL-PATH:aria/utils/css/Transitions.tpl.css
//*******************
Aria.classDefinition({$classpath:"aria.utils.css.Transitions",$extends:"aria.templates.CSSTemplate",$constructor:function(){this.$CSSTemplate.constructor.call(this)},$destructor:function(){this.$CSSTemplate.$destructor.call(this)},$prototype:{macro_main:function(){try{with(this)this.__$write("\n.xanimation-element {\nvisibility: hidden;\n",23),this.macro_generatePrefix("backface-visibility","hidden"),this.__$write("\n}\n\n.xanimation-element-active {\ndisplay: block;\noverflow: visible;\n}\n\n.xanimation-element {\noutline: none;\n}\n\n.xviewport-xanimation,\n.xviewport-xanimation .xanimation-element {\nwidth: 100%;\nheight: 100%;\noverflow: hidden;\n-webkit-box-sizing: border-box;\n-moz-box-sizing: border-box;\nbox-sizing: border-box;\n}\n\n.xin, .xinMix, .xin3d {\n",26),this.macro_generatePrefix("animation-timing-function","ease-out"),this.macro_generatePrefix("animation-duration","350ms"),this.__$write("\n}\n.xout, .xoutMix, .xout3d {\n",50),this.macro_generatePrefix("animation-timing-function","ease-in"),this.macro_generatePrefix("animation-duration","225ms"),this.__$write("\n}\n\n\n",54),this.macro_generateKeyFrames("fadein","opacity: 0;","opacity: 1;"),this.macro_generateKeyFrames("fadeout","opacity: 1;","opacity: 0;"),this.__$write("\n\n.xfade.xout, .xfade.xoutMix, .xfade.xout3d {\nopacity: 0;\n",59),this.macro_generatePrefix("animation-duration","125ms"),this.macro_generatePrefix("animation-name","fadeout"),this.__$write("\n}\n.xfade.xin, .xfade.xinMix, .xfade.xin3d {\nopacity: 1;\n",64),this.macro_generatePrefix("animation-duration","225ms"),this.macro_generatePrefix("animation-name","fadein"),this.__$write("\n}\n\n\n.xpop {\n",69),this.macro_generatePrefix("transform-origin","50% 50%"),this.__$write("\n}\n.xpop.xin, .xpop.xinMix {\n",74),this.macro_generatePrefix("transform","scale(1)"),this.__$write("\nopacity: 1;\n",77),this.macro_generatePrefix("animation-name","popin"),this.macro_generatePrefix("animation-duration","350ms"),this.__$write("\n}\n.xpop.xin3d {\n",80),this.macro_generatePrefix("transform","scale3d(1,1,1)"),this.__$write("\nopacity: 1;\n",83),this.macro_generatePrefix("animation-name","popin3d"),this.macro_generatePrefix("animation-duration","350ms"),this.__$write("\n}\n.xpop.xout, .xpop.xoutMix, .xpop.xout3d {\n",86),this.macro_generatePrefix("animation-name","fadeout"),this.__$write("\nopacity: 0;\n",89),this.macro_generatePrefix("animation-duration","100ms"),this.__$write("\n}\n.xpop.xin.xreverse, .xpop.xinMix.xreverse, .xpop.xin3d.xreverse {\n",91),this.macro_generatePrefix("animation-name","fadein"),this.__$write("\n}\n.xpop.xout.xreverse, .xpop.xoutMix.xreverse {\n",94),this.macro_generatePrefix("transform","scale(.8)"),this.macro_generatePrefix("animation-name","popout"),this.__$write("\n}\n.xpop.xout3d.xreverse {\n",98),this.macro_generatePrefix("transform","scale3d(.8, .8, .8)"),this.macro_generatePrefix("animation-name","popout3d"),this.__$write("\n}\n\n",102),this.macro_generateKeyFrames("popin","transform: scale(.8);opacity: 0;","transform: scale(1);opacity: 1;"),this.macro_generateKeyFrames("popout","transform: scale(1);opacity: 1;","transform: scale(.8);opacity: 0;"),this.macro_generateKeyFrames("popin3d","transform: scale3d(.8, .8, .8);opacity: 0;","transform: scale3d(1, 1, 1);opacity: 1;"),this.macro_generateKeyFrames("popout3d","transform: scale3d(1, 1, 1);opacity: 1;","transform: scale3d(.8, .8, .8);opacity: 0;"),this.macro_generateKeyFrames("slideinfromright","transform: translateX(100%);","transform: translateX(0);"),this.macro_generateKeyFrames("slideinfromleft","transform: translateX(-100%);","transform: translateX(0);"),this.macro_generateKeyFrames("slideouttoleft","transform: translateX(0);","transform: translateX(-100%);"),this.macro_generateKeyFrames("slideouttoright","transform: translateX(0);","transform: translateX(100%);"),this.macro_generateKeyFrames("slideinfromrightmix","transform: translateZ(0) translateX(100%);","transform: translateZ(0) translateX(0);"),this.macro_generateKeyFrames("slideinfromleftmix","transform: translateZ(0) translateX(-100%);","transform: translateZ(0) translateX(0);"),this.macro_generateKeyFrames("slideouttoleftmix","transform: translateZ(0) translateX(0);","transform: translateZ(0) translateX(-100%);"),this.macro_generateKeyFrames("slideouttorightmix","transform: translateZ(0) translateX(0);","transform: translateZ(0) translateX(100%);"),this.macro_generateKeyFrames("slideinfromright3d","transform: translate3d(100%, 0, 0);","transform: translate3d(0, 0 , 0);"),this.macro_generateKeyFrames("slideinfromleft3d","transform: translate3d(-100%, 0, 0);","transform: translate3d(0, 0 , 0);"),this.macro_generateKeyFrames("slideouttoleft3d","transform: translate3d(0, 0 , 0);","transform: translate3d(-100%, 0, 0);"),this.macro_generateKeyFrames("slideouttoright3d","transform: translate3d(0, 0 , 0);","transform: translate3d(100%, 0, 0);"),this.__$write("\n\n.xslide.xout, .xslide.xin, .xslide.xoutMix, .xslide.xinMix, .xslide.xin3d, .xslide.xout3d {\n",125),this.macro_generatePrefix("animation-timing-function","ease-out"),this.macro_generatePrefix("animation-duration","350ms"),this.__$write("\n}\n.xslide.xout {\n",129),this.macro_generatePrefix("transform","translateX(-100%)"),this.macro_generatePrefix("animation-name","slideouttoleft"),this.__$write("\n}\n.xslide.xoutMix {\n",133),this.macro_generatePrefix("transform","translateZ(0) translateX(-100%)"),this.macro_generatePrefix("animation-name","slideouttoleftmix"),this.__$write("\n}\n.xslide.xout3d {\n",137),this.macro_generatePrefix("transform","translate3d(-100%, 0, 0)"),this.macro_generatePrefix("animation-name","slideouttoleft3d"),this.__$write("\n}\n.xslide.xin {\n",141),this.macro_generatePrefix("transform","translateX(0)"),this.macro_generatePrefix("animation-name","slideinfromright"),this.__$write("\n}\n.xslide.xinMix {\n",145),this.macro_generatePrefix("transform","translateZ(0) translateX(0)"),this.macro_generatePrefix("animation-name","slideinfromrightmix"),this.__$write("\n}\n.xslide.xin3d {\n",149),this.macro_generatePrefix("transform","translate3d(0, 0, 0)"),this.macro_generatePrefix("animation-name","slideinfromright3d"),this.__$write("\n}\n.xslide.xout.xreverse {\n",153),this.macro_generatePrefix("transform","translateX(100%)"),this.macro_generatePrefix("animation-name","slideouttoright"),this.__$write("\n}\n.xslide.xoutMix.xreverse {\n",157),this.macro_generatePrefix("transform","translateZ(0) translateX(100%)"),this.macro_generatePrefix("animation-name","slideouttorightmix"),this.__$write("\n}\n.xslide.xout3d.xreverse {\n",161),this.macro_generatePrefix("transform","translate3d(100%, 0, 0)"),this.macro_generatePrefix("animation-name","slideouttoright3d"),this.__$write("\n}\n.xslide.xin.xreverse {\n",165),this.macro_generatePrefix("transform","translateX(0)"),this.macro_generatePrefix("animation-name","slideinfromleft"),this.__$write("\n}\n.xslide.xinMix.xreverse {\n",169),this.macro_generatePrefix("transform","translateZ(0) translateX(0)"),this.macro_generatePrefix("animation-name","slideinfromleftmix"),this.__$write("\n}\n.xslide.xin3d.xreverse {\n",173),this.macro_generatePrefix("transform","translate3d(0, 0, 0)"),this.macro_generatePrefix("animation-name","slideinfromleft3d"),this.__$write("\n}\n\n.xslidedown.xout, .xslidedown.xoutMix, .xslidedown.xout3d {\n",177),this.macro_generatePrefix("animation-name","fadeout"),this.macro_generatePrefix("animation-duration","100ms"),this.__$write("\n}\n.xslidedown.xin {\n",182),this.macro_generatePrefix("transform","translateY(0)"),this.macro_generatePrefix("animation-name","slideinfromtop"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslidedown.xinMix {\n",187),this.macro_generatePrefix("transform","translateZ(0) translateY(0)"),this.macro_generatePrefix("animation-name","slideinfromtopmix"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslidedown.xin3d {\n",192),this.macro_generatePrefix("transform","translate3d(0, 0, 0)"),this.macro_generatePrefix("animation-name","slideinfromtop3d"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslidedown.xin.xreverse, .xslidedown.xinMix.xreverse, .xslidedown.xin3d.xreverse {\n",197),this.macro_generatePrefix("animation-name","fadein"),this.macro_generatePrefix("animation-duration","150ms"),this.__$write("\n}\n.xslidedown.xout.xreverse {\n",201),this.macro_generatePrefix("transform","translateY(-100%)"),this.macro_generatePrefix("animation-name","slideouttotop"),this.macro_generatePrefix("animation-duration","200ms"),this.__$write("\n}\n.xslidedown.xoutMix.xreverse {\n",206),this.macro_generatePrefix("transform","translateZ(0) translateY(-100%)"),this.macro_generatePrefix("animation-name","slideouttotopmix"),this.macro_generatePrefix("animation-duration","200ms"),this.__$write("\n}\n.xslidedown.xout3d.xreverse {\n",211),this.macro_generatePrefix("transform","translate3d(0, -100%, 0)"),this.macro_generatePrefix("animation-name","slideouttotop3d"),this.macro_generatePrefix("animation-duration","200ms"),this.__$write("\n}\n\n",216),this.macro_generateKeyFrames("slideinfromtop","transform: translateY(-100%);","transform: translateY(0);"),this.macro_generateKeyFrames("slideouttotop","transform: translateY(0);","transform: translateY(-100%);"),this.macro_generateKeyFrames("slideinfromtopmix","transform: translateZ(0) translateY(-100%);","transform: translateZ(0) translateY(0);"),this.macro_generateKeyFrames("slideouttotopmix","transform: translateZ(0) translateY(0);","transform: translateZ(0) translateY(-100%);"),this.macro_generateKeyFrames("slideinfromtop3d","transform: translate3d(0, -100%, 0);","transform: translate3d(0, 0, 0);"),this.macro_generateKeyFrames("slideouttotop3d","transform: translate3d(0, 0, 0);","transform: translate3d(0, -100%, 0);"),this.__$write("\n\n\n.xslideup.xout, .xslideup.xoutMix, .xslideup.xout3d {\n",226),this.macro_generatePrefix("animation-name","fadeout"),this.macro_generatePrefix("animation-duration","100ms"),this.__$write("\n}\n.xslideup.xin {\n",231),this.macro_generatePrefix("transform","translateY(0)"),this.macro_generatePrefix("animation-name","slideinfrombottom"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xinMix {\n",236),this.macro_generatePrefix("transform","translateZ(0) translateY(0)"),this.macro_generatePrefix("animation-name","slideinfrombottommix"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xin3d {\n",241),this.macro_generatePrefix("transform","translate3d(0, 0, 0)"),this.macro_generatePrefix("animation-name","slideinfrombottom3d"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xin.xreverse, .xslideup.xinMix.xreverse, .xslideup.xin3d.xreverse {\n",246),this.macro_generatePrefix("animation-name","fadein"),this.macro_generatePrefix("animation-duration","150ms"),this.__$write("\n}\n.xslideup.xout.xreverse {\n",250),this.macro_generatePrefix("transform","translateY(100%)"),this.macro_generatePrefix("animation-name","slideouttobottom"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xoutMix.xreverse {\n",255),this.macro_generatePrefix("transform","translateZ(0) translateY(100%)"),this.macro_generatePrefix("animation-name","slideouttobottommix"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n.xslideup.xout3d.xreverse {\n",260),this.macro_generatePrefix("transform","translate3d(0, 100%, 0)"),this.macro_generatePrefix("animation-name","slideouttobottom3d"),this.macro_generatePrefix("animation-duration","250ms"),this.__$write("\n}\n\n",265),this.macro_generateKeyFrames("slideinfrombottom","transform: translateY(100%);","transform: translateY(0);"),this.macro_generateKeyFrames("slideouttobottom","transform: translateY(0);","transform: translateY(100%);"),this.macro_generateKeyFrames("slideinfrombottommix","transform: translateZ(0) translateY(100%);","transform: translateZ(0) translateY(0);"),this.macro_generateKeyFrames("slideouttobottommix","transform: translateZ(0) translateY(0);","transform: translateZ(0) translateY(100%);"),this.macro_generateKeyFrames("slideinfrombottom3d","transform: translate3d(0, 100%, 0);","transform: translate3d(0, 0, 0);"),this.macro_generateKeyFrames("slideouttobottom3d","transform: translate3d(0, 0, 0);","transform: translate3d(0, 100%, 0);"),this.__$write("\n\n.xviewport-xflip {\n",275),this.macro_generatePrefix("perspective","1000"),this.__$write("\nposition: absolute;\n}\n\n.xflip {\n",278),this.macro_generatePrefix("backface-visibility","hidden"),this.macro_generatePrefix("transform","translateX(0)"),this.__$write("\n}\n.xflip.xout {\n",284),this.macro_generatePrefix("transform","rotateY(-90deg) scale(.9)"),this.macro_generatePrefix("animation-name","flipouttoleft"),this.macro_generatePrefix("animation-duration","175ms"),this.__$write("\n}\n.xflip.xoutMix {\n",289),this.macro_generatePrefix("transform","rotateZ(0) rotateY(-90deg) scale(.9)"),this.macro_generatePrefix("animation-name","flipouttoleftmix"),this.macro_generatePrefix("animation-duration","175ms"),this.__$write("\n}\n.xflip.xout3d {\n",294),this.macro_generatePrefix("transform","rotate3d(0, 1, 0, -90deg) scale3d(.9, .9, .9)"),this.macro_generatePrefix("animation-name","flipouttoleft3d"),this.macro_generatePrefix("animation-duration","175ms"),this.__$write("\n}\n.xflip.xin {\n",299),this.macro_generatePrefix("animation-name","flipintoright"),this.macro_generatePrefix("animation-duration","225ms"),this.__$write("\n}\n.xflip.xinMix {\n",303),this.macro_generatePrefix("animation-name","flipintorightmix"),this.macro_generatePrefix("animation-duration","225ms"),this.__$write("\n}\n.xflip.xin3d {\n",307),this.macro_generatePrefix("animation-name","flipintoright3d"),this.macro_generatePrefix("animation-duration","225ms"),this.__$write("\n}\n.xflip.xout.xreverse {\n",311),this.macro_generatePrefix("transform","rotateY(90deg) scale(.9)"),this.macro_generatePrefix("animation-name","flipouttoright"),this.__$write("\n}\n.xflip.xoutMix.xreverse {\n",315),this.macro_generatePrefix("transform","rotateZ(0) rotateY(90deg) scale(.9)"),this.macro_generatePrefix("animation-name","flipouttorightmix"),this.__$write("\n}\n.xflip.xout3d.xreverse {\n",319),this.macro_generatePrefix("transform","rotate3d(0, 1, 0, 90deg) scale3d(.9, .9, .9)"),this.macro_generatePrefix("animation-name","flipouttoright3d"),this.__$write("\n}\n.xflip.xin.xreverse {\n",323),this.macro_generatePrefix("animation-name","flipintoleft"),this.__$write("\n}\n.xflip.xinMix.xreverse {\n",326),this.macro_generatePrefix("animation-name","flipintoleftmix"),this.__$write("\n}\n.xflip.xin3d.xreverse {\n",329),this.macro_generatePrefix("animation-name","flipintoleft3d"),this.__$write("\n}\n\n",332),this.macro_generateKeyFrames("flipouttoleft","transform: rotateY(0);","transform: rotateY(-90deg) scale(.9);"),this.macro_generateKeyFrames("flipouttoright","transform: rotateY(0);","transform: rotateY(90deg) scale(.9);"),this.macro_generateKeyFrames("flipintoleft","transform: rotateY(-90deg) scale(.9);","transform: rotateY(0);"),this.macro_generateKeyFrames("flipintoright","transform: rotateY(90deg) scale(.9);","transform: rotateY(0);"),this.macro_generateKeyFrames("flipouttoleftmix","transform: rotateZ(0) rotateY(0);","transform: rotateZ(0) rotateY(-90deg) scale(.9);"),this.macro_generateKeyFrames("flipouttorightmix","transform: rotateZ(0) rotateY(0);","transform: rotateZ(0) rotateY(90deg) scale(.9);"),this.macro_generateKeyFrames("flipintoleftmix","transform: rotateZ(0) rotateY(-90deg) scale(.9);","transform: rotateZ(0) rotateY(0);"),this.macro_generateKeyFrames("flipintorightmix","transform: rotateZ(0) rotateY(90deg) scale(.9);","transform: rotateZ(0) rotateY(0);"),this.macro_generateKeyFrames("flipouttoleft3d","transform: rotate3d(0, 0, 0, 0);","transform: rotate3d(0, 1, 0, -90deg) scale(.9, .9, .9);"),this.macro_generateKeyFrames("flipouttoright3d","transform: rotate3d(0, 0, 0, 0);","transform: rotate3d(0, 1, 0, 90deg) scale(.9, .9, .9);"),this.macro_generateKeyFrames("flipintoleft3d","transform: rotate3d(0, 1, 0, -90deg) scale(.9, .9, .9);","transform: rotate3d(0, 0, 0, 0);"),this.macro_generateKeyFrames("flipintoright3d","transform: rotate3d(0, 1, 0, 90deg) scale(.9, .9, .9);","transform: rotate3d(0, 0, 0, 0);")}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["main",__filename,this["aria:currentLineNumber"]],_ex)}},macro_generatePrefix:function(property,value){try{with(this){for(var prefixes=["-webkit-","-moz-","-ms-","-o-"],i=0;i<prefixes.length;i+=1)this.__$write(prefixes[i],354),this.__$write(property,354),this.__$write(": ",354),this.__$write(value,354),this.__$write(";\n",354);this.__$write(property,356),this.__$write(": ",356),this.__$write(value,356),this.__$write(";\n",356)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["generatePrefix",__filename,this["aria:currentLineNumber"]],_ex)}},macro_generateKeyFrames:function(name,from,to){try{with(this){for(var prefixes=["-webkit-","-moz-","-o-"],i=0;i<prefixes.length;i+=1)this.__$write("\n@",363),this.__$write(prefixes[i],363),this.__$write("keyframes ",363),this.__$write(name,363),this.__$write(" {\nfrom { ",363),this.__$write(prefixes[i],364),this.__$write(from,364),this.__$write(" }\nto { ",364),this.__$write(prefixes[i],365),this.__$write(to,365),this.__$write(" }\n}\n",365);this.__$write("\n@keyframes ",368),this.__$write(name,368),this.__$write(" {\nfrom { ",368),this.__$write(from,369),this.__$write(" }\nto { ",369),this.__$write(to,370),this.__$write(" }\n}\n",370)}}catch(_ex){this.$logError(this.EXCEPTION_IN_MACRO,["generateKeyFrames",__filename,this["aria:currentLineNumber"]],_ex)}},$init:function(e){e.__$csslibs={},e.__$prefix=!1},__$initTemplate:function(){return!0}}});var __filename="ariatemplates/utils/css/Transitions.tpl.css";
//*******************
//LOGICAL-PATH:aria/utils/css/Animations.js
//*******************
var e=require("../../Aria"),t=require("../ClassList"),i=require("../Delegate"),r=require("../../templates/CSSMgr"),n=require("./Transitions.tpl.css"),a;module.exports=e.classDefinition({$classpath:"aria.utils.css.Animations",$css:[n],$constructor:function(){this._name="",this._cfg={},r.loadClassPathDependencies(this.$classpath,this.$css),this.__cssLoaded=!0},$destructor:function(){this.__cssLoaded&&(r.unloadClassPathDependencies(this.$classpath,this.$css),this.__cssLoaded=!1)},$events:{animationend:""},$statics:{isSupported:function(){if(void 0!==a)return a;a=!1;var t,i=e.$window.document,r=i.createElement("div"),n=["ms","O","Webkit","Moz"];for(t in n)if(void 0!==r.style[n[t]+"Transition"]){a=!0;break}return r=null,a}},$prototype:{start:function(e,t){this._name="x"+e,this._cfg.from=t.from,this._cfg.to=t.to,this._cfg.reverse=t.reverse?"xreverse":"",this._cfg.sequential=this._isSequential(),this._cfg.type=t.type,this._cfg.hiddenClass=t.hiddenClass,this._toggleClassBody(),this._cfg.from?this._startOut():this._doneOut()},_startOut:function(){this._cfg.sequential?aria.utils.Event.addListener(this._cfg.from,this._animationEndEvent(),{fn:this._doneOut,scope:this}):this._doneOut(),this._addOutClass(this._cfg.from)},_doneOut:function(){this._cfg.from&&this._cfg.sequential&&this._cleanFrom(),this._cfg.to?this._startIn():this._doneIn()},_startIn:function(){aria.utils.Event.addListener(this._cfg.to,this._animationEndEvent(),{fn:this._doneIn,scope:this}),this._addInClass(this._cfg.to)},_doneIn:function(){!this._cfg.sequential&&this._cfg.from&&this._cleanFrom(),this._cfg.to&&(this._removeClass(this._cfg.to,"xout xin xreverse xinMix xoutMix xin3d xout3d "+this._name),aria.utils.Event.removeListener(this._cfg.to,this._animationEndEvent())),this._toggleClassBody(),this.$raiseEvent({name:"animationend",animation:this._name.substring(1)+(this._cfg.reverse?" reverse":"")})},_addOutClass:function(e){1!=this._cfg.type&&this._cfg.type?2==this._cfg.type?this._addClass(e,this._name+" xoutMix "+this._cfg.reverse):3==this._cfg.type&&this._addClass(e,this._name+" xout3d "+this._cfg.reverse):this._addClass(e,this._name+" xout "+this._cfg.reverse)},_addInClass:function(e){this._cfg.hiddenClass?this._removeClass(e,this._cfg.hiddenClass):this._removeClass(e,"xanimation-element"),1!=this._cfg.type&&this._cfg.type?2==this._cfg.type?this._addClass(e,this._name+" xinMix "+this._cfg.reverse):3==this._cfg.type&&this._addClass(e,this._name+" xin3d "+this._cfg.reverse):this._addClass(e,this._name+" xin "+this._cfg.reverse)},_addClass:function(e,i){var r=new t(e);r.add(i),r.$dispose()},_removeClass:function(e,i){var r=new t(e);r.remove(i),r.$dispose()},_cleanFrom:function(){this._removeClass(this._cfg.from,"xout xin xreverse xinMix xoutMix xin3d xout3d "+this._name),this._cfg.hiddenClass?this._addClass(this._cfg.from,this._cfg.hiddenClass):this._addClass(this._cfg.from,"xanimation-element"),aria.utils.Event.removeListener(this._cfg.from,this._animationEndEvent())},_toggleClassBody:function(){var i=new t(e.$window.document.body);i.toggle("xviewport-xanimation"),i.toggle("xviewport-"+this._name),i.$dispose()},_isSequential:function(){return"xslide"==this._name&&this._cfg.from&&this._cfg.to?!1:!0},_animationEndEvent:function(){var e=(i.vendorPrefix||"").toLowerCase();switch(e){case"webkit":return"webkitAnimationEnd";case"moz":return"animationend";case"o":return"oanimationend";case"ms":return"MSAnimationEnd"}}}});
//*******************
//LOGICAL-PATH:aria/utils/css/AnimationsBean.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.utils.css.AnimationsBean",$namespaces:{json:t},$beans:{AnimationCfg:{$type:"json:Object",$properties:{from:{$type:"json:ObjectRef"},to:{$type:"json:ObjectRef"},reverse:{$type:"json:Boolean"},type:{$type:"json:Integer"},hiddenClass:{$type:"json:String"}}},AnimationName:{$type:"json:MultiTypes",$sample:"slide left",$contentTypes:[{$type:"json:Enum",$enumValues:["slide left","slide right","slide up","slide down","fade","fade reverse","pop","pop reverse","flip","flip reverse"]},{$type:"json:String"}]}}});
//*******************
//LOGICAL-PATH:aria/utils/css/Colors.js
//*******************
var e=require("../../Aria"),t=require("./PropertiesConfig");module.exports=e.classDefinition({$classpath:"aria.utils.css.Colors",$singleton:!0,$constructor:function(){this.cfg=t},$prototype:{convertColorToHex:function(e){if(/^rgb/.test(e)){var t=["#"],i=this.getRGBComponentsFromRGBNotation(e);return t.push(i[0].toString(16)),t.push(i[1].toString(16)),t.push(i[2].toString(16)),t.join("")}return"#"!=e.charAt(0)?this.cfg.COLORS[e.toLowerCase()]:e},convertColorToRGB:function(e){var t=/^rgb/.test(e),i="#"==e.charAt(0);if(i||!t){var r=i?e:this.cfg.COLORS[e.toLowerCase()],n=this._convertHexToRGBArray(r);return this.getRGBNotationFromRGBComponents(n)}return e},getRGBComponents:function(e){var t=/^rgb/.test(e),i="#"==e.charAt(0);if(i||!t){var r=i?e:this.cfg.COLORS[e.toLowerCase()];return this._convertHexToRGBArray(r)}return this.getRGBComponentsFromRGBNotation(e)},getRGBComponentsFromRGBNotation:function(e){var t=e.split(/[\(\)\,]/);return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]},getRGBNotationFromRGBComponents:function(e){return["rgb(",e[0],",",e[1],",",e[2],")"].join("")},_convertHexToRGBArray:function(e){var t=parseInt(e.substring(1,3),16),i=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);return[t,i,r]}}});
//*******************
//LOGICAL-PATH:aria/utils/css/Effects.js
//*******************
var e=require("../../Aria"),t=require("./Units"),i=require("./Colors"),r=require("./PropertiesConfig"),n=require("../Type"),a=require("../String"),s=require("../Array"),o=require("../Json"),l=require("../Object"),u=require("../../core/Browser");!function(){function h(e){return Math.round(100*e)/100}var c={"+=":function(e,t){return e+t},"-=":function(e,t){return e-t}};module.exports=e.classDefinition({$classpath:"aria.utils.css.Effects",$singleton:!0,$statics:{DEFAULT_INTERVAL:20,DEFAULT_DURATION:1e3,DEFAULT_EASING:"linear",DEFAULT_QUEUE_KEY:"default",NO_PROPERTY_TO_ANIMATE:"No valid property to animate.",INVALID_HTML_ELEMENT:"No valid HTML element to animate.",_easing:{linear:function(e){return e},"ease-in-out":function(e){var t=3;return(Math.atan(2*t*e-t)+Math.atan(t))/(2*Math.atan(t))},"ease-out":function(e){var t=3;return Math.atan(t*e)/Math.atan(t)},"ease-in":function(e){var t=1.3;return Math.tan(t*e)/Math.tan(t)}},_computeInterpolation:function(e,t,i,r,n){var a=i,s=r,o=t.origin,l=t.dest,u=n,h=(u-a)/(s-a);if(l instanceof Array){for(var c=[],d=0,p=l.length;p>d;d++)c.push(this._computeSingleInterpolation(o[d],l[d],h,e,t.isColor));return c}return this._computeSingleInterpolation(o,l,h,e,t.isColor)},_computeSingleInterpolation:function(e,t,i,r,n){var a=t-e,s=e+r(i)*a;return n?Math.round(s):h(s)}},$constructor:function(){this.cfg=r,this.unitUtil=t,this.colorUtil=i,this.queues={},this.animations={},this.animCount=0},$prototype:{animate:function(e,t,i){var r;i=i||{};var a=this._getHTMLElement(e),s={props:[]};return null==a?(this.$logWarn(this.INVALID_HTML_ELEMENT),null):(s.duration=i.duration?parseInt(i.duration,10):this.DEFAULT_DURATION,s.interval=i.interval?parseInt(i.interval,10):this.DEFAULT_INTERVAL,null!=i.easing&&(n.isFunction(i.easing)?s.easing=i.easing:n.isString(i.easing)&&(s.easing=this._easing[i.easing])),s.easing=s.easing||this._easing[this.DEFAULT_EASING],s.queue=i.queue===!0?this.DEFAULT_QUEUE_KEY:null!=i.queue?this._getQueueKey(i.queue):!1,s.element=a,s.userProperties=t,s.onStartAnimation=i.onStartAnimation,s.onEndAnimation=i.onEndAnimation,s.onEndQueue=i.onEndQueue,s.hide=i.hide,s.queue?this.queues[s.queue]?(r=this._createAnimationSpot(),this.queues[s.queue].list.push(s)):(this.queues[s.queue]={list:[s],onEndQueue:i.onEndQueue},this.$callback(i.onStartQueue),r=this._createAndLaunchAnimation(s)):r=this._createAndLaunchAnimation(s),s.animId=r,this.animations[r]=s,r)},skipAnimation:function(e){var t=this.animations[e];if(t){if(t.isRunning)this._finalizeAnimation(this.animations[e],!0);else if(delete this.animations[e],t.queue){var i=s.indexOf(this.queues[t.queue].list,t);this.queues[t.queue].list.splice(i,1)}return!0}return!1},skipQueue:function(e){var t=e;null==e&&(t=this.DEFAULT_QUEUE_KEY);var i=this.queues[t];if(i&&i.list.length>0){for(var r=i.list.shift(),n=1,a=i.list.length;a>n;n++){var s=i.list[n];delete this.animations[s.animId]}return this.skipAnimation(r.animId),delete this.queues[t],!0}return!1},pauseAnimation:function(e){var t=this.animations[e];return t?(clearInterval(t.timingId),t.isRunning=!1,t.pauseTime=(new Date).getTime(),!0):!1},pauseQueue:function(e){var t=e;null==e&&(t=this.DEFAULT_QUEUE_KEY);var i=this.queues[t];return i&&i.list.length>0?(this.pauseAnimation(i.list[0].animId),!0):!1},resumeAnimation:function(e){var t=this.animations[e];if(t&&!t.isRunning){var i=(new Date).getTime()-t.pauseTime;t.start+=i,t.end+=i,t.isRunning=!0;var r=setInterval(function(e){return function(){e._interpolate.call(e,t)}}(this),t.interval);return t.timingId=r,!0}return!1},resumeQueue:function(e){var t=e;null==e&&(t=this.DEFAULT_QUEUE_KEY);var i=this.queues[t];return i&&i.list.length>0&&!i.list[0].isRunning?(null!=i.list[0].pauseTime?this.resumeAnimation(i.list[0].animId):this._launchAnimation(i.list[0],i.list[0].animId),!0):!1},show:function(e,t,i){var r=this._getHTMLElement(e),n={},a=null==t?[]:s.clone(t);if(null==r)return this.$logWarn(this.INVALID_HTML_ELEMENT),null;if("none"!=aria.utils.Dom.getStyle(r,"display"))return this.$logWarn(this.INVALID_HTML_ELEMENT),null;var o=r.ATEffects||{},l=o.display;if(delete o.display,a&&a.length>0){for(var u in o){var h=s.indexOf(a,u);-1!=h?(n[u]=o[u].fullValue,a.splice(h,0)):this._setProperty(r,{prop:u,unit:o[u].unit},o[u].value)}for(var c=0,d=a.length;d>c;c++)n[a[c]]=this._getProperty(r,a[c]),this._setProperty(r,{prop:a[c]},0)}else n.opacity=o.opacity?o.opacity.fullValue:1;return r.style.display=l||"block",this.animate(r,n,i)},hide:function(e,t,i){var r=null==i?{}:o.copy(i,!1),n=this._getHTMLElement(e),a={},u={};if(null==n)return this.$logWarn(this.INVALID_HTML_ELEMENT),null;if(t)for(var h=0,c=t.length;c>h;h++)if(-1!=s.indexOf(["height","width","opacity"],t[h])){var d=this._getProperty(n,t[h]);a[t[h]]={value:parseFloat(d)||0,unit:this._getUnit(d,t[h]),fullValue:d},u[t[h]]=0}if(l.isEmpty(a)){var p=aria.utils.Dom.getStyle(n,"opacity");a.opacity={value:p,fullValue:p},u.opacity=0}return a.display=aria.utils.Dom.getStyle(n,"display"),n.ATEffects=a,r.hide=!0,this.animate(n,u,r)},toggle:function(e,t,i){var r=this._getHTMLElement(e);return null==r?(this.$logWarn(this.INVALID_HTML_ELEMENT),null):"none"==aria.utils.Dom.getStyle(r,"display")?this.show(r,t,i):this.hide(r,t,i)},_getHTMLElement:function(e){return n.isHTMLElement(e)?e:aria.utils.Dom.getElementById(e)},_createAnimationSpot:function(){return++this.animCount%1e15},_createAndLaunchAnimation:function(e){return this._launchAnimation(e,this._createAnimationSpot())},_launchAnimation:function(e,t){var i=e.element,r=this.cfg.PROPERTIES;this.$callback(e.onStartAnimation),e.start=(new Date).getTime(),e.end=e.start+e.duration;for(var a in e.userProperties)if(e.userProperties.hasOwnProperty(a)){var s,o,l,u,h,d,p,f=r[a]&&r[a].isColor;if(p=e.userProperties[a]+"",(o=p.match(/^[\+\-]=/))&&(p=p.replace(o[0],"")),f){var m=this._getProperty(i,a);s="transparent"==m?[255,255,255]:this.colorUtil.getRGBComponents(m),u=this.colorUtil.getRGBComponents(p)}else l=this._getUnit(p,a),u=parseFloat(p),h=this._getProperty(i,a),d=this._getUnit(h,a),s=parseFloat(h)||0;var _=a in r&&!(r[a].percentNotAdmitted&&"%"==l);if(f||n.isNumber(u)&&n.isNumber(s)&&_){var g=[],y=!1;if(r[a].orientation==this.cfg.COMPOSITE&&null!=r[a].subProperties)for(var v,w=0,b=r[a].subProperties.length;b>w;w++){var E=r[a].subProperties[w],A=this._getProperty(i,E),x=this._getUnit(A,E),T=parseFloat(A)||0;g.push({prop:E,currentValueNum:T,currentUnit:x}),w>0&&A!=v&&(y=!0),v=A}y||(g=[{prop:a,currentValueNum:s,currentUnit:d}]);for(var w=0,b=g.length;b>w;w++){var C=g[w].currentValueNum;g[w].currentUnit!=l&&(C=this.unitUtil.convertFromPixels(l,g[w].currentValueNum,i,g[w].prop)),o&&(u=c[o[0]](C,u)),e.props.push({prop:g[w].prop,origin:C,dest:u,unit:l,isColor:f}),"backgroundPositionY"==g[w].prop&&null==e.backgroundComplementaryValueX?e.backgroundComplementaryValueX=this._getProperty(i,"backgroundPositionX")||"0px":"backgroundPositionX"==g[w].prop&&null==e.backgroundComplementaryValueY&&(e.backgroundComplementaryValueY=this._getProperty(i,"backgroundPositionY")||"0px")}}}if(delete e.userProperties,e.props.length>0){e.isRunning=!0;var $=setInterval(function(t){return function(){t._interpolate.call(t,e)}}(this),e.interval);e.timingId=$}else this.$logWarn(this.NO_PROPERTY_TO_ANIMATE);return t},_interpolate:function(e){if(e.isRunning){for(var t=(new Date).getTime(),i=t>=e.end,r={},n=0,a=e.props.length;a>n;n++){var s,o=e.props[n];s=i?o.dest:this._computeInterpolation(e.easing,o,e.start,e.end,t),"backgroundPositionX"==o.prop||"backgroundPositionY"==o.prop?r[o.prop]={val:s,unit:o.unit}:this._setProperty(e.element,o,s)}if(r.backgroundPositionX||r.backgroundPositionY){var l=[r.backgroundPositionX?r.backgroundPositionX.val+r.backgroundPositionX.unit:e.backgroundComplementaryValueX];l.push(" "),l.push(r.backgroundPositionY?r.backgroundPositionY.val+r.backgroundPositionY.unit:e.backgroundComplementaryValueY),e.element.style.backgroundPosition=l.join("")}i&&this._finalizeAnimation(e)}},_finalizeAnimation:function(e,t){if(e.hide&&(e.element.style.display="none"),!t&&this.$callback(e.onEndAnimation),clearInterval(e.timingId),e.isRunning=!1,delete this.animations[e.animId],e.queue)if(this.queues[e.queue].list.shift(),0===this.queues[e.queue].list.length)this.$callback(this.queues[e.queue].onEndQueue),delete this.queues[e.queue];else{var i=this.queues[e.queue].list[0];this._launchAnimation(i,i.animId)}},_getUnit:function(e,t){var i=new RegExp("("+this.cfg.UNITS.join("|")+")$"),r=a.trim(e).toLowerCase().match(i);return"opacity"==t||"scrollTop"==t||"scrollLeft"==t?null:r?r[0]:"px"},_getQueueKey:function(e){return"_"+e},_getProperty:function(e,t){var i;return i=this.cfg.PROPERTIES[t]&&!this.cfg.PROPERTIES[t].notStyleProperty?aria.utils.Dom.getStyle(e,t):e[t],null==i?"":i.toString()},_setProperty:function(e,t,i){var r=t.prop,n=u,a=t.unit||"";t.isColor?e.style[r]=this.colorUtil.getRGBNotationFromRGBComponents(i):this.cfg.PROPERTIES[r]&&!this.cfg.PROPERTIES[r].notStyleProperty?"opacity"==r&&(n.isIE7||n.isIE8)?e.style.filter="alpha(opacity = "+100*i+")":e.style[r]=i+a:e[r]=i}}})}();
//*******************
//LOGICAL-PATH:aria/utils/filters/DisplayXmlResponse.js
//*******************
var e=require("../../Aria"),t=require("../../core/IOFilter");module.exports=e.classDefinition({$classpath:"aria.utils.filters.DisplayXmlResponse",$extends:t,$constructor:function(){this.$IOFilter.constructor.call(this)},$prototype:{onResponse:function(e){var t=e.res;if(t.responseXML){var i=this._xml2str(t.responseXML);i&&(this.$logInfo("Request to the following URL produced the following result: "+e.url),this.$logInfo(i))}},_xml2str:function(t){try{var i=e.$global.XMLSerializer;return(new i).serializeToString(t)}catch(r){try{return t.xml}catch(n){this.$logWarn("Xmlserializer not supported")}}return!1}}});
//*******************
//LOGICAL-PATH:aria/utils/json/ISerializer.js
//*******************
var e=require("../../Aria");module.exports=e.interfaceDefinition({$classpath:"aria.utils.json.ISerializer",$interface:{serialize:function(){},parse:function(){}}});
//*******************
//LOGICAL-PATH:aria/utils/json/JsonSerializerBeans.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.utils.json.JsonSerializerBeans",$namespaces:{json:t},$beans:{JsonSerializeOptions:{$type:"json:Object",$restricted:!1,$properties:{indent:{$type:"json:String",$default:"",$regExp:/^[\s\t]*$/},maxDepth:{$type:"json:Integer",$default:100},escapeKeyNames:{$type:"json:Boolean",$default:!0},encodeParameters:{$type:"json:Boolean",$default:!1},reversible:{$type:"json:Boolean",$default:!1},serializedDatePattern:{$type:"json:String",$default:"yyyy/MM/dd HH:mm:ss"}}},JsonSerializeAdvancedOptions:{$type:"JsonSerializeOptions",$restricted:!1,$properties:{baseIndent:{$type:"json:String"}}}}});
//*******************
//LOGICAL-PATH:aria/utils/overlay/CloneOverlay.js
//*******************
var e=require("../../Aria"),t=require("../Dom"),i=require("./Overlay");module.exports=e.classDefinition({$classpath:"aria.utils.overlay.CloneOverlay",$extends:i,$constructor:function(e,t){this._originalElement=e,this.__clone=e.cloneNode(!0),this.$Overlay.constructor.call(this,this.__clone,t)},$destructor:function(){this._originalElement=null,this.__clone=null,this.$Overlay.$destructor.call(this)},$prototype:{_createOverlay:function(e){var i=this.__clone,r="opacity"in e?e.opacity:.5;return t.setOpacity(i,r),i},_setInPosition:function(e,t){var i=t.style;i.position="absolute",i.top=e.offsetTop+"px",i.left=e.offsetLeft+"px",i.display="block"},_appendToDOM:function(e){this._originalElement.parentNode.appendChild(e)}}});
//*******************
//LOGICAL-PATH:aria/utils/sandbox/DOMProperties.js
//*******************
var e=require("../../Aria");!function(){var t={abbr:{TD:"rw",TH:"rw"},accept:{INPUT:"rw"},acceptCharset:{FORM:"rw"},accessKey:"rw",action:{FORM:"rw"},align:{IFRAME:"rw",IMG:"rw"},alt:{AREA:"rw",IMG:"rw"},axis:{TD:"rw",TH:"rw"},baseURI:"r-",border:{IMG:"rw"},cellIndex:{TD:"r-",TH:"r-"},cellPadding:{TABLE:"rw"},cellSpacing:{TABLE:"rw"},ch:{TD:"rw",TH:"rw",TR:"rw"},charset:{A:"rw"},checked:{INPUT:"rw"},chOff:{TD:"rw",TH:"rw",TR:"rw"},className:"rw",clientHeight:"r-",clientWidth:"r-",cols:{TEXTAREA:"rw"},colSpan:{TD:"rw",TH:"rw"},complete:{IMG:"r-"},coords:{AREA:"rw"},defaultChecked:{INPUT:"rw"},defaultSelected:{OPTION:"rw"},defaultValue:{INPUT:"rw",TEXTAREA:"rw"},dir:"rw",disabled:{BUTTON:"rw",INPUT:"rw",OPTION:"rw",SELECT:"rw",TEXTAREA:"rw"},enctype:{FORM:"rw"},frame:{TABLE:"rw"},frameBorder:{IFRAME:"rw"},hash:{AREA:"rw"},headers:{TD:"rw",TH:"rw"},height:{IFRAME:"rw",IMG:"rw"},host:{AREA:"rw"},hostname:{AREA:"rw"},href:{A:"rw",AREA:"rw"},hreflang:{A:"rw"},hspace:{IMG:"rw"},id:"r-",index:{OPTION:"rw"},innerHTML:"r-",lang:"rw",length:{FORM:"r-",SELECT:"r-"},localName:"r-",longDesc:{IFRAME:"rw",IMG:"rw"},lowsrc:{IMG:"rw"},marginHeight:{IFRAME:"rw"},marginWidth:{IFRAME:"rw"},maxLength:{INPUT:"rw"},method:{FORM:"rw"},multiple:{SELECT:"rw"},name:{A:"rw",BUTTON:"rw",FORM:"rw",IFRAME:"rw",IMG:"rw",INPUT:"rw",SELECT:"rw",TEXTAREA:"rw"},namespaceURI:"r-",naturalWidth:{IMG:"r-"},naturalHeight:{IMG:"r-"},nodeName:"r-",nodeType:"r-",nodeValue:"r-",noHref:{AREA:"rw"},noResize:{IFRAME:"rw"},offsetHeight:"r-",offsetLeft:"r-",offsetTop:"r-",offsetWidth:"r-",pathname:{AREA:"rw"},port:{AREA:"rw"},prefix:"r-",protocol:{AREA:"rw"},readOnly:{INPUT:"rw",TEXTAREA:"rw"},rel:{A:"rw"},rev:{A:"rw"},rowIndex:{TR:"r-"},rows:{TEXTAREA:"rw"},rowSpan:{TD:"rw",TH:"rw"},rules:{TABLE:"rw"},schemaTypeInfo:"r-",scrollHeight:"r-",scrolling:{IFRAME:"rw"},scrollLeft:"rw",scrollTop:"rw",scrollWidth:"r-",search:{AREA:"rw"},sectionRowIndex:{TR:"r-"},selected:{OPTION:"rw"},selectedIndex:{SELECT:"rw"},shape:{AREA:"rw"},size:{INPUT:"rw",SELECT:"rw"},src:{IFRAME:"rw",IMG:"rw"},style:"r-",summary:{TABLE:"rw"},tabIndex:"rw",tagName:"r-",target:{A:"rw",AREA:"rw",FORM:"rw"},text:{OPTION:"rw"},textContent:"r-",title:"rw",type:{A:"rw",BUTTON:"rw",INPUT:"r-",SELECT:"r-",TEXTAREA:"r-"},useMap:{IMG:"rw"},vAlign:{TD:"rw",TH:"rw",TR:"rw"},value:{BUTTON:"rw",INPUT:"rw",OPTION:"rw",SELECT:"rw",TEXTAREA:"rw"},vspace:{IMG:"rw"},width:{IFRAME:"rw",IMG:"rw"}};module.exports=e.classDefinition({$classpath:"aria.utils.sandbox.DOMProperties",$singleton:!0,$prototype:{getPropertyAccess:function(e,i){if(!t.hasOwnProperty(i))return"--";var r=t[i];if("object"==typeof r){if(e=e.toUpperCase(),!r.hasOwnProperty(e))return"--";r=r[e]}return r},isReadSafe:function(e,t){return"r"==this.getPropertyAccess(e,t).charAt(0)},isWriteSafe:function(e,t){return"w"==this.getPropertyAccess(e,t).charAt(1)}}})}();
//*******************
//LOGICAL-PATH:aria/utils/validators/IValidator.js
//*******************
var e=require("../../Aria");module.exports=e.interfaceDefinition({$classpath:"aria.utils.validators.IValidator",$interface:{validate:"Function"}});
//*******************
//LOGICAL-PATH:aria/utils/validators/ValidatorMessagesCfgBeans.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.utils.validators.ValidatorMessagesCfgBeans",$namespaces:{json:t},$beans:{AppCfg:{$type:"json:Object",$restricted:!1,$properties:{validatorMessages:{$type:"ValidatorMessagesCfg",$default:{}}}},ValidatorMessagesCfg:{$type:"json:Map",$default:[],$contentType:{$type:"json:String"}}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/ValidatorMessages.js
//*******************
var e=require("../../Aria");require("./ValidatorMessagesCfgBeans");var t=require("../../core/environment/EnvironmentBase");module.exports=e.classDefinition({$classpath:"aria.utils.validators.ValidatorMessages",$extends:t,$singleton:!0,$prototype:{_cfgPackage:"aria.utils.validators.ValidatorMessagesCfgBeans.AppCfg",getValidatorMessages:function(){return this.checkApplicationSettings("validatorMessages")}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/Validator.js
//*******************
var e=require("../../Aria"),t=require("../Data"),i=require("./IValidator"),r=require("../../core/JsObject"),n=require("../Type"),a=require("../Json"),s=require("../validators/ValidatorMessages");module.exports=e.classDefinition({$classpath:"aria.utils.validators.Validator",$implements:[i],$extends:r,$constructor:function(e){if(this.message=null,this.localized_message=null,e)this.setMessage(e);else{var t=s.getValidatorMessages()[this.$class];this.setMessage(t?t:this.DEFAULT_LOCALIZED_MESSAGE)}this.groups=[],this.eventToValidate="onsubmit"},$destructor:function(){this.message=null,this.groups=null,this.eventToValidate=null},$statics:{DEFAULT_LOCALIZED_MESSAGE:"Incorrect value."},$prototype:{$init:function(e){e.utilsType=n},validate:function(){return this._validationFailed()},setMessage:function(e){this.utilsType.isObject(e)?(this.message=e,this.localized_message=e.localizedMessage):this.utilsType.isString(e)&&(this.localized_message=e,this.message=t.createMessage(e))},_validationFailed:function(){return[a.copy(this.message)]},_validationSucceeded:function(){return null}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/RegExp.js
//*******************
var e=require("../../Aria"),t=require("./Validator");module.exports=e.classDefinition({$classpath:"aria.utils.validators.RegExp",$extends:t,$constructor:function(e,t){this.$Validator.constructor.call(this,t),this._regexp=e},$destructor:function(){this._regexp=null,this.$Validator.$destructor.call(this)},$prototype:{validate:function(e){return null==e||""===e?this._validationSucceeded():this._regexp.test(e)?this._validationSucceeded():this._validationFailed()}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/Alpha.js
//*******************
var e=require("../../Aria"),t=require("./RegExp");module.exports=e.classDefinition({$classpath:"aria.utils.validators.Alpha",$extends:t,$constructor:function(e){this.$RegExp.constructor.call(this,this.ALPHA_REGEXP,e)},$statics:{ALPHA_REGEXP:/^[A-Za-z]+$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid ALPHA string."},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/utils/validators/AlphaInternational.js
//*******************
var e=require("../../Aria"),t=require("./RegExp");module.exports=e.classDefinition({$classpath:"aria.utils.validators.AlphaInternational",$extends:t,$constructor:function(e){this.$RegExp.constructor.call(this,this.ALPHAINTERNATIONAL_REGEXP,e)},$statics:{ALPHAINTERNATIONAL_REGEXP:/^[A-Za-z \'\.\-\u00E0\u00C0\u00E1\u00C1\u00E2\u00C2\u00E3\u00C3\u00E4\u00C4\u00E5\u00C5\u00E6\u00C6\u00E7\u00C7\u00E8\u00C8\u00E9\u00C9\u00EA\u00CA\u00EB\u00CB\u00EC\u00CC\u00ED\u00CD\u00EE\u00CE\u00EF\u00CF\u00F0\u00D0\u00F1\u00D1\u00F2\u00D2\u00F3\u00D3\u00F4\u00D4\u00F5\u00D5\u00F6\u00D6\u00F8\u00D8\u00F9\u00D9\u00FA\u00DA\u00FB\u00DB\u00FC\u00DC\u00FD\u00DD\u00FE\u00DE\u00FF\u00DF]+$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid ALPHAINTERNATIONAL string."},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/utils/validators/AlphaNum.js
//*******************
var e=require("../../Aria"),t=require("./RegExp");module.exports=e.classDefinition({$classpath:"aria.utils.validators.AlphaNum",$extends:t,$constructor:function(e){this.$RegExp.constructor.call(this,this.ALPHANUM_REGEXP,e)},$statics:{ALPHANUM_REGEXP:/^[A-Za-z0-9]+$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid ALPHANUM string."},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/utils/validators/AlphaNumInternational.js
//*******************
var e=require("../../Aria"),t=require("./RegExp");module.exports=e.classDefinition({$classpath:"aria.utils.validators.AlphaNumInternational",$extends:t,$constructor:function(e){this.$RegExp.constructor.call(this,this.ALPHAINTERNATIONAL_REGEXP,e)},$statics:{ALPHAINTERNATIONAL_REGEXP:/^[A-Za-z0-9 \'\.\-\u00E0\u00C0\u00E1\u00C1\u00E2\u00C2\u00E3\u00C3\u00E4\u00C4\u00E5\u00C5\u00E6\u00C6\u00E7\u00C7\u00E8\u00C8\u00E9\u00C9\u00EA\u00CA\u00EB\u00CB\u00EC\u00CC\u00ED\u00CD\u00EE\u00CE\u00EF\u00CF\u00F0\u00D0\u00F1\u00D1\u00F2\u00D2\u00F3\u00D3\u00F4\u00D4\u00F5\u00D5\u00F6\u00D6\u00F8\u00D8\u00F9\u00D9\u00FA\u00DA\u00FB\u00DB\u00FC\u00DC\u00FD\u00DD\u00FE\u00DE\u00FF\u00DF]+$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid ALPHANUMINTERNATIONAL string."},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/utils/validators/CfgBeans.js
//*******************
var e=require("../../Aria"),t=require("../../core/JsonTypes");module.exports=e.beanDefinitions({$package:"aria.utils.validators.CfgBeans",$namespaces:{json:t},$beans:{MessagesList:{$type:"json:Array",$contentType:{$type:"Message"}},Message:{$type:"json:Object",$properties:{type:{$type:"json:String",$default:"E"},localizedMessage:{$type:"json:String",$mandatory:!0},escape:{$type:"json:Boolean",$default:!0},code:{$type:"json:String",$mandatory:!1},fieldRef:{$type:"json:String",$mandatory:!1},metaDataRef:{$type:"json:ObjectRef",$mandatory:!1},subMessages:{$type:"MessagesList",$mandatory:!1}}}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/Email.js
//*******************
var e=require("../../Aria"),t=require("./RegExp");module.exports=e.classDefinition({$classpath:"aria.utils.validators.Email",$extends:t,$constructor:function(e){this.$RegExp.constructor.call(this,this.EMAIL_REGEXP,e)},$statics:{EMAIL_REGEXP:/^[A-Za-z0-9!#$%&;'=\^_~\*\+\-\/\?\`\{\|\}]+(?:\.[A-Za-z0-9!#$%&;'~=\^_\*\+\-\/\?\`\{\|\}]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\.)+[A-Za-z0-9](?:[A-Za-z0-9\-]*[A-Za-z0-9])?$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid e-mail."},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/utils/validators/Mandatory.js
//*******************
var e=require("../../Aria"),t=require("./Validator");module.exports=e.classDefinition({$classpath:"aria.utils.validators.Mandatory",$extends:t,$statics:{DEFAULT_LOCALIZED_MESSAGE:"This field is a mandatory field."},$prototype:{validate:function(e){return null!=e&&""!==e?this._validationSucceeded():this._validationFailed()}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/MinMaxLength.js
//*******************
var e=require("../../Aria"),t=require("./Validator"),i=require("../String");module.exports=e.classDefinition({$classpath:"aria.utils.validators.MinMaxLength",$extends:t,$constructor:function(e,t,r){this.minLength=e,this.maxLength=t,(isNaN(parseInt(this.minLength,10))||isNaN(parseInt(this.maxLength,10)))&&this.$logError(this.MISSING_MIN_MAX_VALUES);var n=[this.minLength,this.maxLength];r=r?r:i.substitute(this.DEFAULT_LOCALIZED_MESSAGE,n),this.$Validator.constructor.call(this,r)},$destructor:function(){this.minLength=null,this.maxLength=null,this.$Validator.$destructor.call(this)},$statics:{DEFAULT_LOCALIZED_MESSAGE:"The value must be more than %1 and less than %2 characters long.",MISSING_MIN_MAX_VALUES:"There was a problem loading the MinMaxLength validator, MIN and MAX values must be passed into the validators constructor."},$prototype:{validate:function(e){return null==e||""===e?this._validationSucceeded():e.length<this.minLength||e.length>this.maxLength?this._validationFailed():this._validationSucceeded()}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/MultipleValidator.js
//*******************
var e=require("../../Aria"),t=require("../Array"),i=require("../Data"),r=require("./Validator"),a=require("../Json");module.exports=e.classDefinition({$classpath:"aria.utils.validators.MultipleValidator",$extends:r,$constructor:function(e,t,r){this.$Validator.constructor.call(this,e),this.validators=[],this.breakOnMessage=!1,this.groupMessages=null!=e,this.groups=null!=t?t:[],this.eventToValidate=null!=r?r:"onsubmit",this.dataUtils=i},$destructor:function(){this.breakOnError=null,this.groupMessages=null,this.validators=null,this.$Validator.$destructor.call(this)},$prototype:{validate:function(e,t,i){var r=this.validators;if(r.length){for(var n,s=!1,o=0;o<r.length;o++)if(s=this.dataUtils.checkGroup(r[o].groups,t),s&&this.dataUtils.checkEventToValidate(r[o].eventToValidate,i)){var l=r[o].validate(e,t,i);if(l&&l.length>0&&(n=null==n?l:n.concat(l),this.breakOnMessage))break}if(n&&n.length>0){if(this.groupMessages){var u=a.copy(this.message);return u.subMessages=n,[u]}return n}return null}},add:function(){for(var e,t=0;e=arguments[t];t++)e.validator&&(e.groups||e.event)&&this.dataUtils.setValidatorProperties(e.validator,e.groups,e.event),this.validators[this.validators.length]=e.validator?e.validator:e},remove:function(){for(var e,i=t,r=0;e=arguments[r];r++)i.remove(this.validators,e)}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/Number.js
//*******************
var e=require("../../Aria"),t=require("./RegExp");module.exports=e.classDefinition({$classpath:"aria.utils.validators.Number",$extends:t,$constructor:function(e){this.$RegExp.constructor.call(this,this.NUM_REGEXP,e)},$statics:{NUM_REGEXP:/^-?[0-9]+([\.,][0-9]+)?$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid NUM string."},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/utils/validators/Object.js
//*******************
var e=require("../../Aria"),t=require("../Type"),i=require("./Validator");module.exports=e.classDefinition({$classpath:"aria.utils.validators.Object",$extends:i,$prototype:{validate:function(e){return null===e||t.isObject(e)?this._validationSucceeded():this._validationFailed()}}});
//*******************
//LOGICAL-PATH:aria/utils/validators/Phone.js
//*******************
var e=require("../../Aria"),t=require("./RegExp");module.exports=e.classDefinition({$classpath:"aria.utils.validators.Phone",$extends:t,$constructor:function(e){this.$RegExp.constructor.call(this,this.PHONE_REGEXP,e)},$statics:{PHONE_REGEXP:/^[A-Za-z0-9 \-\+\(\)]{2,30}$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid PHONE string."},$prototype:{}});
//*******************
//LOGICAL-PATH:aria/utils/validators/String.js
//*******************
var e=require("../../Aria"),t=require("./RegExp");module.exports=e.classDefinition({$classpath:"aria.utils.validators.String",$extends:t,$constructor:function(e){this.$RegExp.constructor.call(this,this.STRING_REGEXP,e)},$statics:{STRING_REGEXP:/^[A-Za-z \-\,\.\'\?\!\:\%\+\=\_\@\;\#\*\(\)<>\[\]\/\"]*$/,DEFAULT_LOCALIZED_MESSAGE:"Invalid string."},$prototype:{}});